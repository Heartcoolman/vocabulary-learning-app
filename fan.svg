<svg id="fanSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 800" width="600" height="800" class="speed0" role="img" aria-label="电风扇">
  <defs>
    <radialGradient id="bgGlow" cx="50%" cy="20%" r="80%">
      <stop offset="0%" stop-color="#f7fbff"/>
      <stop offset="55%" stop-color="#e7eef6"/>
      <stop offset="100%" stop-color="#d7e0ea"/>
    </radialGradient>

    <linearGradient id="metal" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#f9fbfd"/>
      <stop offset="0.35" stop-color="#d2d8de"/>
      <stop offset="0.7" stop-color="#9aa3ad"/>
      <stop offset="1" stop-color="#f1f4f7"/>
    </linearGradient>

    <linearGradient id="metalDark" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#8d97a1"/>
      <stop offset="0.55" stop-color="#c6cdd4"/>
      <stop offset="1" stop-color="#f2f4f7"/>
    </linearGradient>

    <linearGradient id="baseGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#ffffff"/>
      <stop offset="0.55" stop-color="#e6edf2"/>
      <stop offset="1" stop-color="#c8d1d9"/>
    </linearGradient>

    <linearGradient id="bladeGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#d7f6ff" stop-opacity="0.98"/>
      <stop offset="0.5" stop-color="#85cfe9" stop-opacity="0.9"/>
      <stop offset="1" stop-color="#3a8ab7" stop-opacity="0.98"/>
    </linearGradient>

    <radialGradient id="hubGrad" cx="40%" cy="35%" r="65%">
      <stop offset="0" stop-color="#ffffff"/>
      <stop offset="0.6" stop-color="#d1d7dd"/>
      <stop offset="1" stop-color="#8f98a1"/>
    </radialGradient>

    <radialGradient id="motorGrad" cx="35%" cy="30%" r="70%">
      <stop offset="0" stop-color="#f7f9fb"/>
      <stop offset="0.55" stop-color="#cbd2d8"/>
      <stop offset="1" stop-color="#9aa3ad"/>
    </radialGradient>

    <filter id="softShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="10" stdDeviation="12" flood-color="#000" flood-opacity="0.25"/>
    </filter>

    <filter id="blurShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="10"/>
    </filter>

    <filter id="motionBlurLow">
      <feGaussianBlur stdDeviation="0.5"/>
    </filter>
    <filter id="motionBlurMed">
      <feGaussianBlur stdDeviation="1.3"/>
    </filter>
    <filter id="motionBlurHigh">
      <feGaussianBlur stdDeviation="2.2"/>
    </filter>

    <g id="bladeShape">
      <path class="bladeMain" d="M28 0 C 58 -30 112 -36 126 -8 C 140 20 118 62 80 68 C 50 72 18 48 12 20 Z"/>
      <path class="bladeHighlight" d="M30 2 C 50 -14 88 -16 104 -4 C 118 9 104 33 82 36 C 60 39 36 26 30 14 Z"/>
    </g>

    <g id="spokeLine">
      <line x1="0" y1="38" x2="0" y2="148"/>
    </g>
  </defs>

  <style>
    .bladeMain { fill: url(#bladeGrad); stroke: #0b3e53; stroke-opacity: .25; stroke-width: 1; }
    .bladeHighlight { fill: #ffffff; opacity: .18; }

    #blades {
      transform-origin: 300px 250px;
      animation: spin 1.8s linear infinite;
      animation-play-state: paused;
    }
    #head {
      transform-origin: 300px 410px;
      animation: oscillate 5s ease-in-out infinite;
      animation-play-state: paused;
    }
    #air { opacity: 0; transition: opacity .3s ease; }

    svg.speed1 #blades { animation-duration: 1.8s; animation-play-state: running; filter: url(#motionBlurLow); }
    svg.speed2 #blades { animation-duration: 1.0s; animation-play-state: running; filter: url(#motionBlurMed); }
    svg.speed3 #blades { animation-duration: 0.6s; animation-play-state: running; filter: url(#motionBlurHigh); }

    svg.speed1 #head, svg.speed2 #head, svg.speed3 #head { animation-play-state: running; }
    svg.speed1 #air, svg.speed2 #air, svg.speed3 #air { opacity: .9; }

    #powerButton, #speedButton { cursor: pointer; }
    svg.speed0 #powerButton { fill: #2f343a; }
    svg.speed1 #powerButton, svg.speed2 #powerButton, svg.speed3 #powerButton { fill: #1fc35a; }

    @keyframes spin { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }
    @keyframes oscillate {
      0% { transform: rotate(-18deg); }
      50% { transform: rotate(18deg); }
      100% { transform: rotate(-18deg); }
    }
  </style>

  <rect width="600" height="800" fill="url(#bgGlow)"/>

  <ellipse cx="300" cy="742" rx="200" ry="38" fill="#000" opacity=".12" filter="url(#blurShadow)"/>

  <!-- 立柱 -->
  <rect x="288" y="420" width="24" height="250" rx="12" fill="url(#metal)" stroke="#88919a" stroke-width="1.5"/>
  <rect x="294" y="430" width="12" height="230" rx="6" fill="#ffffff" opacity=".55"/>

  <!-- 关节 -->
  <g>
    <circle cx="300" cy="410" r="20" fill="url(#metalDark)" stroke="#6d7782" stroke-width="1.5"/>
    <circle cx="300" cy="410" r="9" fill="#eef2f6" stroke="#9aa3ad" stroke-width="1"/>
  </g>

  <!-- 机头 -->
  <g id="head">
    <!-- 颈部 -->
    <rect x="292" y="325" width="16" height="85" rx="8" fill="url(#metal)" stroke="#88919a" stroke-width="1.2"/>
    <rect x="295" y="332" width="10" height="70" rx="5" fill="#ffffff" opacity=".5"/>

    <!-- 电机壳 -->
    <circle cx="300" cy="250" r="80" fill="url(#motorGrad)" stroke="#7d8791" stroke-width="2" filter="url(#softShadow)"/>

    <!-- 叶片 -->
    <g id="blades">
      <use href="#bladeShape" transform="translate(300 250) rotate(0)"/>
      <use href="#bladeShape" transform="translate(300 250) rotate(120)"/>
      <use href="#bladeShape" transform="translate(300 250) rotate(240)"/>
    </g>

    <!-- 中心轮毂 -->
    <g transform="translate(300 250)">
      <circle r="34" fill="url(#hubGrad)" stroke="#7c868f" stroke-width="2"/>
      <circle r="11" fill="#eef2f6" stroke="#a0a8b1" stroke-width="1"/>
      <g fill="#7e8892">
        <circle cx="0" cy="-18" r="2.6"/>
        <circle cx="15.6" cy="9" r="2.6"/>
        <circle cx="-15.6" cy="9" r="2.6"/>
      </g>
    </g>

    <!-- 防护网 -->
    <g transform="translate(300 250)">
      <circle r="160" fill="none" stroke="url(#metalDark)" stroke-width="18"/>
      <circle r="142" fill="none" stroke="#f6f8fa" stroke-width="2" opacity=".9"/>
      <circle r="118" fill="none" stroke="#b7c0c9" stroke-width="2" opacity=".8"/>

      <g stroke="#a6afb8" stroke-width="1.6" fill="none" opacity=".9">
        <circle r="52"/><circle r="70"/><circle r="88"/><circle r="106"/><circle r="124"/><circle r="142"/>
      </g>

      <g stroke="#a2abb4" stroke-width="2" opacity=".9">
        <use href="#spokeLine" transform="rotate(0)"/>
        <use href="#spokeLine" transform="rotate(30)"/>
        <use href="#spokeLine" transform="rotate(60)"/>
        <use href="#spokeLine" transform="rotate(90)"/>
        <use href="#spokeLine" transform="rotate(120)"/>
        <use href="#spokeLine" transform="rotate(150)"/>
        <use href="#spokeLine" transform="rotate(180)"/>
        <use href="#spokeLine" transform="rotate(210)"/>
        <use href="#spokeLine" transform="rotate(240)"/>
        <use href="#spokeLine" transform="rotate(270)"/>
        <use href="#spokeLine" transform="rotate(300)"/>
        <use href="#spokeLine" transform="rotate(330)"/>
      </g>

      <!-- 网罩高光 -->
      <path d="M-120 -110 A165 165 0 0 1 100 -150" fill="none" stroke="#ffffff" stroke-width="6" opacity=".25" stroke-linecap="round"/>
    </g>

    <!-- 风流线 -->
    <g id="air" stroke="#ffffff" stroke-width="3" fill="none" opacity=".9" filter="url(#blurShadow)">
      <path d="M455 225 C505 205 520 250 555 230" opacity=".35"/>
      <path d="M455 260 C515 240 525 290 565 270" opacity=".3"/>
      <path d="M448 295 C510 280 525 330 568 312" opacity=".25"/>
    </g>
  </g>

  <!-- 底座 -->
  <g id="base" filter="url(#softShadow)">
    <ellipse cx="300" cy="720" rx="190" ry="50" fill="url(#baseGrad)"/>
    <ellipse cx="300" cy="707" rx="175" ry="38" fill="#fbfdff" opacity=".95"/>
    <ellipse cx="300" cy="720" rx="190" ry="50" fill="none" stroke="#aab4be" stroke-width="2"/>
    <ellipse cx="300" cy="730" rx="165" ry="30" fill="#c9d2da" opacity=".55"/>
  </g>

  <!-- 控制面板 -->
  <g id="panel" transform="translate(215 685)">
    <rect x="0" y="0" width="170" height="76" rx="14" fill="#e9eef3" stroke="#aab4be" stroke-width="1.5"/>
    <rect x="8" y="8" width="154" height="60" rx="10" fill="#f7f9fb" opacity=".9"/>

    <!-- 电源按钮 -->
    <g transform="translate(28 38)">
      <circle id="powerButton" r="19" fill="#2f343a" stroke="#0d0f11" stroke-width="2"/>
      <circle r="13" fill="#0a0c0e" opacity=".5"/>
      <path d="M0 -9 V3" stroke="#ffffff" stroke-width="3" stroke-linecap="round"/>
      <path d="M-7 -1 A9 9 0 1 0 7 -1" fill="none" stroke="#ffffff" stroke-width="3" stroke-linecap="round"/>
    </g>

    <!-- 风速按钮 -->
    <g transform="translate(90 38)">
      <circle id="speedButton" r="17" fill="#e2e7ec" stroke="#8d97a1" stroke-width="2"/>
      <circle r="11" fill="#ffffff" opacity=".8"/>
      <path d="M-7 0 H7" stroke="#51606e" stroke-width="2" stroke-linecap="round"/>
      <path d="M0 -7 V7" stroke="#51606e" stroke-width="2" stroke-linecap="round" opacity=".6"/>
    </g>

    <!-- 指示灯 -->
    <g transform="translate(140 24)">
      <circle id="led1" cx="0" cy="0" r="5.5" fill="#63707b" opacity=".35"/>
      <circle id="led2" cx="0" cy="14" r="5.5" fill="#63707b" opacity=".35"/>
      <circle id="led3" cx="0" cy="28" r="5.5" fill="#63707b" opacity=".35"/>
    </g>

    <text id="speedText" x="112" y="67" text-anchor="middle" font-size="12" font-family="system-ui, sans-serif" fill="#4b5560">OFF</text>
  </g>

  <script><![CDATA[
    (function () {
      const svg = document.getElementById('fanSvg');
      const powerBtn = document.getElementById('powerButton');
      const speedBtn = document.getElementById('speedButton');
      const speedText = document.getElementById('speedText');
      const leds = [
        document.getElementById('led1'),
        document.getElementById('led2'),
        document.getElementById('led3')
      ];

      let speed = 0;

      function applySpeed() {
        svg.setAttribute('class', 'speed' + speed);
        speedText.textContent = speed === 0 ? 'OFF' : ('风速 ' + speed);
        leds.forEach((led, i) => {
          const on = speed >= (i + 1);
          led.setAttribute('fill', on ? '#52ff8b' : '#63707b');
          led.setAttribute('opacity', on ? '1' : '0.35');
        });
      }

      powerBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        speed = speed === 0 ? 1 : 0;
        applySpeed();
      });

      speedBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        speed = (speed + 1) % 4;
        applySpeed();
      });

      applySpeed();
    })();
  ]]></script>
</svg>
