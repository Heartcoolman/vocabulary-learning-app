
> vocab-learning-backend@1.0.0 test:integration
> cross-env NODE_ENV=test vitest run --dir tests/integration --no-file-parallelism --reporter=verbose --run


[1m[46m RUN [49m[22m [36mv4.0.13 [39m[90mE:/danci/backend[39m

[90mstdout[2m | tests/integration/amas.integration.test.ts
[22m[39m[AMAS Service] åˆå§‹åŒ–å®Œæˆ
AMAS Feature Flags:
  Enabled (10): TrendAnalyzer, HeuristicBaseline, ThompsonSampling, ACTRMemory, ColdStartManager, Ensemble, UserParamsManager, DelayedRewardAggregator, CausalInference, BayesianOptimizer
  Disabled (2): ABTestEngine, OfflineReplay

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=4503cdea-8ad5-4dec-8a64-3e0b1af76fed, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410099824}
[Telemetry] amas.decision.latency = 230 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=4503cdea-8ad5-4dec-8a64-3e0b1af76fed, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=4503cdea-8ad5-4dec-8a64-3e0b1af76fed

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.75[39m,
    new_ratio: [33m0.15000000000000002[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m7[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.60'[39m, F: [32m'0.06'[39m, M: [32m'0.30'[39m },
  reward: [32m'0.614'[39m,
  explanation: [32m'æ£€æµ‹åˆ°çŠ¶æ€ç¨³å®šã€‚å·²æ–°è¯æ¯”ä¾‹ä»20%é™è‡³15%ï¼Œæ‰¹é‡ä»8é™è‡³7ï¼Œå¢åŠ æç¤ºè‡³2çº§ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­25%ï¼Œéš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=LEARNING, totalScore=99, reviewCount=1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.614, dueTs=2025-12-03T03:54:59.409Z, sessionId=4503cdea-8ad5-4dec-8a64-3e0b1af76fed

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=ad08915a-08fb-4b52-9f21-57b2d747076e, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410100506}
[Telemetry] amas.decision.latency = 88 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=ad08915a-08fb-4b52-9f21-57b2d747076e, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=ad08915a-08fb-4b52-9f21-57b2d747076e

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m8[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.52'[39m, F: [32m'0.05'[39m, M: [32m'0.55'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°çŠ¶æ€ç¨³å®šã€‚å·²æ–°è¯æ¯”ä¾‹ä»15%é™è‡³10%ï¼Œæ‰¹é‡ä»7æå‡è‡³8ï¼Œå¤ä¹ é—´éš”å»¶é•¿13%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=REVIEWING, totalScore=99, reviewCount=2

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-03T18:55:00.240Z, sessionId=ad08915a-08fb-4b52-9f21-57b2d747076e

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=73ab74f7-6cb0-4ce1-b07b-2c7cc1eafb99, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410100983}
[Telemetry] amas.decision.latency = 71 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=73ab74f7-6cb0-4ce1-b07b-2c7cc1eafb99, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=73ab74f7-6cb0-4ce1-b07b-2c7cc1eafb99

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1.0375[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m10[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.45'[39m, F: [32m'0.05'[39m, M: [32m'0.77'[39m },
  reward: [32m'0.642'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™55%ã€‚å·²æ‰¹é‡ä»8æå‡è‡³10ï¼Œé™ä½æç¤ºè‡³1çº§ï¼Œå¤ä¹ é—´éš”å»¶é•¿16%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=REVIEWING, totalScore=98, reviewCount=3

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.642, dueTs=2025-12-04T14:25:00.799Z, sessionId=73ab74f7-6cb0-4ce1-b07b-2c7cc1eafb99

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=0abb96c0-04ad-4666-b237-afb630868dfb, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410101339}
[Telemetry] amas.decision.latency = 65 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=0abb96c0-04ad-4666-b237-afb630868dfb, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=0abb96c0-04ad-4666-b237-afb630868dfb

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1.26875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m13[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.40'[39m, F: [32m'0.05'[39m, M: [32m'0.96'[39m },
  reward: [32m'0.685'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™60%ã€‚å·²æ‰¹é‡ä»10æå‡è‡³13ï¼Œå¤ä¹ é—´éš”å»¶é•¿23%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=REVIEWING, totalScore=98, reviewCount=4

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.685, dueTs=2025-12-05T18:10:01.163Z, sessionId=0abb96c0-04ad-4666-b237-afb630868dfb

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=76a6e14b-f59f-42f8-a727-2450f05a3437, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410101684}
[Telemetry] amas.decision.latency = 64 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=76a6e14b-f59f-42f8-a727-2450f05a3437, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=76a6e14b-f59f-42f8-a727-2450f05a3437

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.884375[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m11[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.39'[39m, F: [32m'0.43'[39m, M: [32m'0.41'[39m },
  reward: [32m'-0.628'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º95%ï¼Œç¨³å®šæ€§æ³¢åŠ¨62%ï¼Œæ³¨æ„åŠ›ä¸‹é™61%ã€‚å·²æ‰¹é‡ä»13é™è‡³11ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­38%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=60, reviewCount=5

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.628, dueTs=2025-11-30T07:08:31.506Z, sessionId=76a6e14b-f59f-42f8-a727-2450f05a3437

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=69b47adf-5f67-47c5-9c84-102563a4f8cd, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410102242}
[Telemetry] amas.decision.latency = 132 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=69b47adf-5f67-47c5-9c84-102563a4f8cd, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=69b47adf-5f67-47c5-9c84-102563a4f8cd

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m8[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.38'[39m, F: [32m'0.76'[39m, M: [32m'-0.05'[39m },
  reward: [32m'-1.000'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º94%ï¼Œç¨³å®šæ€§æ³¢åŠ¨84%ï¼Œç–²åŠ³åº¦è¾ƒé«˜76%ã€‚å·²æ‰¹é‡ä»11é™è‡³8ï¼Œå¢åŠ æç¤ºè‡³2çº§ï¼Œå¤ä¹ é—´éš”å»¶é•¿12%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=0, state=LEARNING, totalScore=49, reviewCount=6

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-1.000, dueTs=2025-11-30T09:55:01.918Z, sessionId=69b47adf-5f67-47c5-9c84-102563a4f8cd

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=e118f655-2226-4e64-b8a6-c8f3f8473c51, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410103234}
[Telemetry] amas.decision.latency = 159 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=e118f655-2226-4e64-b8a6-c8f3f8473c51, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=e118f655-2226-4e64-b8a6-c8f3f8473c51

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m7[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.35'[39m, F: [32m'0.75'[39m, M: [32m'0.26'[39m },
  reward: [32m'0.387'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨77%ï¼Œç–²åŠ³åº¦è¾ƒé«˜75%ï¼Œæ³¨æ„åŠ›ä¸‹é™65%ã€‚å·²æ‰¹é‡ä»8é™è‡³7ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=71, reviewCount=7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.387, dueTs=2025-12-02T09:55:02.589Z, sessionId=e118f655-2226-4e64-b8a6-c8f3f8473c51

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=d2bfcc4c-00a3-48df-9124-1ad6f2d48a04, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410104660}
[Telemetry] amas.decision.latency = 75 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] processLearningEvent: sessionId=d2bfcc4c-00a3-48df-9124-1ad6f2d48a04, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=d2bfcc4c-00a3-48df-9124-1ad6f2d48a04

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.33'[39m, F: [32m'0.74'[39m, M: [32m'0.52'[39m },
  reward: [32m'0.411'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜74%ï¼Œç¨³å®šæ€§æ³¢åŠ¨71%ï¼Œæ³¨æ„åŠ›ä¸‹é™67%ã€‚å·²æ‰¹é‡ä»7é™è‡³6ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=73, reviewCount=8

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould process a complete learning session
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.411, dueTs=2025-12-02T09:55:04.376Z, sessionId=d2bfcc4c-00a3-48df-9124-1ad6f2d48a04

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mComplete Learning Flow[2m > [22mshould process a complete learning session[33m 5504[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=10b1c718-fede-4b9f-8c89-6200f98915c1, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410105062}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=10b1c718-fede-4b9f-8c89-6200f98915c1, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=10b1c718-fede-4b9f-8c89-6200f98915c1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.30'[39m, F: [32m'0.71'[39m, M: [32m'0.74'[39m },
  reward: [32m'0.478'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜71%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™70%ï¼Œç¨³å®šæ€§æ³¢åŠ¨66%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=75, reviewCount=9

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.478, dueTs=2025-12-03T09:55:04.887Z, sessionId=10b1c718-fede-4b9f-8c89-6200f98915c1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, timeEvents=10, preferredSlots=17,0,1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=feca316d-2f06-4891-a68a-7a9cdfe48b65, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410105405}
[Telemetry] amas.decision.latency = 64 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=feca316d-2f06-4891-a68a-7a9cdfe48b65, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=feca316d-2f06-4891-a68a-7a9cdfe48b65

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.28'[39m, F: [32m'0.69'[39m, M: [32m'0.93'[39m },
  reward: [32m'0.463'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™72%ï¼Œç–²åŠ³åº¦è¾ƒé«˜69%ï¼Œç¨³å®šæ€§æ³¢åŠ¨61%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=77, reviewCount=10

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.463, dueTs=2025-12-03T09:55:05.228Z, sessionId=feca316d-2f06-4891-a68a-7a9cdfe48b65

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=ee1c7a97-2ef1-490e-8434-aa2e4f7416d9, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410105744}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=ee1c7a97-2ef1-490e-8434-aa2e4f7416d9, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=ee1c7a97-2ef1-490e-8434-aa2e4f7416d9

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.26'[39m, F: [32m'0.66'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.493'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™74%ï¼Œç–²åŠ³åº¦è¾ƒé«˜66%ï¼Œç¨³å®šæ€§æ³¢åŠ¨58%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=78, reviewCount=11

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.493, dueTs=2025-12-03T09:55:05.571Z, sessionId=ee1c7a97-2ef1-490e-8434-aa2e4f7416d9

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=f7777a45-0464-486e-93c1-6fe181abc13c, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410106084}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=f7777a45-0464-486e-93c1-6fe181abc13c, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=f7777a45-0464-486e-93c1-6fe181abc13c

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.25'[39m, F: [32m'0.64'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.453'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™75%ï¼Œç–²åŠ³åº¦è¾ƒé«˜64%ï¼Œç¨³å®šæ€§æ³¢åŠ¨54%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=79, reviewCount=12

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.453, dueTs=2025-12-03T09:55:05.909Z, sessionId=f7777a45-0464-486e-93c1-6fe181abc13c

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=70c78844-738f-494f-874e-9c3483aeece0, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410106423}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=70c78844-738f-494f-874e-9c3483aeece0, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=70c78844-738f-494f-874e-9c3483aeece0

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.24'[39m, F: [32m'0.61'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.465'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™76%ï¼Œç–²åŠ³åº¦è¾ƒé«˜61%ï¼Œç¨³å®šæ€§æ³¢åŠ¨52%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=80, reviewCount=13

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.465, dueTs=2025-12-03T09:55:06.246Z, sessionId=70c78844-738f-494f-874e-9c3483aeece0

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=c407dc2b-554a-4d54-b59f-42aaf86a70dc, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410106810}
[Telemetry] amas.decision.latency = 91 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=c407dc2b-554a-4d54-b59f-42aaf86a70dc, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=c407dc2b-554a-4d54-b59f-42aaf86a70dc

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.23'[39m, F: [32m'0.58'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.490'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™77%ï¼Œç–²åŠ³åº¦ä¸­ç­‰58%ã€‚å·²å¤ä¹ é—´éš”ç¼©çŸ­10%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=81, reviewCount=14

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.490, dueTs=2025-12-03T00:19:06.594Z, sessionId=c407dc2b-554a-4d54-b59f-42aaf86a70dc

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=49a1e1e0-961f-44f2-859c-891866f43a16, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410107508}
[Telemetry] amas.decision.latency = 170 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=49a1e1e0-961f-44f2-859c-891866f43a16, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=49a1e1e0-961f-44f2-859c-891866f43a16

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.8500000000000001[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.23'[39m, F: [32m'0.55'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.508'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™77%ï¼Œç–²åŠ³åº¦ä¸­ç­‰55%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=81, reviewCount=15

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.508, dueTs=2025-12-02T19:31:07.112Z, sessionId=49a1e1e0-961f-44f2-859c-891866f43a16

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=abdaae3c-5a40-485b-8de4-8cc298d30e97, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410108830}
[Telemetry] amas.decision.latency = 165 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=abdaae3c-5a40-485b-8de4-8cc298d30e97, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=abdaae3c-5a40-485b-8de4-8cc298d30e97

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.8250000000000001[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.22'[39m, F: [32m'0.52'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.483'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™78%ï¼Œç–²åŠ³åº¦ä¸­ç­‰52%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=82, reviewCount=16

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.483, dueTs=2025-12-02T17:07:07.907Z, sessionId=abdaae3c-5a40-485b-8de4-8cc298d30e97

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=da636c68-9fe7-4918-8f9d-09a12a479ab2, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410109722}
[Telemetry] amas.decision.latency = 70 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=da636c68-9fe7-4918-8f9d-09a12a479ab2, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=da636c68-9fe7-4918-8f9d-09a12a479ab2

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.8125[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.22'[39m, F: [32m'0.49'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.501'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™78%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=82, reviewCount=17

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.501, dueTs=2025-12-02T15:55:09.539Z, sessionId=da636c68-9fe7-4918-8f9d-09a12a479ab2

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=30923428-a592-48f3-bd30-4cb3642491dd, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410110080}
[Telemetry] amas.decision.latency = 80 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] processLearningEvent: sessionId=30923428-a592-48f3-bd30-4cb3642491dd, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=30923428-a592-48f3-bd30-4cb3642491dd

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.80625[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.21'[39m, F: [32m'0.45'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.528'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™79%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=83, reviewCount=18

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould adapt strategy based on performance
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.528, dueTs=2025-12-02T15:19:09.888Z, sessionId=30923428-a592-48f3-bd30-4cb3642491dd

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mComplete Learning Flow[2m > [22mshould adapt strategy based on performance[33m 5375[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=1a5ac18c-3c03-4e76-8402-b29479c8b7fe, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410110437}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS] processLearningEvent: sessionId=1a5ac18c-3c03-4e76-8402-b29479c8b7fe, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=1a5ac18c-3c03-4e76-8402-b29479c8b7fe

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.30'[39m, F: [32m'0.89'[39m, M: [32m'0.45'[39m },
  reward: [32m'-0.835'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜89%ï¼Œè®°å¿†åŠ›éœ€å·©å›º81%ï¼Œæ³¨æ„åŠ›ä¸‹é™70%ã€‚å·²æ‰¹é‡ä»6é™è‡³5ï¼Œå¤ä¹ é—´éš”å»¶é•¿19%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=60, reviewCount=19

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mComplete Learning Flow[2m > [22m[2mshould detect fatigue and suggest break
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.835, dueTs=2025-11-30T09:55:10.262Z, sessionId=1a5ac18c-3c03-4e76-8402-b29479c8b7fe

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mComplete Learning Flow[2m > [22mshould detect fatigue and suggest break[33m 356[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:10.590Z","app":"danci-backend","env":"test","path":"/process","hasAuth":false,"msg":"[Auth] æœªæä¾›è®¤è¯ä»¤ç‰Œ"}
{"level":"warn","time":"2025-11-29T09:55:10.593Z","app":"danci-backend","env":"test","request":{"id":"fe61b136-6685-490a-a279-c77fe42c3be9","method":"POST","url":"/api/amas/process","query":{},"params":{},"headers":{"host":"127.0.0.1:62878","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"86","connection":"close"}},"requestId":"fe61b136-6685-490a-a279-c77fe42c3be9","userId":null,"response":{"statusCode":null},"duration":2,"msg":"POST /process 401"}
{"level":"warn","time":"2025-11-29T09:55:10.623Z","app":"danci-backend","env":"test","request":{"id":"de81e39f-f9a0-49cc-a6c8-ff5c70bf94fd","method":"POST","url":"/api/amas/process","query":{},"params":{},"headers":{"host":"127.0.0.1:62880","accept-encoding":"gzip, deflate","authorization":"[REDACTED]","content-type":"application/json","content-length":"38","connection":"close"}},"requestId":"de81e39f-f9a0-49cc-a6c8-ff5c70bf94fd","userId":null,"requestId":"de81e39f-f9a0-49cc-a6c8-ff5c70bf94fd","userId":"e5ffac88-7ea8-494e-9e7f-e995bfb78a95","response":{"statusCode":null},"duration":26,"msg":"POST /process 400"}
{"level":"warn","time":"2025-11-29T09:55:10.656Z","app":"danci-backend","env":"test","request":{"id":"61c9616a-c3e0-4a87-9396-6a336559a87a","method":"POST","url":"/api/amas/process","query":{},"params":{},"headers":{"host":"127.0.0.1:62884","accept-encoding":"gzip, deflate","authorization":"[REDACTED]","content-type":"application/json","content-length":"87","connection":"close"}},"requestId":"61c9616a-c3e0-4a87-9396-6a336559a87a","userId":null,"requestId":"61c9616a-c3e0-4a87-9396-6a336559a87a","userId":"e5ffac88-7ea8-494e-9e7f-e995bfb78a95","response":{"statusCode":null},"duration":29,"msg":"POST /process 400"}
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, timeEvents=20, preferredSlots=17,0,1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=f042a4ff-24f4-44ab-9170-183c9f6f5075, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410110866}
[Telemetry] amas.decision.latency = 64 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] processLearningEvent: sessionId=f042a4ff-24f4-44ab-9170-183c9f6f5075, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=f042a4ff-24f4-44ab-9170-183c9f6f5075

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.29'[39m, F: [32m'0.88'[39m, M: [32m'0.68'[39m },
  reward: [32m'0.368'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜88%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™71%ï¼Œç¨³å®šæ€§æ³¢åŠ¨50%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=79, reviewCount=20

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.368, dueTs=2025-12-03T09:55:10.687Z, sessionId=f042a4ff-24f4-44ab-9170-183c9f6f5075

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=8615fe46-16e4-40c9-8ea5-23e16bb91ebe, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410111274}
[Telemetry] amas.decision.latency = 75 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] processLearningEvent: sessionId=8615fe46-16e4-40c9-8ea5-23e16bb91ebe, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=8615fe46-16e4-40c9-8ea5-23e16bb91ebe

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.27'[39m, F: [32m'0.88'[39m, M: [32m'0.88'[39m },
  reward: [32m'0.394'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜88%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™73%ï¼Œç¨³å®šæ€§æ³¢åŠ¨50%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=80, reviewCount=21

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould persist state across sessions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.394, dueTs=2025-12-03T09:55:11.087Z, sessionId=8615fe46-16e4-40c9-8ea5-23e16bb91ebe

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mAPI Error Handling[2m > [22mshould reject request without authentication[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mAPI Error Handling[2m > [22mshould validate required fields[32m 28[2mms[22m[39m
 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mAPI Error Handling[2m > [22mshould handle invalid response time[32m 34[2mms[22m[39m
 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mState Management[2m > [22mshould persist state across sessions[33m 827[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=b97053b7-73b2-442f-b78b-5ed48dfef369, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410111834}
[Telemetry] amas.decision.latency = 122 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] processLearningEvent: sessionId=b97053b7-73b2-442f-b78b-5ed48dfef369, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=b97053b7-73b2-442f-b78b-5ed48dfef369

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.26'[39m, F: [32m'0.87'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.372'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜87%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™74%ï¼Œç¨³å®šæ€§æ³¢åŠ¨50%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=79, reviewCount=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.372, dueTs=2025-12-03T09:55:11.517Z, sessionId=b97053b7-73b2-442f-b78b-5ed48dfef369

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=8a3ac344-1a07-4c26-8a2e-99c513dbe768, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410112556}
[Telemetry] amas.decision.latency = 147 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] processLearningEvent: sessionId=8a3ac344-1a07-4c26-8a2e-99c513dbe768, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=8a3ac344-1a07-4c26-8a2e-99c513dbe768

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.25'[39m, F: [32m'0.86'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.374'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜86%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™75%ï¼Œç¨³å®šæ€§æ³¢åŠ¨50%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=80, reviewCount=23

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.374, dueTs=2025-12-03T09:55:12.183Z, sessionId=8a3ac344-1a07-4c26-8a2e-99c513dbe768

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=91147d76-fe09-4f72-b4ca-32a61d370d54, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410113542}
[Telemetry] amas.decision.latency = 147 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] processLearningEvent: sessionId=91147d76-fe09-4f72-b4ca-32a61d370d54, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=91147d76-fe09-4f72-b4ca-32a61d370d54

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.25'[39m, F: [32m'0.86'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.376'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜86%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™75%ï¼Œç¨³å®šæ€§æ³¢åŠ¨50%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=80, reviewCount=24

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.376, dueTs=2025-12-03T09:55:12.895Z, sessionId=91147d76-fe09-4f72-b4ca-32a61d370d54

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=9271d15c-32b7-4cea-8e72-f32b39f03b98, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410114515}
[Telemetry] amas.decision.latency = 77 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] processLearningEvent: sessionId=9271d15c-32b7-4cea-8e72-f32b39f03b98, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=9271d15c-32b7-4cea-8e72-f32b39f03b98

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.24'[39m, F: [32m'0.85'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.378'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜85%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™76%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=82, reviewCount=25

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.378, dueTs=2025-12-03T09:55:14.324Z, sessionId=9271d15c-32b7-4cea-8e72-f32b39f03b98

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=239ff469-81f9-41c9-87ce-474765d8d7b2, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410114864}
[Telemetry] amas.decision.latency = 76 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] processLearningEvent: sessionId=239ff469-81f9-41c9-87ce-474765d8d7b2, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=239ff469-81f9-41c9-87ce-474765d8d7b2

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.24'[39m, F: [32m'0.85'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.380'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç–²åŠ³åº¦è¾ƒé«˜85%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™76%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=84, reviewCount=26

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mState Management[2m > [22m[2mshould reset user state successfully
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.380, dueTs=2025-12-03T09:55:14.677Z, sessionId=239ff469-81f9-41c9-87ce-474765d8d7b2

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mState Management[2m > [22mshould reset user state successfully[33m 3616[2mms[22m[39m
[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115196}
[Telemetry] amas.decision.latency = 65 

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115260}
[Telemetry] amas.decision.latency = 65 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115321}
[Telemetry] amas.decision.latency = 60 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115384}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115444}
[Telemetry] amas.decision.latency = 60 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115506}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115567}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115628}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115689}
[Telemetry] amas.decision.latency = 60 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115752}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115815}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115877}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410115940}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116002}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116065}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116128}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116189}
[Telemetry] amas.decision.latency = 61 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116252}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116316}
[Telemetry] amas.decision.latency = 64 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mBatch Processing[2m > [22m[2mshould process historical events in batch
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116377}
[Telemetry] amas.decision.latency = 61 

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mBatch Processing[2m > [22mshould process historical events in batch[33m 1278[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=8ce15d69-73a0-4819-8c9c-34a9c476282a, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410116656}
[Telemetry] amas.decision.latency = 65 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] processLearningEvent: sessionId=8ce15d69-73a0-4819-8c9c-34a9c476282a, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=8ce15d69-73a0-4819-8c9c-34a9c476282a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.75[39m,
    new_ratio: [33m0.15000000000000002[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m7[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.60'[39m, F: [32m'0.06'[39m, M: [32m'0.30'[39m },
  reward: [32m'0.615'[39m,
  explanation: [32m'æ£€æµ‹åˆ°çŠ¶æ€ç¨³å®šã€‚å·²æ–°è¯æ¯”ä¾‹ä»20%é™è‡³15%ï¼Œæ‰¹é‡ä»8é™è‡³7ï¼Œå¢åŠ æç¤ºè‡³2çº§ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­25%ï¼Œéš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=MASTERED, totalScore=91, reviewCount=27

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.615, dueTs=2025-12-03T03:55:16.478Z, sessionId=8ce15d69-73a0-4819-8c9c-34a9c476282a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=5faa9a47-62f2-43a4-ac37-0ada897a5b41, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410117008}
[Telemetry] amas.decision.latency = 64 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] processLearningEvent: sessionId=5faa9a47-62f2-43a4-ac37-0ada897a5b41, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=5faa9a47-62f2-43a4-ac37-0ada897a5b41

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m8[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.52'[39m, F: [32m'0.05'[39m, M: [32m'0.55'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°çŠ¶æ€ç¨³å®šã€‚å·²æ–°è¯æ¯”ä¾‹ä»15%é™è‡³10%ï¼Œæ‰¹é‡ä»7æå‡è‡³8ï¼Œå¤ä¹ é—´éš”å»¶é•¿13%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=MASTERED, totalScore=91, reviewCount=28

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-03T18:55:16.832Z, sessionId=5faa9a47-62f2-43a4-ac37-0ada897a5b41

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=d787bc33-1152-48a6-b31d-ca22aa935fd7, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410117531}
[Telemetry] amas.decision.latency = 125 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] processLearningEvent: sessionId=d787bc33-1152-48a6-b31d-ca22aa935fd7, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=d787bc33-1152-48a6-b31d-ca22aa935fd7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1.0375[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m10[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.46'[39m, F: [32m'0.05'[39m, M: [32m'0.77'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™54%ã€‚å·²æ‰¹é‡ä»8æå‡è‡³10ï¼Œé™ä½æç¤ºè‡³1çº§ï¼Œå¤ä¹ é—´éš”å»¶é•¿16%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=MASTERED, totalScore=91, reviewCount=29

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-04T14:25:17.227Z, sessionId=d787bc33-1152-48a6-b31d-ca22aa935fd7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, timeEvents=30, preferredSlots=17,0,1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=c84e14a2-b199-4f8a-b092-1104687fa390, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410118250}
[Telemetry] amas.decision.latency = 138 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] processLearningEvent: sessionId=c84e14a2-b199-4f8a-b092-1104687fa390, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=c84e14a2-b199-4f8a-b092-1104687fa390

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1.26875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m13[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.40'[39m, F: [32m'0.05'[39m, M: [32m'0.96'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™60%ã€‚å·²æ‰¹é‡ä»10æå‡è‡³13ï¼Œå¤ä¹ é—´éš”å»¶é•¿23%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=MASTERED, totalScore=90, reviewCount=30

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-05T18:10:17.886Z, sessionId=c84e14a2-b199-4f8a-b092-1104687fa390

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=9973ed0d-8011-4762-a7b6-7139f10d765a, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410119235}
[Telemetry] amas.decision.latency = 142 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] processLearningEvent: sessionId=9973ed0d-8011-4762-a7b6-7139f10d765a, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=9973ed0d-8011-4762-a7b6-7139f10d765a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.884375[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m11[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.36'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™64%ã€‚å·²æ‰¹é‡ä»13é™è‡³11ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­38%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=5, state=MASTERED, totalScore=90, reviewCount=31

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould be in classify phase for first 15 interactions
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-03T20:02:48.605Z, sessionId=9973ed0d-8011-4762-a7b6-7139f10d765a

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mCold Start Phases[2m > [22mshould be in classify phase for first 15 interactions[33m 3506[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=117b723b-0db3-4fca-af13-8d9b7c19e38c, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410120157}
[Telemetry] amas.decision.latency = 72 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=117b723b-0db3-4fca-af13-8d9b7c19e38c, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=117b723b-0db3-4fca-af13-8d9b7c19e38c

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.75[39m,
    new_ratio: [33m0.15000000000000002[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m7[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.60'[39m, F: [32m'0.08'[39m, M: [32m'-0.40'[39m },
  reward: [32m'-0.791'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º99%ï¼ŒåŠ¨æœºåä½40%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»20%é™è‡³15%ï¼Œæ‰¹é‡ä»8é™è‡³7ï¼Œå¢åŠ æç¤ºè‡³2çº§ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­25%ï¼Œéš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=68, reviewCount=32

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.791, dueTs=2025-11-30T03:55:19.973Z, sessionId=117b723b-0db3-4fca-af13-8d9b7c19e38c

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=5758f323-7b45-453e-805c-e502f1200516, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410120565}
[Telemetry] amas.decision.latency = 74 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=5758f323-7b45-453e-805c-e502f1200516, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=5758f323-7b45-453e-805c-e502f1200516

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.52'[39m, F: [32m'0.07'[39m, M: [32m'-0.74'[39m },
  reward: [32m'-0.787'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º98%ï¼ŒåŠ¨æœºåä½74%ï¼Œç¨³å®šæ€§æ³¢åŠ¨51%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»15%é™è‡³10%ï¼Œæ‰¹é‡ä»7é™è‡³5ï¼Œå¤ä¹ é—´éš”å»¶é•¿13%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=64, reviewCount=33

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.787, dueTs=2025-11-30T06:55:20.365Z, sessionId=5758f323-7b45-453e-805c-e502f1200516

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=69f65546-2f0b-4f59-80af-5fdca9d8fcdc, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410120935}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=69f65546-2f0b-4f59-80af-5fdca9d8fcdc, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=69f65546-2f0b-4f59-80af-5fdca9d8fcdc

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1.0375[39m,
    new_ratio: [33m0.2[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m9[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.46'[39m, F: [32m'0.05'[39m, M: [32m'-0.33'[39m },
  reward: [32m'0.218'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™54%ï¼Œç¨³å®šæ€§æ³¢åŠ¨51%ï¼ŒåŠ¨æœºåä½33%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»10%å‡è‡³20%ï¼Œæ‰¹é‡ä»5æå‡è‡³9ï¼Œé™ä½æç¤ºè‡³1çº§ï¼Œå¤ä¹ é—´éš”å»¶é•¿16%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=83, reviewCount=34

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.218, dueTs=2025-12-03T13:31:20.758Z, sessionId=69f65546-2f0b-4f59-80af-5fdca9d8fcdc

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=ec18b4ec-64eb-477b-8a7c-0e277374155d, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410121316}
[Telemetry] amas.decision.latency = 64 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=ec18b4ec-64eb-477b-8a7c-0e277374155d, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=ec18b4ec-64eb-477b-8a7c-0e277374155d

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m1.26875[39m,
    new_ratio: [33m0.25[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m13[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.40'[39m, F: [32m'0.05'[39m, M: [32m'0.02'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™60%ï¼Œç¨³å®šæ€§æ³¢åŠ¨51%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»20%å‡è‡³25%ï¼Œæ‰¹é‡ä»9æå‡è‡³13ï¼Œå¤ä¹ é—´éš”å»¶é•¿23%ï¼Œéš¾åº¦è°ƒæ•´ä¸ºä¸­ç­‰ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=83, reviewCount=35

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-04T11:43:21.140Z, sessionId=ec18b4ec-64eb-477b-8a7c-0e277374155d

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=19335f2c-8ed5-431b-bf53-ce0170590fc0, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410121683}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=19335f2c-8ed5-431b-bf53-ce0170590fc0, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=19335f2c-8ed5-431b-bf53-ce0170590fc0

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.884375[39m,
    new_ratio: [33m0.275[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m11[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.36'[39m, F: [32m'0.05'[39m, M: [32m'0.32'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™64%ï¼Œç¨³å®šæ€§æ³¢åŠ¨51%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»25%å‡è‡³28%ï¼Œæ‰¹é‡ä»13é™è‡³11ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­38%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=4, state=REVIEWING, totalScore=82, reviewCount=36

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T22:49:21.508Z, sessionId=19335f2c-8ed5-431b-bf53-ce0170590fc0

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=38a61f3a-8a1a-4eea-814f-475a5c8da579, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410122050}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=38a61f3a-8a1a-4eea-814f-475a5c8da579, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=38a61f3a-8a1a-4eea-814f-475a5c8da579

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9421875[39m,
    new_ratio: [33m0.23750000000000002[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m10[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.33'[39m, F: [32m'0.05'[39m, M: [32m'-0.13'[39m },
  reward: [32m'-0.782'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º94%ï¼Œæ³¨æ„åŠ›ä¸‹é™67%ï¼Œç¨³å®šæ€§æ³¢åŠ¨62%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»28%é™è‡³24%ï¼Œæ‰¹é‡ä»11é™è‡³10ï¼Œå¤ä¹ é—´éš”å»¶é•¿6%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=61, reviewCount=37

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.782, dueTs=2025-11-30T08:32:06.875Z, sessionId=38a61f3a-8a1a-4eea-814f-475a5c8da579

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=3e73c936-f0cb-4ca2-9114-b78f828776e1, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410122566}
[Telemetry] amas.decision.latency = 119 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=3e73c936-f0cb-4ca2-9114-b78f828776e1, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=3e73c936-f0cb-4ca2-9114-b78f828776e1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.97109375[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.30'[39m, F: [32m'0.05'[39m, M: [32m'-0.51'[39m },
  reward: [32m'-0.782'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º94%ï¼Œç¨³å®šæ€§æ³¢åŠ¨72%ï¼Œæ³¨æ„åŠ›ä¸‹é™70%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»24%é™è‡³10%ï¼Œæ‰¹é‡ä»10é™è‡³5ï¼Œå¢åŠ æç¤ºè‡³2çº§ï¼Œéš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=58, reviewCount=38

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.782, dueTs=2025-11-30T09:13:44.783Z, sessionId=3e73c936-f0cb-4ca2-9114-b78f828776e1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=6af63ae9-69c7-4a42-961e-7d20db3a9071, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410123318}
[Telemetry] amas.decision.latency = 151 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=6af63ae9-69c7-4a42-961e-7d20db3a9071, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=6af63ae9-69c7-4a42-961e-7d20db3a9071

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.985546875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.28'[39m, F: [32m'0.05'[39m, M: [32m'-0.83'[39m },
  reward: [32m'-0.782'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º93%ï¼ŒåŠ¨æœºåä½83%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™72%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=58, reviewCount=39

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.782, dueTs=2025-11-30T09:34:34.199Z, sessionId=6af63ae9-69c7-4a42-961e-7d20db3a9071

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, timeEvents=40, preferredSlots=17,0,1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=811c4818-cc7c-4da8-bd4e-8f571381491e, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410124545}
[Telemetry] amas.decision.latency = 160 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=811c4818-cc7c-4da8-bd4e-8f571381491e, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=811c4818-cc7c-4da8-bd4e-8f571381491e

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9927734375[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.27'[39m, F: [32m'0.05'[39m, M: [32m'-0.41'[39m },
  reward: [32m'0.218'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™73%ï¼Œç¨³å®šæ€§æ³¢åŠ¨71%ï¼ŒåŠ¨æœºåä½41%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»10%å‡è‡³15%ï¼Œæ‰¹é‡ä»5æå‡è‡³6ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=75, reviewCount=40

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.218, dueTs=2025-12-02T09:24:10.716Z, sessionId=811c4818-cc7c-4da8-bd4e-8f571381491e

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=6b50826b-9a5b-4a67-a234-4137f34f0c1b, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410125190}
[Telemetry] amas.decision.latency = 73 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=6b50826b-9a5b-4a67-a234-4137f34f0c1b, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=6b50826b-9a5b-4a67-a234-4137f34f0c1b

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.99638671875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.25'[39m, F: [32m'0.05'[39m, M: [32m'-0.05'[39m },
  reward: [32m'0.218'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™75%ï¼Œç¨³å®šæ€§æ³¢åŠ¨71%ï¼ŒåŠ¨æœºç•¥ä½5%ã€‚å·²éš¾åº¦è°ƒæ•´ä¸ºä¸­ç­‰ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=75, reviewCount=41

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.218, dueTs=2025-12-02T09:39:48.427Z, sessionId=6b50826b-9a5b-4a67-a234-4137f34f0c1b

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=5eaf4b04-536f-4cac-b74a-a77a832eb5e2, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410125556}
[Telemetry] amas.decision.latency = 60 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=5eaf4b04-536f-4cac-b74a-a77a832eb5e2, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=5eaf4b04-536f-4cac-b74a-a77a832eb5e2

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.998193359375[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.24'[39m, F: [32m'0.05'[39m, M: [32m'-0.44'[39m },
  reward: [32m'-0.782'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º90%ï¼Œç¨³å®šæ€§æ³¢åŠ¨78%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™76%ã€‚å·²éš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=56, reviewCount=42

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.782, dueTs=2025-11-30T09:52:49.290Z, sessionId=5eaf4b04-536f-4cac-b74a-a77a832eb5e2

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=f73da295-1a23-4b67-b487-1c6086cc7955, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410125938}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=f73da295-1a23-4b67-b487-1c6086cc7955, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=f73da295-1a23-4b67-b487-1c6086cc7955

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9990966796875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.23'[39m, F: [32m'0.05'[39m, M: [32m'-0.07'[39m },
  reward: [32m'0.218'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™77%ï¼Œç¨³å®šæ€§æ³¢åŠ¨77%ï¼ŒåŠ¨æœºç•¥ä½7%ã€‚å·²éš¾åº¦è°ƒæ•´ä¸ºä¸­ç­‰ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=72, reviewCount=43

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.218, dueTs=2025-12-02T09:51:31.622Z, sessionId=f73da295-1a23-4b67-b487-1c6086cc7955

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=9d65825a-1f1d-484f-8a5c-b84d1260e607, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410126317}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=9d65825a-1f1d-484f-8a5c-b84d1260e607, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=9d65825a-1f1d-484f-8a5c-b84d1260e607

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.99954833984375[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.23'[39m, F: [32m'0.05'[39m, M: [32m'-0.46'[39m },
  reward: [32m'-0.782'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º89%ï¼Œç¨³å®šæ€§æ³¢åŠ¨83%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™77%ã€‚å·²éš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=55, reviewCount=44

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.782, dueTs=2025-11-30T09:54:47.119Z, sessionId=9d65825a-1f1d-484f-8a5c-b84d1260e607

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=0b595e85-5ece-4941-9d10-d569b50fccd5, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410126716}
[Telemetry] amas.decision.latency = 82 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=0b595e85-5ece-4941-9d10-d569b50fccd5, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=0b595e85-5ece-4941-9d10-d569b50fccd5

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.999774169921875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.22'[39m, F: [32m'0.05'[39m, M: [32m'-0.09'[39m },
  reward: [32m'0.218'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨82%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™78%ï¼ŒåŠ¨æœºç•¥ä½9%ã€‚å·²éš¾åº¦è°ƒæ•´ä¸ºä¸­ç­‰ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=71, reviewCount=45

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.218, dueTs=2025-12-02T09:54:27.985Z, sessionId=0b595e85-5ece-4941-9d10-d569b50fccd5

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=8a27a553-2d3d-440b-8499-879540445af7, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410127095}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=8a27a553-2d3d-440b-8499-879540445af7, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=8a27a553-2d3d-440b-8499-879540445af7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9998870849609375[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.22'[39m, F: [32m'0.05'[39m, M: [32m'0.22'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨82%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™78%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=70, reviewCount=46

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:54:57.652Z, sessionId=8a27a553-2d3d-440b-8499-879540445af7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=4f8debbb-e6b7-4729-90d4-3fdd0105a343, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410127568}
[Telemetry] amas.decision.latency = 96 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=4f8debbb-e6b7-4729-90d4-3fdd0105a343, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=4f8debbb-e6b7-4729-90d4-3fdd0105a343

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999435424804688[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.21'[39m, F: [32m'0.05'[39m, M: [32m'0.49'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨81%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™79%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=71, reviewCount=47

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:12.672Z, sessionId=4f8debbb-e6b7-4729-90d4-3fdd0105a343

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=00044ca8-3a49-4175-a629-363195bbd92c, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410128361}
[Telemetry] amas.decision.latency = 145 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=00044ca8-3a49-4175-a629-363195bbd92c, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=00044ca8-3a49-4175-a629-363195bbd92c

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999717712402344[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.21'[39m, F: [32m'0.05'[39m, M: [32m'0.01'[39m },
  reward: [32m'-0.382'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º85%ï¼Œç¨³å®šæ€§æ³¢åŠ¨85%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™79%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=55, reviewCount=48

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.382, dueTs=2025-11-30T09:55:25.491Z, sessionId=00044ca8-3a49-4175-a629-363195bbd92c

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=805e9b63-923e-485d-85f3-439809e08e3d, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410129376}
[Telemetry] amas.decision.latency = 141 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=805e9b63-923e-485d-85f3-439809e08e3d, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=805e9b63-923e-485d-85f3-439809e08e3d

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999858856201171[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.21'[39m, F: [32m'0.05'[39m, M: [32m'0.31'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨84%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™79%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=69, reviewCount=49

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:25.337Z, sessionId=805e9b63-923e-485d-85f3-439809e08e3d

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, timeEvents=50, preferredSlots=17,0,1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=56390072-8b8e-4132-a2b7-31853789484f, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410130116}
[Telemetry] amas.decision.latency = 84 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=56390072-8b8e-4132-a2b7-31853789484f, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=56390072-8b8e-4132-a2b7-31853789484f

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999929428100586[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.21'[39m, F: [32m'0.05'[39m, M: [32m'0.57'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨84%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™79%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=69, reviewCount=50

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:28.061Z, sessionId=56390072-8b8e-4132-a2b7-31853789484f

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=6c00c065-5b64-4719-b8c9-9da9374a840a, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410130481}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=6c00c065-5b64-4719-b8c9-9da9374a840a, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=6c00c065-5b64-4719-b8c9-9da9374a840a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999964714050293[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'0.78'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°ç¨³å®šæ€§æ³¢åŠ¨84%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=69, reviewCount=51

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:29.393Z, sessionId=6c00c065-5b64-4719-b8c9-9da9374a840a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=7f1dd76c-41ba-4883-bee8-8ea480d05ddf, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410130850}
[Telemetry] amas.decision.latency = 60 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=7f1dd76c-41ba-4883-bee8-8ea480d05ddf, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=7f1dd76c-41ba-4883-bee8-8ea480d05ddf

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999982357025147[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'0.96'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=70, reviewCount=52

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:30.218Z, sessionId=7f1dd76c-41ba-4883-bee8-8ea480d05ddf

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=dca61903-6d31-4009-a44a-2386fd321a06, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410131217}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=dca61903-6d31-4009-a44a-2386fd321a06, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=dca61903-6d31-4009-a44a-2386fd321a06

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999991178512573[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'0.42'[39m },
  reward: [32m'-0.382'[39m,
  explanation: [32m'æ£€æµ‹åˆ°è®°å¿†åŠ›éœ€å·©å›º81%ï¼Œæ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=1, state=LEARNING, totalScore=56, reviewCount=53

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=-0.382, dueTs=2025-11-30T09:55:30.967Z, sessionId=dca61903-6d31-4009-a44a-2386fd321a06

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=6114a514-66c2-4529-ace3-728df3e46cf4, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410131615}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=6114a514-66c2-4529-ace3-728df3e46cf4, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=6114a514-66c2-4529-ace3-728df3e46cf4

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999995589256286[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'0.66'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=69, reviewCount=54

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:31.322Z, sessionId=6114a514-66c2-4529-ace3-728df3e46cf4

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=57bb9495-ee92-4fe3-b926-db953943ef44, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410132019}
[Telemetry] amas.decision.latency = 78 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=57bb9495-ee92-4fe3-b926-db953943ef44, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=57bb9495-ee92-4fe3-b926-db953943ef44

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999997794628144[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'0.86'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=69, reviewCount=55

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:31.763Z, sessionId=57bb9495-ee92-4fe3-b926-db953943ef44

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=15c9393d-b5d2-4455-994a-bf3993a82a51, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410132633}
[Telemetry] amas.decision.latency = 160 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=15c9393d-b5d2-4455-994a-bf3993a82a51, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=15c9393d-b5d2-4455-994a-bf3993a82a51

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999998897314072[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=70, reviewCount=56

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:32.246Z, sessionId=15c9393d-b5d2-4455-994a-bf3993a82a51

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=0e3dc09d-e7ed-4ba6-9c58-31f48c3da050, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410133608}
[Telemetry] amas.decision.latency = 374 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=0e3dc09d-e7ed-4ba6-9c58-31f48c3da050, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=0e3dc09d-e7ed-4ba6-9c58-31f48c3da050

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9999999448657035[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨75%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=71, reviewCount=57

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:55:32.983Z, sessionId=0e3dc09d-e7ed-4ba6-9c58-31f48c3da050

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=d183eb56-fb85-4030-8424-e7543c172b82, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.timeout +1 {"path":"decision"}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"failure","at":1764410134708}
[Telemetry] amas.degradation +1 {"reason":"exception","message":"Timeout after 500ms"}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=d183eb56-fb85-4030-8424-e7543c172b82, hasFeatureVector=false
[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.8[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m5[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.000'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸é›†ä¸­,å·²è°ƒæ•´ä¸ºçŸ­æ‰¹æ¬¡ç­–ç•¥,å¸®åŠ©ä¿æŒä¸“æ³¨ã€‚'[39m
}

[90mstderr[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] æœªä¿å­˜ç‰¹å¾å‘é‡: featureVectorä¸ºç©º

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=72, reviewCount=58

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.000, dueTs=2025-12-01T19:31:33.972Z, sessionId=d183eb56-fb85-4030-8424-e7543c172b82

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=497057d9-6fe1-403d-adcd-4694389748c0, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410135284}
[Telemetry] amas.decision.latency = 118 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=497057d9-6fe1-403d-adcd-4694389748c0, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=497057d9-6fe1-403d-adcd-4694389748c0

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨64%ã€‚å·²æ–°è¯æ¯”ä¾‹ä»10%å‡è‡³15%ï¼Œæ‰¹é‡ä»5æå‡è‡³6ï¼Œå¤ä¹ é—´éš”å»¶é•¿10%ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=73, reviewCount=59

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T02:43:35.054Z, sessionId=497057d9-6fe1-403d-adcd-4694389748c0

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, timeEvents=60, preferredSlots=17,0,1

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=d3c7932f-17d8-400e-976c-f71b2edd5bf7, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410135649}
[Telemetry] amas.decision.latency = 62 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=d3c7932f-17d8-400e-976c-f71b2edd5bf7, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=d3c7932f-17d8-400e-976c-f71b2edd5bf7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.95[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨64%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=73, reviewCount=60

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T06:19:35.475Z, sessionId=d3c7932f-17d8-400e-976c-f71b2edd5bf7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=591628bd-b121-4199-90b5-ff5810d0c64e, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410136012}
[Telemetry] amas.decision.latency = 60 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] processLearningEvent: sessionId=591628bd-b121-4199-90b5-ff5810d0c64e, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=591628bd-b121-4199-90b5-ff5810d0c64e

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.975[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨64%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=73, reviewCount=61

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mCold Start Phases[2m > [22m[2mshould transition through phases correctly
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T08:07:35.840Z, sessionId=591628bd-b121-4199-90b5-ff5810d0c64e

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mCold Start Phases[2m > [22mshould transition through phases correctly[33m 16293[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=c1e1a734-5d42-4cb0-9501-4c73f8fc381d, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410136382}
[Telemetry] amas.decision.latency = 63 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS] processLearningEvent: sessionId=c1e1a734-5d42-4cb0-9501-4c73f8fc381d, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=c1e1a734-5d42-4cb0-9501-4c73f8fc381d

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.9875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨56%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=75, reviewCount=62

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould respond within acceptable time
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:01:36.208Z, sessionId=c1e1a734-5d42-4cb0-9501-4c73f8fc381d

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mPerformance[2m > [22mshould respond within acceptable time[33m 340[2mms[22m[39m
[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=6557910c-b49f-4efe-82c4-eb035828463f, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=f529280e-5d47-43f9-a0f8-87e704f7136a, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=027bbf76-0099-418a-a923-2fbfacaabb21, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410136733}
[Telemetry] amas.decision.latency = 59 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] processLearningEvent: sessionId=6557910c-b49f-4efe-82c4-eb035828463f, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=29d3317f-0502-4598-a5b5-e8d4398eaee7, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=26701c69-8177-4217-8d53-f8743b262b70, userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=6557910c-b49f-4efe-82c4-eb035828463f

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.99375[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ï¼Œç¨³å®šæ€§æ³¢åŠ¨56%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410136893}
[Telemetry] amas.decision.latency = 79 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] processLearningEvent: sessionId=29d3317f-0502-4598-a5b5-e8d4398eaee7, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=76, reviewCount=63

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=29d3317f-0502-4598-a5b5-e8d4398eaee7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.996875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410136961}
[Telemetry] amas.decision.latency = 67 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] processLearningEvent: sessionId=027bbf76-0099-418a-a923-2fbfacaabb21, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:28:36.560Z, sessionId=6557910c-b49f-4efe-82c4-eb035828463f

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=027bbf76-0099-418a-a923-2fbfacaabb21

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.996875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410137049}
[Telemetry] amas.decision.latency = 87 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] processLearningEvent: sessionId=f529280e-5d47-43f9-a0f8-87e704f7136a, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=f529280e-5d47-43f9-a0f8-87e704f7136a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.996875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410137132}
[Telemetry] amas.decision.latency = 83 

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] processLearningEvent: sessionId=26701c69-8177-4217-8d53-f8743b262b70, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=77, reviewCount=64

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=26701c69-8177-4217-8d53-f8743b262b70

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS Decision] {
  userId: [32m'e5ffac88-7ea8-494e-9e7f-e995bfb78a95'[39m,
  strategy: {
    interval_scale: [33m0.996875[39m,
    new_ratio: [33m0.15[39m,
    difficulty: [32m'mid'[39m,
    batch_size: [33m6[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.20'[39m, F: [32m'0.05'[39m, M: [32m'1.00'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸¥é‡ä¸‹é™80%ã€‚å·²ä¿æŒå½“å‰ç­–ç•¥ã€‚'[39m
}

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:42:06.659Z, sessionId=29d3317f-0502-4598-a5b5-e8d4398eaee7

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=77, reviewCount=65

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=77, reviewCount=66

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:42:06.654Z, sessionId=f529280e-5d47-43f9-a0f8-87e704f7136a

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:42:06.655Z, sessionId=027bbf76-0099-418a-a923-2fbfacaabb21

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, masteryLevel=3, state=REVIEWING, totalScore=77, reviewCount=67

[90mstdout[2m | tests/integration/amas.integration.test.ts[2m > [22m[2mAMAS Integration Tests[2m > [22m[2mPerformance[2m > [22m[2mshould handle concurrent requests
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=e5ffac88-7ea8-494e-9e7f-e995bfb78a95, wordId=b76c2bcf-b7eb-4b81-97aa-f1edd1a17ff7, reward=0.618, dueTs=2025-12-02T09:42:06.664Z, sessionId=26701c69-8177-4217-8d53-f8743b262b70

 [32mâœ“[39m tests/integration/amas.integration.test.ts[2m > [22mAMAS Integration Tests[2m > [22mPerformance[2m > [22mshould handle concurrent requests[33m 967[2mms[22m[39m
[90mstdout[2m | tests/integration/routes/auth.routes.spec.ts
[22m[39m[AMAS Service] åˆå§‹åŒ–å®Œæˆ
AMAS Feature Flags:
  Enabled (10): TrendAnalyzer, HeuristicBaseline, ThompsonSampling, ACTRMemory, ColdStartManager, Ensemble, UserParamsManager, DelayedRewardAggregator, CausalInference, BayesianOptimizer
  Disabled (2): ABTestEngine, OfflineReplay

 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/register[2m > [22måº”è¯¥æˆåŠŸæ³¨å†Œæ–°ç”¨æˆ·å¹¶è¿”å›201çŠ¶æ€ç [33m 494[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:40.842Z","app":"danci-backend","env":"test","request":{"id":"4af2fd54-bcbf-48cf-9186-7dc2ef5f7eea","method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"host":"127.0.0.1:63127","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"74","connection":"close"}},"requestId":"4af2fd54-bcbf-48cf-9186-7dc2ef5f7eea","userId":null,"err":{"type":"AppError","message":"è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ","stack":"Error: è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ\n    at AppError.conflict (E:/danci/backend/src/middleware/error.middleware.ts:41:12)\n    at E:/danci/backend/src/services/auth.service.ts:53:24\n    at Proxy._transactionWithCallback (E:\\danci\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at AuthService.register (E:/danci/backend/src/services/auth.service.ts:46:12)\n    at E:/danci/backend/src/routes/auth.routes.ts:13:20","statusCode":409,"code":"CONFLICT","isOperational":true},"method":"POST","path":"/api/auth/register","statusCode":200,"msg":"ä¸šåŠ¡é”™è¯¯: è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ"}
{"level":"warn","time":"2025-11-29T09:55:40.846Z","app":"danci-backend","env":"test","request":{"id":"4af2fd54-bcbf-48cf-9186-7dc2ef5f7eea","method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"host":"127.0.0.1:63127","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"74","connection":"close"}},"requestId":"4af2fd54-bcbf-48cf-9186-7dc2ef5f7eea","userId":null,"response":{"statusCode":null},"duration":45,"msg":"POST /api/auth/register 409"}
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/register[2m > [22må½“é‚®ç®±å·²å­˜åœ¨æ—¶åº”è¯¥è¿”å›400é”™è¯¯[33m 406[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:41.123Z","app":"danci-backend","env":"test","request":{"id":"7f5b902e-7369-4732-81fe-686d03a6a176","method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"host":"127.0.0.1:63131","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"58","connection":"close"}},"requestId":"7f5b902e-7369-4732-81fe-686d03a6a176","userId":null,"err":{"type":"ZodError","message":"[\n  {\n    \"validation\": \"email\",\n    \"code\": \"invalid_string\",\n    \"message\": \"é‚®ç®±æ ¼å¼æ— æ•ˆ\",\n    \"path\": [\n      \"email\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 10,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"å¯†ç é•¿åº¦è‡³å°‘ä¸º10ä¸ªå­—ç¬¦\",\n    \"path\": [\n      \"password\"\n    ]\n  },\n  {\n    \"validation\": \"regex\",\n    \"code\": \"invalid_string\",\n    \"message\": \"å¯†ç éœ€åŒ…å«å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·\",\n    \"path\": [\n      \"password\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 1,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"ç”¨æˆ·åä¸èƒ½ä¸ºç©º\",\n    \"path\": [\n      \"username\"\n    ]\n  }\n]","stack":"ZodError: [\n  {\n    \"validation\": \"email\",\n    \"code\": \"invalid_string\",\n    \"message\": \"é‚®ç®±æ ¼å¼æ— æ•ˆ\",\n    \"path\": [\n      \"email\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 10,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"å¯†ç é•¿åº¦è‡³å°‘ä¸º10ä¸ªå­—ç¬¦\",\n    \"path\": [\n      \"password\"\n    ]\n  },\n  {\n    \"validation\": \"regex\",\n    \"code\": \"invalid_string\",\n    \"message\": \"å¯†ç éœ€åŒ…å«å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·\",\n    \"path\": [\n      \"password\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 1,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"ç”¨æˆ·åä¸èƒ½ä¸ºç©º\",\n    \"path\": [\n      \"username\"\n    ]\n  }\n]\n    at Object.get error [as error] (file:///E:/danci/backend/node_modules/zod/v3/types.js:39:31)\n    at ZodObject.parse (file:///E:/danci/backend/node_modules/zod/v3/types.js:114:22)\n    at E:/danci/backend/src/routes/auth.routes.ts:12:33\n    at Layer.handle [as handle_request] (E:\\danci\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\danci\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\danci\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\danci\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at router.process_params (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at router.handle (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (E:\\danci\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at router.process_params (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","aggregateErrors":[{"type":"Object","message":"é‚®ç®±æ ¼å¼æ— æ•ˆ","stack":"","validation":"email","code":"invalid_string","path":["email"]},{"type":"Object","message":"å¯†ç é•¿åº¦è‡³å°‘ä¸º10ä¸ªå­—ç¬¦","stack":"","code":"too_small","minimum":10,"inclusive":true,"exact":false,"path":["password"]},{"type":"Object","message":"å¯†ç éœ€åŒ…å«å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·","stack":"","validation":"regex","code":"invalid_string","path":["password"]},{"type":"Object","message":"ç”¨æˆ·åä¸èƒ½ä¸ºç©º","stack":"","code":"too_small","minimum":1,"inclusive":true,"exact":false,"path":["username"]}],"issues":[{"validation":"email","code":"invalid_string","message":"é‚®ç®±æ ¼å¼æ— æ•ˆ","path":["email"]},{"code":"too_small","minimum":10,"type":"string","inclusive":true,"exact":false,"message":"å¯†ç é•¿åº¦è‡³å°‘ä¸º10ä¸ªå­—ç¬¦","path":["password"]},{"validation":"regex","code":"invalid_string","message":"å¯†ç éœ€åŒ…å«å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·","path":["password"]},{"code":"too_small","minimum":1,"type":"string","inclusive":true,"exact":false,"message":"ç”¨æˆ·åä¸èƒ½ä¸ºç©º","path":["username"]}],"name":"ZodError"},"method":"POST","path":"/api/auth/register","statusCode":200,"msg":"å‚æ•°éªŒè¯é”™è¯¯: é‚®ç®±æ ¼å¼æ— æ•ˆ"}
{"level":"warn","time":"2025-11-29T09:55:41.124Z","app":"danci-backend","env":"test","request":{"id":"7f5b902e-7369-4732-81fe-686d03a6a176","method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"host":"127.0.0.1:63131","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"58","connection":"close"}},"requestId":"7f5b902e-7369-4732-81fe-686d03a6a176","userId":null,"response":{"statusCode":null},"duration":2,"msg":"POST /api/auth/register 400"}
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/register[2m > [22må½“å‚æ•°éªŒè¯å¤±è´¥æ—¶åº”è¯¥è¿”å›400é”™è¯¯[32m 278[2mms[22m[39m
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/login[2m > [22måº”è¯¥æˆåŠŸç™»å½•å¹¶è¿”å›200çŠ¶æ€ç [33m 483[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:42.102Z","app":"danci-backend","env":"test","request":{"id":"234beeb5-f1ed-4187-be19-8f75f7487035","method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:63137","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"58","connection":"close"}},"requestId":"234beeb5-f1ed-4187-be19-8f75f7487035","userId":null,"err":{"type":"AppError","message":"è¯¥é‚®ç®±å°šæœªæ³¨å†Œ","stack":"Error: è¯¥é‚®ç®±å°šæœªæ³¨å†Œ\n    at AppError.unauthorized (E:/danci/backend/src/middleware/error.middleware.ts:33:12)\n    at E:/danci/backend/src/services/auth.service.ts:94:24\n    at Proxy._transactionWithCallback (E:\\danci\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at AuthService.login (E:/danci/backend/src/services/auth.service.ts:87:12)\n    at E:/danci/backend/src/routes/auth.routes.ts:28:20","statusCode":401,"code":"UNAUTHORIZED","isOperational":true},"method":"POST","path":"/api/auth/login","statusCode":200,"msg":"ä¸šåŠ¡é”™è¯¯: è¯¥é‚®ç®±å°šæœªæ³¨å†Œ"}
{"level":"warn","time":"2025-11-29T09:55:42.103Z","app":"danci-backend","env":"test","request":{"id":"234beeb5-f1ed-4187-be19-8f75f7487035","method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:63137","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"58","connection":"close"}},"requestId":"234beeb5-f1ed-4187-be19-8f75f7487035","userId":null,"response":{"statusCode":null},"duration":76,"msg":"POST /api/auth/login 401"}
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/login[2m > [22må½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶åº”è¯¥è¿”å›401é”™è¯¯[33m 496[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:42.858Z","app":"danci-backend","env":"test","request":{"id":"d4959f80-fbff-4863-b742-b6611e16d994","method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:63139","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"73","connection":"close"}},"requestId":"d4959f80-fbff-4863-b742-b6611e16d994","userId":null,"err":{"type":"AppError","message":"å¯†ç é”™è¯¯","stack":"Error: å¯†ç é”™è¯¯\n    at AppError.unauthorized (E:/danci/backend/src/middleware/error.middleware.ts:33:12)\n    at E:/danci/backend/src/services/auth.service.ts:101:24\n    at Proxy._transactionWithCallback (E:\\danci\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:8000)\n    at AuthService.login (E:/danci/backend/src/services/auth.service.ts:87:12)\n    at E:/danci/backend/src/routes/auth.routes.ts:28:20","statusCode":401,"code":"UNAUTHORIZED","isOperational":true},"method":"POST","path":"/api/auth/login","statusCode":200,"msg":"ä¸šåŠ¡é”™è¯¯: å¯†ç é”™è¯¯"}
{"level":"warn","time":"2025-11-29T09:55:42.858Z","app":"danci-backend","env":"test","request":{"id":"d4959f80-fbff-4863-b742-b6611e16d994","method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:63139","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"73","connection":"close"}},"requestId":"d4959f80-fbff-4863-b742-b6611e16d994","userId":null,"response":{"statusCode":null},"duration":138,"msg":"POST /api/auth/login 401"}
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/login[2m > [22må½“å¯†ç é”™è¯¯æ—¶åº”è¯¥è¿”å›401é”™è¯¯[33m 755[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:43.414Z","app":"danci-backend","env":"test","request":{"id":"8bb7bc7e-2a3d-40cb-9b20-a5710b0f487c","method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:63143","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"39","connection":"close"}},"requestId":"8bb7bc7e-2a3d-40cb-9b20-a5710b0f487c","userId":null,"err":{"type":"ZodError","message":"[\n  {\n    \"validation\": \"email\",\n    \"code\": \"invalid_string\",\n    \"message\": \"é‚®ç®±æ ¼å¼æ— æ•ˆ\",\n    \"path\": [\n      \"email\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 1,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"å¯†ç ä¸èƒ½ä¸ºç©º\",\n    \"path\": [\n      \"password\"\n    ]\n  }\n]","stack":"ZodError: [\n  {\n    \"validation\": \"email\",\n    \"code\": \"invalid_string\",\n    \"message\": \"é‚®ç®±æ ¼å¼æ— æ•ˆ\",\n    \"path\": [\n      \"email\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 1,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"å¯†ç ä¸èƒ½ä¸ºç©º\",\n    \"path\": [\n      \"password\"\n    ]\n  }\n]\n    at Object.get error [as error] (file:///E:/danci/backend/node_modules/zod/v3/types.js:39:31)\n    at ZodObject.parse (file:///E:/danci/backend/node_modules/zod/v3/types.js:114:22)\n    at E:/danci/backend/src/routes/auth.routes.ts:27:30\n    at Layer.handle [as handle_request] (E:\\danci\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\danci\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (E:\\danci\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (E:\\danci\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at router.process_params (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at router.handle (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (E:\\danci\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at router.process_params (E:\\danci\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)","aggregateErrors":[{"type":"Object","message":"é‚®ç®±æ ¼å¼æ— æ•ˆ","stack":"","validation":"email","code":"invalid_string","path":["email"]},{"type":"Object","message":"å¯†ç ä¸èƒ½ä¸ºç©º","stack":"","code":"too_small","minimum":1,"inclusive":true,"exact":false,"path":["password"]}],"issues":[{"validation":"email","code":"invalid_string","message":"é‚®ç®±æ ¼å¼æ— æ•ˆ","path":["email"]},{"code":"too_small","minimum":1,"type":"string","inclusive":true,"exact":false,"message":"å¯†ç ä¸èƒ½ä¸ºç©º","path":["password"]}],"name":"ZodError"},"method":"POST","path":"/api/auth/login","statusCode":200,"msg":"å‚æ•°éªŒè¯é”™è¯¯: é‚®ç®±æ ¼å¼æ— æ•ˆ"}
{"level":"warn","time":"2025-11-29T09:55:43.415Z","app":"danci-backend","env":"test","request":{"id":"8bb7bc7e-2a3d-40cb-9b20-a5710b0f487c","method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:63143","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"39","connection":"close"}},"requestId":"8bb7bc7e-2a3d-40cb-9b20-a5710b0f487c","userId":null,"response":{"statusCode":null},"duration":1,"msg":"POST /api/auth/login 400"}
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/login[2m > [22må½“å‚æ•°éªŒè¯å¤±è´¥æ—¶åº”è¯¥è¿”å›400é”™è¯¯[33m 557[2mms[22m[39m
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/logout[2m > [22måº”è¯¥æˆåŠŸé€€å‡ºç™»å½•å¹¶è¿”å›200çŠ¶æ€ç [33m 927[2mms[22m[39m
{"level":"warn","time":"2025-11-29T09:55:44.710Z","app":"danci-backend","env":"test","path":"/logout","hasAuth":false,"msg":"[Auth] æœªæä¾›è®¤è¯ä»¤ç‰Œ"}
{"level":"warn","time":"2025-11-29T09:55:44.710Z","app":"danci-backend","env":"test","request":{"id":"896441f2-982a-4596-8904-af858ffa73d1","method":"POST","url":"/api/auth/logout","query":{},"params":{},"headers":{"host":"127.0.0.1:63151","accept-encoding":"gzip, deflate","connection":"close","content-length":"0"}},"requestId":"896441f2-982a-4596-8904-af858ffa73d1","userId":null,"response":{"statusCode":null},"duration":1,"msg":"POST /logout 401"}
 [32mâœ“[39m tests/integration/routes/auth.routes.spec.ts[2m > [22mAuth Routes Integration[2m > [22mPOST /api/auth/logout[2m > [22må½“æœªæä¾›è®¤è¯tokenæ—¶åº”è¯¥è¿”å›401é”™è¯¯[33m 369[2mms[22m[39m
[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts
[22m[39m[AMAS Service] åˆå§‹åŒ–å®Œæˆ
AMAS Feature Flags:
  Enabled (10): TrendAnalyzer, HeuristicBaseline, ThompsonSampling, ACTRMemory, ColdStartManager, Ensemble, UserParamsManager, DelayedRewardAggregator, CausalInference, BayesianOptimizer
  Disabled (2): ABTestEngine, OfflineReplay

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=1cbf70e6-c1b5-4c77-88c6-c5db2b03f73b, userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

[90mstderr[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410146291}
[Telemetry] amas.decision.latency = 216 

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS] processLearningEvent: sessionId=1cbf70e6-c1b5-4c77-88c6-c5db2b03f73b, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=1cbf70e6-c1b5-4c77-88c6-c5db2b03f73b

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS Decision] {
  userId: [32m'5bd8b2e6-01ad-491c-b1e8-d07c901d2082'[39m,
  strategy: {
    interval_scale: [33m0.75[39m,
    new_ratio: [33m0.15000000000000002[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m7[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.60'[39m, F: [32m'0.05'[39m, M: [32m'0.30'[39m },
  reward: [32m'0.685'[39m,
  explanation: [32m'æ£€æµ‹åˆ°çŠ¶æ€ç¨³å®šã€‚å·²æ–°è¯æ¯”ä¾‹ä»20%é™è‡³15%ï¼Œæ‰¹é‡ä»8é™è‡³7ï¼Œå¢åŠ æç¤ºè‡³2çº§ï¼Œå¤ä¹ é—´éš”ç¼©çŸ­25%ï¼Œéš¾åº¦è°ƒæ•´ä¸ºç®€å•ã€‚'[39m
}

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, masteryLevel=5, state=LEARNING, totalScore=99, reviewCount=1

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould persist feature vector when sessionId is provided
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, reward=0.685, dueTs=2025-12-03T03:55:45.909Z, sessionId=1cbf70e6-c1b5-4c77-88c6-c5db2b03f73b

 [32mâœ“[39m tests/integration/delayed-reward.integration.test.ts[2m > [22mDelayed Reward Integration Tests[2m > [22mFeature Vector Persistence[2m > [22mshould persist feature vector when sessionId is provided[33m 815[2mms[22m[39m
[90mstderr[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410147084}
[Telemetry] amas.decision.latency = 175 

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[AMAS] processLearningEvent: sessionId=undefined, hasFeatureVector=true
[AMAS Decision] {
  userId: [32m'5bd8b2e6-01ad-491c-b1e8-d07c901d2082'[39m,
  strategy: {
    interval_scale: [33m0.875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m8[39m,
    hint_level: [33m2[39m
  },
  state: { A: [32m'0.52'[39m, F: [32m'0.05'[39m, M: [32m'0.55'[39m },
  reward: [32m'0.685'[39m,
  explanation: [32m'æ£€æµ‹åˆ°çŠ¶æ€ç¨³å®šã€‚å·²æ–°è¯æ¯”ä¾‹ä»15%é™è‡³10%ï¼Œæ‰¹é‡ä»7æå‡è‡³8ï¼Œå¤ä¹ é—´éš”å»¶é•¿13%ã€‚'[39m
}

[90mstderr[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[AMAS] æœªä¿å­˜ç‰¹å¾å‘é‡: sessionIdä¸ºç©º

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, masteryLevel=5, state=REVIEWING, totalScore=99, reviewCount=2

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mFeature Vector Persistence[2m > [22m[2mshould not persist feature vector when sessionId is not provided
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, reward=0.685, dueTs=2025-12-03T18:55:46.731Z, sessionId=null

 [32mâœ“[39m tests/integration/delayed-reward.integration.test.ts[2m > [22mDelayed Reward Integration Tests[2m > [22mFeature Vector Persistence[2m > [22mshould not persist feature vector when sessionId is not provided[33m 906[2mms[22m[39m
[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould enqueue delayed reward with idempotency
[22m[39mprisma:error 
Invalid `prisma.rewardQueue.create()` invocation in
E:/danci/backend/src/services/delayed-reward.service.ts:49:39

  46   params: EnqueueDelayedRewardParams
  47 ): Promise<RewardQueue> {
  48   try {
â†’ 49     return await prisma.rewardQueue.create(
Unique constraint failed on the fields: (`idempotencyKey`)

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=75f5b931-497c-4817-8560-731f0a0ee7c3, userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

 [32mâœ“[39m tests/integration/delayed-reward.integration.test.ts[2m > [22mDelayed Reward Integration Tests[2m > [22mDelayed Reward Queue[2m > [22mshould enqueue delayed reward with idempotency[32m 129[2mms[22m[39m
[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410148123}
[Telemetry] amas.decision.latency = 153 

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS] processLearningEvent: sessionId=75f5b931-497c-4817-8560-731f0a0ee7c3, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=75f5b931-497c-4817-8560-731f0a0ee7c3

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS Decision] {
  userId: [32m'5bd8b2e6-01ad-491c-b1e8-d07c901d2082'[39m,
  strategy: {
    interval_scale: [33m1.0375[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m10[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.46'[39m, F: [32m'0.05'[39m, M: [32m'0.77'[39m },
  reward: [32m'0.685'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™54%ã€‚å·²æ‰¹é‡ä»8æå‡è‡³10ï¼Œé™ä½æç¤ºè‡³1çº§ï¼Œå¤ä¹ é—´éš”å»¶é•¿16%ã€‚'[39m
}

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, masteryLevel=5, state=REVIEWING, totalScore=98, reviewCount=3

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mDelayed Reward Queue[2m > [22m[2mshould process pending rewards
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, reward=0.685, dueTs=2025-12-04T14:25:47.759Z, sessionId=75f5b931-497c-4817-8560-731f0a0ee7c3

 [32mâœ“[39m tests/integration/delayed-reward.integration.test.ts[2m > [22mDelayed Reward Integration Tests[2m > [22mDelayed Reward Queue[2m > [22mshould process pending rewards[33m 1188[2mms[22m[39m
 [32mâœ“[39m tests/integration/delayed-reward.integration.test.ts[2m > [22mDelayed Reward Integration Tests[2m > [22mDelayed Reward Queue[2m > [22mshould retry failed rewards[32m 279[2mms[22m[39m
[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS] å­¦ä¹ ä¼šè¯å·²ç¡®ä¿: sessionId=820d5e01-b48b-4c7e-a7ac-a4aede618751, userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410149488}
[Telemetry] amas.decision.latency = 76 

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS] processLearningEvent: sessionId=820d5e01-b48b-4c7e-a7ac-a4aede618751, hasFeatureVector=true
[AMAS] å‡†å¤‡ä¿å­˜ç‰¹å¾å‘é‡: version=2, dimension=22

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS] FeatureVectoræŒä¹…åŒ–æˆåŠŸ: sessionId=820d5e01-b48b-4c7e-a7ac-a4aede618751

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS Decision] {
  userId: [32m'5bd8b2e6-01ad-491c-b1e8-d07c901d2082'[39m,
  strategy: {
    interval_scale: [33m1.26875[39m,
    new_ratio: [33m0.1[39m,
    difficulty: [32m'easy'[39m,
    batch_size: [33m13[39m,
    hint_level: [33m1[39m
  },
  state: { A: [32m'0.44'[39m, F: [32m'0.05'[39m, M: [32m'0.96'[39m },
  reward: [32m'0.618'[39m,
  explanation: [32m'æ£€æµ‹åˆ°æ³¨æ„åŠ›ä¸‹é™56%ã€‚å·²æ‰¹é‡ä»10æå‡è‡³13ï¼Œå¤ä¹ é—´éš”å»¶é•¿23%ã€‚'[39m
}

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS] çŠ¶æ€å¿«ç…§å·²ä¿å­˜: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS] å­¦ä¹ çŠ¶æ€å·²æ›´æ–°: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, masteryLevel=5, state=REVIEWING, totalScore=98, reviewCount=4

[90mstdout[2m | tests/integration/delayed-reward.integration.test.ts[2m > [22m[2mDelayed Reward Integration Tests[2m > [22m[2mEnd-to-End Flow[2m > [22m[2mshould complete full delayed reward flow
[22m[39m[AMAS] å»¶è¿Ÿå¥–åŠ±å·²å…¥é˜Ÿ: userId=5bd8b2e6-01ad-491c-b1e8-d07c901d2082, wordId=e8154b55-ee8c-460b-90c9-d3419d6db5b3, reward=0.618, dueTs=2025-12-05T18:10:49.224Z, sessionId=820d5e01-b48b-4c7e-a7ac-a4aede618751

 [32mâœ“[39m tests/integration/delayed-reward.integration.test.ts[2m > [22mDelayed Reward Integration Tests[2m > [22mEnd-to-End Flow[2m > [22mshould complete full delayed reward flow[33m 505[2mms[22m[39m
[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•å†³ç­–å»¶è¿Ÿ
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•å†³ç­–å»¶è¿Ÿ
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•æˆåŠŸå’Œé”™è¯¯
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•æˆåŠŸå’Œé”™è¯¯
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•ç†”æ–­å™¨çŠ¶æ€
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•ç†”æ–­å™¨çŠ¶æ€
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•é™çº§
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•é™çº§
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•è¶…æ—¶
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•è¶…æ—¶
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•å¥–åŠ±ç»“æœ
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæŒ‡æ ‡è®°å½•API[2m > [22m[2måº”è¯¥æ­£ç¡®è®°å½•å¥–åŠ±ç»“æœ
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åœ¨æ­£å¸¸çŠ¶æ€ä¸‹æŠ¥å‘Šhealthy
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åœ¨æ­£å¸¸çŠ¶æ€ä¸‹æŠ¥å‘Šhealthy
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åœ¨é«˜å»¶è¿Ÿæ—¶æŠ¥å‘Šdegradedæˆ–unhealthy
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åœ¨é«˜å»¶è¿Ÿæ—¶æŠ¥å‘Šdegradedæˆ–unhealthy
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åŒ…å«SLOè¾¾æˆæƒ…å†µ
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åŒ…å«SLOè¾¾æˆæƒ…å†µ
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åŒ…å«æ£€æŸ¥æ—¶é—´
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22m[2måº”è¯¥åŒ…å«æ£€æŸ¥æ—¶é—´
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨å¥–åŠ±å¤„ç†æˆåŠŸæ—¶æ˜¾ç¤ºå¥åº·
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨å¥–åŠ±å¤„ç†æˆåŠŸæ—¶æ˜¾ç¤ºå¥åº·
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨å¥–åŠ±å¤„ç†å¤±è´¥ç‡åé«˜æ—¶æ˜¾ç¤ºé™çº§
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨å¥–åŠ±å¤„ç†å¤±è´¥ç‡åé«˜æ—¶æ˜¾ç¤ºé™çº§
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨å¥–åŠ±å¤„ç†å¤±è´¥ç‡æé«˜æ—¶æ˜¾ç¤ºä¸å¥åº·
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨å¥–åŠ±å¤„ç†å¤±è´¥ç‡æé«˜æ—¶æ˜¾ç¤ºä¸å¥åº·
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç†”æ–­å™¨ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨ç†”æ–­å™¨æ­£å¸¸æ—¶æ˜¾ç¤ºå¥åº·
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç†”æ–­å™¨ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨ç†”æ–­å™¨æ­£å¸¸æ—¶æ˜¾ç¤ºå¥åº·
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç†”æ–­å™¨ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨ç†”æ–­å™¨é¢‘ç¹æ‰“å¼€æ—¶æ˜¾ç¤ºä¸å¥åº·
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç†”æ–­å™¨ç›‘æ§[2m > [22m[2måº”è¯¥åœ¨ç†”æ–­å™¨é¢‘ç¹æ‰“å¼€æ—¶æ˜¾ç¤ºä¸å¥åº·
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥è¿”å›æ´»åŠ¨å‘Šè­¦åˆ—è¡¨
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥è¿”å›æ´»åŠ¨å‘Šè­¦åˆ—è¡¨
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥è¿”å›å‘Šè­¦å†å²
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥è¿”å›å‘Šè­¦å†å²
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥æ”¯æŒé™åˆ¶å†å²æ•°é‡
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥æ”¯æŒé™åˆ¶å†å²æ•°é‡
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥æ”¯æŒè§£å†³å‘Šè­¦
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må‘Šè­¦API[2m > [22m[2måº”è¯¥æ”¯æŒè§£å†³å‘Šè­¦
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¹¶å‘åœºæ™¯[2m > [22m[2måº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘æŒ‡æ ‡è®°å½•
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¹¶å‘åœºæ™¯[2m > [22m[2måº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘æŒ‡æ ‡è®°å½•
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥æ­£ç¡®å¯åŠ¨ç›‘æ§æœåŠ¡
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥æ­£ç¡®å¯åŠ¨ç›‘æ§æœåŠ¡
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started
[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥æ­£ç¡®å¯åŠ¨ç›‘æ§æœåŠ¡
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥æ­£ç¡®åœæ­¢ç›‘æ§æœåŠ¡
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥æ­£ç¡®åœæ­¢ç›‘æ§æœåŠ¡
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥å…è®¸é‡å¤å¯åŠ¨å’Œåœæ­¢
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥å…è®¸é‡å¤å¯åŠ¨å’Œåœæ­¢
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped
[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started
[MetricsCollector] Stopped
[MonitoringService] Stopped
[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started
[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥åœ¨ç¦ç”¨æ—¶ä¸å¯åŠ¨
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥åœ¨ç¦ç”¨æ—¶ä¸å¯åŠ¨
[22m[39m[MonitoringService] Disabled by config

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22m[2måº”è¯¥åœ¨ç¦ç”¨æ—¶ä¸å¯åŠ¨
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç›‘æ§ç»Ÿè®¡[2m > [22m[2måº”è¯¥è¿”å›å®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç›‘æ§ç»Ÿè®¡[2m > [22m[2måº”è¯¥è¿”å›å®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç›‘æ§ç»Ÿè®¡[2m > [22m[2måº”è¯¥æ­£ç¡®æŠ¥å‘Šè¿è¡ŒçŠ¶æ€
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2mç›‘æ§ç»Ÿè®¡[2m > [22m[2måº”è¯¥æ­£ç¡®æŠ¥å‘Šè¿è¡ŒçŠ¶æ€
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€å¿«ç…§[2m > [22m[2måº”è¯¥è¿”å›å®Œæ•´çš„å¥åº·çŠ¶æ€
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€å¿«ç…§[2m > [22m[2måº”è¯¥è¿”å›å®Œæ•´çš„å¥åº·çŠ¶æ€
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€å¿«ç…§[2m > [22m[2måº”è¯¥åŒ…å«æ‰€æœ‰ç»„ä»¶çŠ¶æ€
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€å¿«ç…§[2m > [22m[2måº”è¯¥åŒ…å«æ‰€æœ‰ç»„ä»¶çŠ¶æ€
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€å¿«ç…§[2m > [22m[2mç»„ä»¶çŠ¶æ€åº”è¯¥åŒ…å«è¯¦ç»†ä¿¡æ¯
[22m[39m[MetricsCollector] Started (interval: 60000ms)
[MonitoringService] Started

[90mstdout[2m | tests/integration/monitoring.integration.test.ts[2m > [22m[2mMonitoring Integration[2m > [22m[2må¥åº·çŠ¶æ€å¿«ç…§[2m > [22m[2mç»„ä»¶çŠ¶æ€åº”è¯¥åŒ…å«è¯¦ç»†ä¿¡æ¯
[22m[39m[MetricsCollector] Stopped
[MonitoringService] Stopped

 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæŒ‡æ ‡è®°å½•API[2m > [22måº”è¯¥æ­£ç¡®è®°å½•å†³ç­–å»¶è¿Ÿ[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæŒ‡æ ‡è®°å½•API[2m > [22måº”è¯¥æ­£ç¡®è®°å½•æˆåŠŸå’Œé”™è¯¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæŒ‡æ ‡è®°å½•API[2m > [22måº”è¯¥æ­£ç¡®è®°å½•ç†”æ–­å™¨çŠ¶æ€[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæŒ‡æ ‡è®°å½•API[2m > [22måº”è¯¥æ­£ç¡®è®°å½•é™çº§[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæŒ‡æ ‡è®°å½•API[2m > [22måº”è¯¥æ­£ç¡®è®°å½•è¶…æ—¶[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæŒ‡æ ‡è®°å½•API[2m > [22måº”è¯¥æ­£ç¡®è®°å½•å¥–åŠ±ç»“æœ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22måº”è¯¥åœ¨æ­£å¸¸çŠ¶æ€ä¸‹æŠ¥å‘Šhealthy[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22måº”è¯¥åœ¨é«˜å»¶è¿Ÿæ—¶æŠ¥å‘Šdegradedæˆ–unhealthy[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22måº”è¯¥åŒ…å«SLOè¾¾æˆæƒ…å†µ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€æ£€æŸ¥[2m > [22måº”è¯¥åŒ…å«æ£€æŸ¥æ—¶é—´[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22måº”è¯¥åœ¨å¥–åŠ±å¤„ç†æˆåŠŸæ—¶æ˜¾ç¤ºå¥åº·[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22måº”è¯¥åœ¨å¥–åŠ±å¤„ç†å¤±è´¥ç‡åé«˜æ—¶æ˜¾ç¤ºé™çº§[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må»¶è¿Ÿå¥–åŠ±ç›‘æ§[2m > [22måº”è¯¥åœ¨å¥–åŠ±å¤„ç†å¤±è´¥ç‡æé«˜æ—¶æ˜¾ç¤ºä¸å¥åº·[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mç†”æ–­å™¨ç›‘æ§[2m > [22måº”è¯¥åœ¨ç†”æ–­å™¨æ­£å¸¸æ—¶æ˜¾ç¤ºå¥åº·[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mç†”æ–­å™¨ç›‘æ§[2m > [22måº”è¯¥åœ¨ç†”æ–­å™¨é¢‘ç¹æ‰“å¼€æ—¶æ˜¾ç¤ºä¸å¥åº·[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må‘Šè­¦API[2m > [22måº”è¯¥è¿”å›æ´»åŠ¨å‘Šè­¦åˆ—è¡¨[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må‘Šè­¦API[2m > [22måº”è¯¥è¿”å›å‘Šè­¦å†å²[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må‘Šè­¦API[2m > [22måº”è¯¥æ”¯æŒé™åˆ¶å†å²æ•°é‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må‘Šè­¦API[2m > [22måº”è¯¥æ”¯æŒè§£å†³å‘Šè­¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¹¶å‘åœºæ™¯[2m > [22måº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘æŒ‡æ ‡è®°å½•[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22måº”è¯¥æ­£ç¡®å¯åŠ¨ç›‘æ§æœåŠ¡[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22måº”è¯¥æ­£ç¡®åœæ­¢ç›‘æ§æœåŠ¡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22måº”è¯¥å…è®¸é‡å¤å¯åŠ¨å’Œåœæ­¢[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mæœåŠ¡å¯åŠ¨å’Œåœæ­¢[2m > [22måº”è¯¥åœ¨ç¦ç”¨æ—¶ä¸å¯åŠ¨[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mç›‘æ§ç»Ÿè®¡[2m > [22måº”è¯¥è¿”å›å®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22mç›‘æ§ç»Ÿè®¡[2m > [22måº”è¯¥æ­£ç¡®æŠ¥å‘Šè¿è¡ŒçŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€å¿«ç…§[2m > [22måº”è¯¥è¿”å›å®Œæ•´çš„å¥åº·çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€å¿«ç…§[2m > [22måº”è¯¥åŒ…å«æ‰€æœ‰ç»„ä»¶çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/monitoring.integration.test.ts[2m > [22mMonitoring Integration[2m > [22må¥åº·çŠ¶æ€å¿«ç…§[2m > [22mç»„ä»¶çŠ¶æ€åº”è¯¥åŒ…å«è¯¦ç»†ä¿¡æ¯[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m      Tests [22m [1m[32m57 passed[39m[22m[90m (57)[39m
[2m   Start at [22m 17:54:56
[2m   Duration [22m 54.24s[2m (transform 1.61s, setup 99ms, collect 3.82s, tests 49.15s, environment 0ms, prepare 49ms)[22m

