
> vocab-learning-backend@1.0.0 test:unit
> vitest run --dir tests/unit --reporter=verbose --run


[1m[46m RUN [49m[22m [36mv4.0.13 [39m[90mE:/danci/backend[39m

 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 1: Time preference data transformation[2m > [22m**Feature: amas-enhanced-features, Property 1** - Validates: Requirements 1.1, 1.5[32m 44[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 2: Golden time detection[2m > [22m**Feature: amas-enhanced-features, Property 2** - Validates: Requirements 1.2[32m 14[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 3: Insufficient data threshold[2m > [22m**Feature: amas-enhanced-features, Property 3** - Validates: Requirements 1.3[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 4: TrendState to UI mapping[2m > [22m**Feature: amas-enhanced-features, Property 4** - Validates: Requirements 2.1, 2.2[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 5: Weekly trend aggregation[2m > [22m**Feature: amas-enhanced-features, Property 5** - Validates: Requirements 2.3[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 6: Consecutive down days notification[2m > [22m**Feature: amas-enhanced-features, Property 6** - Validates: Requirements 2.4[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 7: Trend report completeness[2m > [22m**Feature: amas-enhanced-features, Property 7** - Validates: Requirements 2.5[32m 7[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 8: Badge award on milestone[2m > [22m**Feature: amas-enhanced-features, Property 8** - Validates: Requirements 3.1, 3.3[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 9: Badge data completeness[2m > [22m**Feature: amas-enhanced-features, Property 9** - Validates: Requirements 3.2, 3.5[33m 683[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 10: Badge eligibility calculation[2m > [22m**Feature: amas-enhanced-features, Property 10** - Validates: Requirements 3.4[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 11: Learning plan generation[2m > [22m**Feature: amas-enhanced-features, Property 11** - Validates: Requirements 4.1, 4.4[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 12: Completion date calculation[2m > [22m**Feature: amas-enhanced-features, Property 12** - Validates: Requirements 4.2[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 13: Plan adjustment on deviation[2m > [22m**Feature: amas-enhanced-features, Property 13** - Validates: Requirements 4.3[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 14: Multi-wordbook distribution[2m > [22m**Feature: amas-enhanced-features, Property 14** - Validates: Requirements 4.5[32m 13[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 15: State history data retrieval[2m > [22m**Feature: amas-enhanced-features, Property 15** - Validates: Requirements 5.1, 5.4[32m 7[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 16: Daily state aggregation[2m > [22m**Feature: amas-enhanced-features, Property 16** - Validates: Requirements 5.2[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 17: Cognitive growth comparison[2m > [22m**Feature: amas-enhanced-features, Property 17** - Validates: Requirements 5.3[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas-enhanced.property.test.ts[2m > [22mAMAS Enhanced Features Property Tests[2m > [22mProperty 18: Significant change detection[2m > [22m**Feature: amas-enhanced-features, Property 18** - Validates: Requirements 5.5[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22msuggestNextParams[2m > [22måº”è¯¥è¿”å›æ¨èçš„å‚æ•°ç»„åˆ[32m 98[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22msuggestNextParams[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥è¿”å›null[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mrecordEvaluation[2m > [22måº”è¯¥è®°å½•å‚æ•°è¯„ä¼°ç»“æœ[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mrecordEvaluation[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥é™é»˜è¿”å›[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mgetBestParams[2m > [22måº”è¯¥è¿”å›å½“å‰æœ€ä¼˜å‚æ•°[32m 25[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mgetBestParams[2m > [22mæ²¡æœ‰æœ€ä¼˜å‚æ•°æ—¶åº”è¯¥è¿”å›null[32m 15[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mgetOptimizationHistory[2m > [22måº”è¯¥è¿”å›ä¼˜åŒ–å†å²[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mgetOptimizationHistory[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥è¿”å›ç©ºå†å²[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mrunOptimizationCycle[2m > [22måº”è¯¥æ‰§è¡Œä¼˜åŒ–å‘¨æœŸå¹¶è¿”å›ç»“æœ[32m 13[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mrunOptimizationCycle[2m > [22mæ•°æ®ä¸è¶³æ—¶ä¸æ‰§è¡Œè¯„ä¼°[32m 19[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mrunOptimizationCycle[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥è¿”å›ç©ºç»“æœ[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22msaveState[2m > [22måº”è¯¥ä¿å­˜ä¼˜åŒ–å™¨çŠ¶æ€åˆ°æ•°æ®åº“[32m 19[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mloadState[2m > [22måº”è¯¥ä»æ•°æ®åº“æ¢å¤ä¼˜åŒ–å™¨çŠ¶æ€[32m 21[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mloadState[2m > [22mæ²¡æœ‰ä¿å­˜çŠ¶æ€æ—¶åº”è¯¥é™é»˜è¿”å›[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mresetOptimizer[2m > [22måº”è¯¥é‡ç½®ä¼˜åŒ–å™¨å¹¶æ¸…é™¤æ•°æ®åº“çŠ¶æ€[32m 18[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mgetParamSpace[2m > [22måº”è¯¥è¿”å›å‚æ•°ç©ºé—´å®šä¹‰[32m 22[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22misEnabled[2m > [22måŠŸèƒ½å¯ç”¨æ—¶åº”è¯¥è¿”å›true[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22misEnabled[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥è¿”å›false[32m 16[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mgetDiagnostics[2m > [22måº”è¯¥è¿”å›å®Œæ•´çš„è¯Šæ–­ä¿¡æ¯[32m 14[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mevaluateRecentLearningEffect[2m > [22måº”è¯¥æ­£ç¡®è®¡ç®—å­¦ä¹ æ•ˆæœåˆ†æ•°[32m 26[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/optimization.service.test.ts[2m > [22mOptimizationService[2m > [22mevaluateRecentLearningEffect[2m > [22må“åº”æ—¶é—´ä¸ºnullæ—¶åº”è¯¥ä½¿ç”¨é»˜è®¤é€Ÿåº¦åˆ†[32m 17[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22m[2mCausalInference[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[CausalInference] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mInitialization[2m > [22mshould initialize with zero observations[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mInitialization[2m > [22mshould accept custom config[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mAdding Observations[2m > [22mshould add single observation[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mAdding Observations[2m > [22mshould add batch observations[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mAdding Observations[2m > [22mshould throw on empty features[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mAdding Observations[2m > [22mshould throw on invalid treatment[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mAdding Observations[2m > [22mshould throw on dimension mismatch[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mAdding Observations[2m > [22mshould clamp outcome to [-1, 1][32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mModel Fitting[2m > [22mshould fit with sufficient data[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mModel Fitting[2m > [22mshould throw with insufficient total samples[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mModel Fitting[2m > [22mshould throw with insufficient treatment group[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mATE Estimation[2m > [22mshould estimate ATE[32m 8[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mATE Estimation[2m > [22mshould return confidence interval[32m 8[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mATE Estimation[2m > [22mshould detect significant positive effect[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mCATE Estimation[2m > [22mshould estimate CATE for given features[32m 10[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mPropensity Scores[2m > [22mshould return propensity score between bounds[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mPropensity Scores[2m > [22mshould return 0.5 before fitting[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mPropensity Diagnostics[2m > [22mshould return diagnostic metrics[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mPropensity Diagnostics[2m > [22mshould have overlap between 0 and 1[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mStrategy Comparison[2m > [22mshould compare two strategies[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mOutcome Prediction[2m > [22mshould predict outcome for treatment[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mOutcome Prediction[2m > [22mshould return 0 before fitting[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mState Persistence[2m > [22mshould export state correctly[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mState Persistence[2m > [22mshould restore state correctly[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mClear[2m > [22mshould clear all data[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mConvenience Functions[2m > [22mcreateCausalInference should create instance[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mConvenience Functions[2m > [22mcomputeIPWWeight should compute weight for treatment[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mConvenience Functions[2m > [22mcomputeIPWWeight should compute weight for control[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mConvenience Functions[2m > [22mcomputeIPWWeight should clip extreme propensities[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mEdge Cases[2m > [22mshould handle single feature dimension[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/causal-inference.test.ts[2m > [22mCausalInference[2m > [22mEdge Cases[2m > [22mshould handle imbalanced treatment groups[32m 7[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mrecordCausalObservation[2m > [22måº”è¯¥æˆåŠŸè®°å½•å› æœè§‚æµ‹æ•°æ®[32m 60[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mrecordCausalObservation[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥è¿”å›null[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mestimateStrategyEffect[2m > [22måº”è¯¥è¿”å›å› æœæ•ˆåº”ä¼°è®¡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mestimateStrategyEffect[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥è¿”å›null[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mcompareStrategies[2m > [22måº”è¯¥è¿”å›ç­–ç•¥å¯¹æ¯”ç»“æœ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mcompareStrategies[2m > [22mæ ·æœ¬é‡ä¸è¶³æ—¶åº”è¯¥è¿”å› null[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mcreateExperiment[2m > [22måº”è¯¥æˆåŠŸåˆ›å»ºA/Bæµ‹è¯•å®éªŒ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mcreateExperiment[2m > [22måŠŸèƒ½ç¦ç”¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mcreateExperiment[2m > [22må˜ä½“æ•°é‡å°‘äº2æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mstartExperiment[2m > [22måº”è¯¥æˆåŠŸå¯åŠ¨å®éªŒ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mstartExperiment[2m > [22må®éªŒä¸å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mstartExperiment[2m > [22må·²å¯åŠ¨çš„å®éªŒä¸èƒ½é‡å¤å¯åŠ¨[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22massignVariant[2m > [22måº”è¯¥è¿”å›å·²å­˜åœ¨çš„å˜ä½“åˆ†é…[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22massignVariant[2m > [22måº”è¯¥ä¸ºæ–°ç”¨æˆ·åˆ†é…å˜ä½“[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22massignVariant[2m > [22må®éªŒæœªè¿è¡Œæ—¶åº”è¯¥è¿”å›null[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mrecordExperimentMetrics[2m > [22måº”è¯¥ä½¿ç”¨Welfordç®—æ³•æ›´æ–°æŒ‡æ ‡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22manalyzeExperiment[2m > [22måº”è¯¥è¿”å›å®éªŒåˆ†æç»“æœ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22manalyzeExperiment[2m > [22må®éªŒä¸å­˜åœ¨æ—¶åº”è¯¥è¿”å› null[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22manalyzeExperiment[2m > [22mæ•°æ®ä¸è¶³æ—¶åº”è¯¥è¿”å› isSignificant=false[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mcompleteExperiment[2m > [22måº”è¯¥æˆåŠŸç»“æŸå®éªŒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mlistExperiments[2m > [22måº”è¯¥è¿”å›å®éªŒåˆ—è¡¨[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/evaluation.service.test.ts[2m > [22mEvaluationService[2m > [22mlistExperiments[2m > [22måº”è¯¥æŒ‰çŠ¶æ€ç­›é€‰å®éªŒ[32m 1[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mCold Start Phase[2m > [22m[2mshould update all learners during cold start
[22m[39m[math-utils] æ›´æ–°äº§ç”Ÿæ— æ•ˆå€¼: L[17,16]=NaN
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mLearning[2m > [22m[2mshould increment update count in normal phase
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mLearning[2m > [22m[2mshould update member learners
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mWeight Updates[2m > [22m[2mshould update weights after learning
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mWeight Updates[2m > [22m[2mshould keep weights normalized to 1
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mWeight Updates[2m > [22m[2mshould keep weights above minimum
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mState Persistence[2m > [22m[2mshould export state correctly
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mState Persistence[2m > [22m[2mshould restore state correctly
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[EnsembleLearningFramework] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mReset[2m > [22m[2mshould reset to initial state
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mPhase Auto-Transition[2m > [22m[2mshould auto-transition to normal when coldstart is completed
[22m[39m[math-utils] æ›´æ–°äº§ç”Ÿæ— æ•ˆå€¼: L[17,16]=NaN
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/decision/ensemble.test.ts[2m > [22m[2mEnsembleLearningFramework[2m > [22m[2mMember Update Counts[2m > [22m[2mshould track individual member updates
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£
[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mInitialization[2m > [22mshould initialize with classify phase[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mInitialization[2m > [22mshould not be warm initially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mInitialization[2m > [22mshould have initial weights[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mInitialization[2m > [22mshould have zero update count initially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mCold Start Phase[2m > [22mshould use coldstart manager in classify phase[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mCold Start Phase[2m > [22mshould track cold start progress[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mCold Start Phase[2m > [22mshould update all learners during cold start[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mNormal Phase - Ensemble Decision[2m > [22mshould use ensemble voting in normal phase[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mNormal Phase - Ensemble Decision[2m > [22mshould include member votes in meta[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mNormal Phase - Ensemble Decision[2m > [22mshould include weights in meta[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mAction Selection[2m > [22mshould select an action from the list[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mAction Selection[2m > [22mshould return score as number[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mAction Selection[2m > [22mshould return confidence between 0 and 1[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mAction Selection[2m > [22mshould throw on empty action list[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mLearning[2m > [22mshould increment update count in normal phase[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mLearning[2m > [22mshould update member learners[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mWeight Updates[2m > [22mshould update weights after learning[32m 7[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mWeight Updates[2m > [22mshould keep weights normalized to 1[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mWeight Updates[2m > [22mshould keep weights above minimum[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mState Persistence[2m > [22mshould export state correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mState Persistence[2m > [22mshould restore state correctly[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mReset[2m > [22mshould reset to initial state[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mCapabilities[2m > [22mshould report correct capabilities[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mPhase Auto-Transition[2m > [22mshould auto-transition to normal when coldstart is completed[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mContext Handling[2m > [22mshould handle missing context fields[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mContext Handling[2m > [22mshould handle partial member contexts[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/decision/ensemble.test.ts[2m > [22mEnsembleLearningFramework[2m > [22mMember Update Counts[2m > [22mshould track individual member updates[32m 1[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mModel Update[2m > [22m[2mshould update model parameters after learning
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mModel Update[2m > [22m[2mshould synchronize Cholesky decomposition after update
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mModel Update[2m > [22m[2mshould accumulate reward information in b vector
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mModel Update[2m > [22m[2mshould handle multiple sequential updates
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mModel Persistence[2m > [22m[2mshould be able to save and restore model state
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mReset Functionality[2m > [22m[2mshould reset to initial state
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle zero reward
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstderr[2m | tests/unit/amas/learning/linucb.test.ts[2m > [22m[2mLinUCB Algorithm[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle negative reward
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mInitialization[2m > [22mshould initialize with correct model dimensions[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mInitialization[2m > [22mshould initialize A as identity matrix[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mInitialization[2m > [22mshould initialize b as zero vector[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mInitialization[2m > [22mshould initialize update count to zero[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mContext Vector Building[2m > [22mshould build correct feature vector with action features[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mContext Vector Building[2m > [22mshould produce different vectors for different actions[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mContext Vector Building[2m > [22mshould clamp state values to valid ranges[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mAction Selection[2m > [22mshould select an action from action space[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mAction Selection[2m > [22mshould select different actions based on state[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mAction Selection[2m > [22mshould handle cold start exploration phase[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mModel Update[2m > [22mshould update model parameters after learning[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mModel Update[2m > [22mshould synchronize Cholesky decomposition after update[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mModel Update[2m > [22mshould accumulate reward information in b vector[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mModel Update[2m > [22mshould handle multiple sequential updates[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mCold Start Strategy[2m > [22mshould use conservative alpha for early interactions[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mCold Start Strategy[2m > [22mshould use exploration phase alpha between 15-50 interactions[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mCold Start Strategy[2m > [22mshould stabilize after 50 interactions[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mCold Start Strategy[2m > [22mshould trigger higher exploration for good performance[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mModel Persistence[2m > [22mshould be able to save and restore model state[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mReset Functionality[2m > [22mshould reset to initial state[32m 8[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mEdge Cases[2m > [22mshould handle zero reward[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mEdge Cases[2m > [22mshould handle negative reward[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/linucb.test.ts[2m > [22mLinUCB Algorithm[2m > [22mEdge Cases[2m > [22mshould handle extreme state values gracefully[32m 0[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector in ProcessResult
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector in ProcessResult
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector in ProcessResult
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059260}
[Telemetry] amas.decision.latency = 5 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with correct structure
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with correct structure
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with correct structure
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059262}
[Telemetry] amas.decision.latency = 1 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector values as number array
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector values as number array
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector values as number array
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059266}
[Telemetry] amas.decision.latency = 2 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with version number
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with version number
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with version number
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059268}
[Telemetry] amas.decision.latency = 0 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with timestamp
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with timestamp
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with timestamp
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059269}
[Telemetry] amas.decision.latency = 0 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with labels array
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with labels array
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return featureVector with labels array
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059270}
[Telemetry] amas.decision.latency = 0 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return consistent featureVector for same event
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return consistent featureVector for same event
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return consistent featureVector for same event
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059271}
[Telemetry] amas.decision.latency = 0 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return consistent featureVector for same event
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return consistent featureVector for same event
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return consistent featureVector for same event
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059271}
[Telemetry] amas.decision.latency = 0 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return different featureVector for different events
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return different featureVector for different events
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return different featureVector for different events
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059273}
[Telemetry] amas.decision.latency = 1 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return different featureVector for different events
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mProcessResult Feature Vector[2m > [22m[2mshould return different featureVector for different events
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059275}
[Telemetry] amas.decision.latency = 2 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector Serialization[2m > [22m[2mshould be JSON serializable
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector Serialization[2m > [22m[2mshould be JSON serializable
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector Serialization[2m > [22m[2mshould be JSON serializable
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059278}
[Telemetry] amas.decision.latency = 1 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector Serialization[2m > [22m[2mshould not contain Float32Array
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector Serialization[2m > [22m[2mshould not contain Float32Array
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector Serialization[2m > [22m[2mshould not contain Float32Array
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059279}
[Telemetry] amas.decision.latency = 0 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector with Options[2m > [22m[2mshould return featureVector even with skipUpdate option
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector with Options[2m > [22m[2mshould return featureVector even with skipUpdate option
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059280}
[Telemetry] amas.decision.latency = 1 

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector with Options[2m > [22m[2mshould return featureVector with currentParams option
[22m[39m[AMAS Engine] è­¦å‘Šï¼šä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæ•°æ®åœ¨æœåŠ¡é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…é…ç½®æ•°æ®åº“å­˜å‚¨ã€‚

[90mstderr[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector with Options[2m > [22m[2mshould return featureVector with currentParams option
[22m[39m[math-utils] æ–°å¯¹è§’å…ƒç´ æ— æ•ˆ: r=Infinity
[LinUCB] Rank-1æ›´æ–°å¤±è´¥ï¼Œå›é€€åˆ°å®Œæ•´Choleskyåˆ†è§£

[90mstdout[2m | tests/unit/amas/engine-feature-vector.test.ts[2m > [22m[2mAMASEngine Feature Vector[2m > [22m[2mFeature Vector with Options[2m > [22m[2mshould return featureVector with currentParams option
[22m[39m[Telemetry] amas.circuit.event: {"type":"success","at":1764410059280}
[Telemetry] amas.decision.latency = 0 

 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return featureVector in ProcessResult[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return featureVector with correct structure[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return featureVector values as number array[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return featureVector with version number[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return featureVector with timestamp[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return featureVector with labels array[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return consistent featureVector for same event[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mProcessResult Feature Vector[2m > [22mshould return different featureVector for different events[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mFeature Vector Serialization[2m > [22mshould be JSON serializable[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mFeature Vector Serialization[2m > [22mshould not contain Float32Array[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mFeature Vector with Options[2m > [22mshould return featureVector even with skipUpdate option[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/engine-feature-vector.test.ts[2m > [22mAMASEngine Feature Vector[2m > [22mFeature Vector with Options[2m > [22mshould return featureVector with currentParams option[32m 1[2mms[22m[39m
[90mstdout[2m | tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22m[2mBayesianOptimizer[2m > [22m[2mState Persistence[2m > [22m[2mshould rebuild best from observations if missing
[22m[39m[BayesianOptimizer] ä»è§‚æµ‹æ•°æ®é‡å»ºbest

[90mstderr[2m | tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22m[2mBayesianOptimizer[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[BayesianOptimizer] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mInitialization[2m > [22mshould initialize with zero evaluations[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mInitialization[2m > [22mshould have no best initially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mInitialization[2m > [22mshould use default param space when not specified[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mInitialization[2m > [22mshould accept custom config[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mSuggestion[2m > [22mshould suggest params within bounds[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mSuggestion[2m > [22mshould return random samples during initial phase[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mSuggestion[2m > [22mshould use GP after initial samples[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mEvaluation Recording[2m > [22mshould record evaluation[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mEvaluation Recording[2m > [22mshould update best[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mEvaluation Recording[2m > [22mshould throw on dimension mismatch[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mEvaluation Recording[2m > [22mshould keep best as highest value[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mPosterior[2m > [22mshould return prior for no observations[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mPosterior[2m > [22mshould update posterior after observations[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mPosterior[2m > [22mshould have lower variance near observations[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mAcquisition Functions[2m > [22mshould compute UCB[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mAcquisition Functions[2m > [22mshould compute EI[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mAcquisition Functions[2m > [22mshould return high value for unexplored regions[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mBatch Suggestion[2m > [22mshould suggest multiple points[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mBatch Suggestion[2m > [22mshould suggest diverse points[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mStopping Condition[2m > [22mshould not stop initially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mStopping Condition[2m > [22mshould stop after max evaluations[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mObservations[2m > [22mshould return observation history[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mParameter Conversion[2m > [22mshould convert params to object[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mParameter Conversion[2m > [22mshould convert object to params[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mParameter Conversion[2m > [22mshould use default for missing keys[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mState Persistence[2m > [22mshould export state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mState Persistence[2m > [22mshould restore state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mState Persistence[2m > [22mshould rebuild best from observations if missing[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mReset[2m > [22mshould reset to initial state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mConvenience Functions[2m > [22mgetDefaultParamSpace should return AMAS param space[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mConvenience Functions[2m > [22mcreateAMASOptimizer should create configured optimizer[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mDiscretization[2m > [22mshould discretize suggestions when step is specified[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mOptimization Quality[2m > [22mshould find good solution for simple problem[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/optimization/bayesian-optimizer.test.ts[2m > [22mBayesianOptimizer[2m > [22mEI Acquisition[2m > [22mshould use EI when configured[32m 0[2mms[22m[39m
[90mstdout[2m | tests/unit/services/habit-profile.service.test.ts[2m > [22m[2mHabitProfileService[2m > [22m[2mpersistHabitProfile[2m > [22m[2måº”è¯¥åœ¨æ ·æœ¬ä¸è¶³æ—¶è·³è¿‡æŒä¹…åŒ–
[22m[39m[HabitProfile] æ ·æœ¬ä¸è¶³ï¼Œè·³è¿‡æŒä¹…åŒ–: userId=test-user-habit-profile, timeEvents=5

[90mstdout[2m | tests/unit/services/habit-profile.service.test.ts[2m > [22m[2mHabitProfileService[2m > [22m[2mpersistHabitProfile[2m > [22m[2måº”è¯¥åœ¨æ ·æœ¬å……è¶³æ—¶æ‰§è¡ŒæŒä¹…åŒ–
[22m[39m[HabitProfile] å·²æŒä¹…åŒ–: userId=test-user-habit-profile, timeEvents=15, preferredSlots=17,0,1

[90mstderr[2m | tests/unit/services/habit-profile.service.test.ts[2m > [22m[2mHabitProfileService[2m > [22m[2mpersistHabitProfile[2m > [22m[2måº”è¯¥åœ¨æ•°æ®åº“é”™è¯¯æ—¶è¿”å›false
[22m[39m[HabitProfile] æŒä¹…åŒ–å¤±è´¥: userId=test-user-habit-profile Error: DB Error
    at E:/danci/backend/tests/unit/services/habit-profile.service.test.ts:209:56
    at [90mfile:///E:/danci/backend/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///E:/danci/backend/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:912:26
    at [90mfile:///E:/danci/backend/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///E:/danci/backend/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1203:10[90m)[39m
    at [90mfile:///E:/danci/backend/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1647:37
    at Traces.$ [90m(file:///E:/danci/backend/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.U4xDYhzZ.js:115:27[90m)[39m
    at trace [90m(file:///E:/danci/backend/[39mnode_modules/[4mvitest[24m/dist/chunks/test.DqQZzsWf.js:234:21[90m)[39m
    at runTest [90m(file:///E:/danci/backend/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1647:12[90m)[39m

[90mstdout[2m | tests/unit/services/habit-profile.service.test.ts[2m > [22m[2mHabitProfileService[2m > [22m[2minitializeFromHistory[2m > [22m[2måº”è¯¥ä»ç­”é¢˜è®°å½•åˆå§‹åŒ–ä¹ æƒ¯ç”»åƒ
[22m[39m[HabitProfile] ä»å†å²è®°å½•åˆå§‹åŒ–å®Œæˆ: userId=test-user-habit-profile, records=5, sessions=2

[90mstdout[2m | tests/unit/services/habit-profile.service.test.ts[2m > [22m[2mHabitProfileService[2m > [22m[2minitializeFromHistory[2m > [22m[2måº”è¯¥å¤„ç†æ²¡æœ‰sessionIdçš„è®°å½•
[22m[39m[HabitProfile] ä»å†å²è®°å½•åˆå§‹åŒ–å®Œæˆ: userId=test-user-habit-profile, records=2, sessions=0

 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordTimeEvent[2m > [22måº”è¯¥è®°å½•æ—¶é—´äº‹ä»¶å¹¶æ›´æ–°æ—¶é—´åå¥½[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordTimeEvent[2m > [22måº”è¯¥ä½¿ç”¨å½“å‰æ—¶é—´å½“æœªæä¾›æ—¶é—´æˆ³[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordTimeEvent[2m > [22måº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªæ—¶é—´ç‚¹çš„å­¦ä¹ [32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordTimeEvent[2m > [22måº”è¯¥åœ¨æ ·æœ¬å……è¶³æ—¶è¿”å›åå¥½æ—¶é—´æ®µ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordSessionEnd[2m > [22måº”è¯¥è®°å½•ä¼šè¯ä¿¡æ¯[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordSessionEnd[2m > [22måº”è¯¥è®¡ç®—æ­£ç¡®çš„ä¸­ä½æ•°[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mrecordSessionEnd[2m > [22måº”è¯¥å¿½ç•¥æ— æ•ˆçš„ä¼šè¯æ•°æ®[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mgetHabitProfile[2m > [22måº”è¯¥è¿”å›é»˜è®¤å€¼å½“æ²¡æœ‰æ•°æ®[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mgetHabitProfile[2m > [22måº”è¯¥è¿”å›æ­£ç¡®çš„ç”»åƒç»“æ„[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mpersistHabitProfile[2m > [22måº”è¯¥åœ¨æ ·æœ¬ä¸è¶³æ—¶è·³è¿‡æŒä¹…åŒ–[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mpersistHabitProfile[2m > [22måº”è¯¥åœ¨æ ·æœ¬å……è¶³æ—¶æ‰§è¡ŒæŒä¹…åŒ–[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mpersistHabitProfile[2m > [22måº”è¯¥åœ¨æ•°æ®åº“é”™è¯¯æ—¶è¿”å›false[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22minitializeFromHistory[2m > [22måº”è¯¥ä»ç­”é¢˜è®°å½•åˆå§‹åŒ–ä¹ æƒ¯ç”»åƒ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22minitializeFromHistory[2m > [22måº”è¯¥å¤„ç†ç©ºå†å²è®°å½•[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22minitializeFromHistory[2m > [22måº”è¯¥å¤„ç†æ²¡æœ‰sessionIdçš„è®°å½•[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mresetUser[2m > [22måº”è¯¥é‡ç½®ç”¨æˆ·çš„ä¹ æƒ¯è¯†åˆ«å™¨[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/habit-profile.service.test.ts[2m > [22mHabitProfileService[2m > [22mgetActiveUserCount[2m > [22måº”è¯¥è¿”å›æ´»è·ƒç”¨æˆ·æ•°é‡[32m 0[2mms[22m[39m
[90mstderr[2m | tests/unit/services/auth.service.spec.ts[2m > [22m[2mAuthService[2m > [22m[2mverifyToken[2m > [22m[2må½“tokenæ— æ•ˆæ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯
[22m[39m[Auth] JWT éªŒè¯å¤±è´¥: invalid

[90mstderr[2m | tests/unit/services/auth.service.spec.ts[2m > [22m[2mAuthService[2m > [22m[2mverifyToken[2m > [22m[2må½“ä¼šè¯ä¸å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯
[22m[39m[Auth] Session ä¸å­˜åœ¨, hashedToken: 637dca1ed85901f7...

[90mstderr[2m | tests/unit/services/auth.service.spec.ts[2m > [22m[2mAuthService[2m > [22m[2mverifyToken[2m > [22m[2må½“ä¼šè¯è¿‡æœŸæ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯
[22m[39m[Auth] Session å·²è¿‡æœŸ: [35m2023-12-31T23:59:59.000Z[39m

[90mstderr[2m | tests/unit/services/auth.service.spec.ts[2m > [22m[2mAuthService[2m > [22m[2mverifyToken[2m > [22m[2må½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯
[22m[39m[Auth] ç”¨æˆ·ä¸å­˜åœ¨: user-1

 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mregister[2m > [22måº”è¯¥æˆåŠŸæ³¨å†Œæ–°ç”¨æˆ·å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œtoken[32m 7[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mregister[2m > [22må½“é‚®ç®±å·²å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mlogin[2m > [22måº”è¯¥æˆåŠŸç™»å½•å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œtoken[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mlogin[2m > [22må½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mlogin[2m > [22må½“å¯†ç é”™è¯¯æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mlogout[2m > [22måº”è¯¥åˆ é™¤æŒ‡å®štokençš„ä¼šè¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22må½“tokenæœ‰æ•ˆæ—¶åº”è¯¥è¿”å›ç”¨æˆ·ä¿¡æ¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22må½“tokenæ— æ•ˆæ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22må½“ä¼šè¯ä¸å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22må½“ä¼šè¯è¿‡æœŸæ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22må½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/auth.service.spec.ts[2m > [22mAuthService[2m > [22mgenerateToken[2m > [22måº”è¯¥ç”ŸæˆJWT token[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22msaveStateSnapshot[2m > [22måº”è¯¥åˆ›å»ºæ–°è®°å½•å½“ä»Šå¤©æ²¡æœ‰è®°å½•[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22msaveStateSnapshot[2m > [22måº”è¯¥ä½¿ç”¨EMAæ›´æ–°å½“ä»Šå¤©å·²æœ‰è®°å½• (Property 16)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetStateHistory[2m > [22måº”è¯¥è¿”å›æŒ‡å®šå¤©æ•°èŒƒå›´å†…çš„è®°å½• (Property 15, Requirements 5.1)[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetStateHistory[2m > [22måº”è¯¥æ”¯æŒå…·ä½“æ—¥æœŸèŒƒå›´[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetCognitiveGrowth[2m > [22måº”è¯¥å¯¹æ¯”å½“å‰å’Œ30å¤©å‰çš„è®¤çŸ¥ç”»åƒ (Property 17, Requirements 5.3)[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetCognitiveGrowth[2m > [22måº”è¯¥è¿”å›é»˜è®¤å€¼å½“æ²¡æœ‰å†å²æ•°æ®[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetCognitiveGrowth[2m > [22måº”è¯¥è¿”å› hasData=false å½“åªæœ‰å½“å‰æ•°æ®æ²¡æœ‰å†å²æ•°æ®[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetSignificantChanges[2m > [22måº”è¯¥è¯†åˆ«å˜åŒ–è¶…è¿‡20%çš„æŒ‡æ ‡ (Property 18, Requirements 5.5)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetSignificantChanges[2m > [22måº”è¯¥è¿”å›ç©ºæ•°ç»„å½“å†å²è®°å½•ä¸è¶³[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetSignificantChanges[2m > [22måº”è¯¥æŒ‰å˜åŒ–å¹…åº¦æ’åº[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetSignificantChanges[2m > [22måº”è¯¥æ­£ç¡®å¤„ç†èµ·å§‹å€¼æ¥è¿‘0çš„æƒ…å†µ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetStateByDate[2m > [22måº”è¯¥è¿”å›æŒ‡å®šæ—¥æœŸçš„çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetStateByDate[2m > [22måº”è¯¥è¿”å›nullå½“æ²¡æœ‰æ‰¾åˆ°è®°å½•[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetHistorySummary[2m > [22måº”è¯¥è¿”å›æŒ‡æ ‡å¹³å‡å€¼[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mgetHistorySummary[2m > [22måº”è¯¥è¿”å›é›¶å€¼å½“æ²¡æœ‰è®°å½•[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mStateHistoryService[2m > [22mdeleteUserHistory[2m > [22måº”è¯¥åˆ é™¤ç”¨æˆ·æ‰€æœ‰å†å²è®°å½•[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mSignificant Change Detection Logic[2m > [22mæ­£è´Ÿåˆ¤æ–­[2m > [22måº”è¯¥æ­£ç¡®åˆ¤æ–­æŒ‡æ ‡å˜åŒ–çš„æ­£è´Ÿæ€§[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/state-history.service.test.ts[2m > [22mSignificant Change Detection Logic[2m > [22må˜åŒ–ç™¾åˆ†æ¯”è®¡ç®—[2m > [22måº”è¯¥æ­£ç¡®è®¡ç®—å˜åŒ–ç™¾åˆ†æ¯”[32m 0[2mms[22m[39m
[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒå¯åŠ¨[2m > [22m[2måº”è¯¥å¯åŠ¨å®éªŒ
[22m[39m[ABTest] Started experiment: Test Experiment

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒå¯åŠ¨[2m > [22m[2mä¸åº”è¯¥é‡å¤å¯åŠ¨å®éªŒ
[22m[39m[ABTest] Started experiment: Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2mæµé‡åˆ†é…[2m > [22m[2måº”è¯¥æ ¹æ®æƒé‡åˆ†é…ç”¨æˆ·
[22m[39m[ABTest] Started experiment: Traffic Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2mæµé‡åˆ†é…[2m > [22m[2måº”è¯¥ä¸ºåŒä¸€ç”¨æˆ·è¿”å›ç›¸åŒçš„å˜ä½“
[22m[39m[ABTest] Started experiment: Consistency Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2mæŒ‡æ ‡è®°å½•[2m > [22m[2måº”è¯¥è®°å½•å˜ä½“æŒ‡æ ‡
[22m[39m[ABTest] Started experiment: Metrics Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒåˆ†æ[2m > [22m[2måº”è¯¥åˆ†æå®éªŒç»“æœ
[22m[39m[ABTest] Started experiment: Analysis Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒåˆ†æ[2m > [22m[2måº”è¯¥æ¨èéƒ¨ç½²è·èƒœå˜ä½“
[22m[39m[ABTest] Started experiment: Winner Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒåˆ†æ[2m > [22m[2måº”è¯¥æ¨èç»§ç»­æµ‹è¯•å½“æ ·æœ¬ä¸è¶³
[22m[39m[ABTest] Started experiment: Insufficient Samples

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒå®Œæˆ[2m > [22m[2måº”è¯¥å®Œæˆå®éªŒ
[22m[39m[ABTest] Started experiment: Complete Test

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒå®Œæˆ[2m > [22m[2måº”è¯¥ä¸­æ­¢å®éªŒ
[22m[39m[ABTest] Started experiment: Abort Test
[ABTest] Aborted experiment: Abort Test. Reason: Test abort

[90mstdout[2m | tests/unit/amas/ab-testing.test.ts[2m > [22m[2mABTestEngine[2m > [22m[2må®éªŒåˆ—è¡¨[2m > [22m[2måº”è¯¥æŒ‰çŠ¶æ€è¿‡æ»¤å®éªŒ
[22m[39m[ABTest] Started experiment: Exp 1

 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ›å»º[2m > [22måº”è¯¥åˆ›å»ºæ–°å®éªŒ[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ›å»º[2m > [22måº”è¯¥éªŒè¯å˜ä½“æƒé‡æ€»å’Œä¸º1[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ›å»º[2m > [22måº”è¯¥éªŒè¯è‡³å°‘æœ‰ä¸€ä¸ªå¯¹ç…§ç»„[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒå¯åŠ¨[2m > [22måº”è¯¥å¯åŠ¨å®éªŒ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒå¯åŠ¨[2m > [22mä¸åº”è¯¥é‡å¤å¯åŠ¨å®éªŒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22mæµé‡åˆ†é…[2m > [22måº”è¯¥æ ¹æ®æƒé‡åˆ†é…ç”¨æˆ·[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22mæµé‡åˆ†é…[2m > [22måº”è¯¥ä¸ºåŒä¸€ç”¨æˆ·è¿”å›ç›¸åŒçš„å˜ä½“[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22mæŒ‡æ ‡è®°å½•[2m > [22måº”è¯¥è®°å½•å˜ä½“æŒ‡æ ‡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ†æ[2m > [22måº”è¯¥åˆ†æå®éªŒç»“æœ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ†æ[2m > [22måº”è¯¥æ¨èéƒ¨ç½²è·èƒœå˜ä½“[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ†æ[2m > [22måº”è¯¥æ¨èç»§ç»­æµ‹è¯•å½“æ ·æœ¬ä¸è¶³[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒå®Œæˆ[2m > [22måº”è¯¥å®Œæˆå®éªŒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒå®Œæˆ[2m > [22måº”è¯¥ä¸­æ­¢å®éªŒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ—è¡¨[2m > [22måº”è¯¥åˆ—å‡ºæ‰€æœ‰å®éªŒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/ab-testing.test.ts[2m > [22mABTestEngine[2m > [22må®éªŒåˆ—è¡¨[2m > [22måº”è¯¥æŒ‰çŠ¶æ€è¿‡æ»¤å®éªŒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetCurrentTrend[2m > [22måº”è¯¥è¿”å›æœ‰æ•ˆçš„ TrendState (Property 4)[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetCurrentTrend[2m > [22måº”è¯¥ä»å†å²è®°å½•æ¨æ–­è¶‹åŠ¿å½“æ²¡æœ‰ AMAS çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetCurrentTrend[2m > [22måº”è¯¥éªŒè¯å¹¶å›é€€æ— æ•ˆçš„è¶‹åŠ¿çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetCurrentTrend[2m > [22måº”è¯¥æ­£ç¡®è®¡ç®—è¿ç»­å¤©æ•°[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetCurrentTrend[2m > [22måº”è¯¥è¿”å›1å½“æ²¡æœ‰å†å²è®°å½• (è¾¹ç•Œæƒ…å†µä¿®å¤)[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetTrendHistory[2m > [22måº”è¯¥è¿”å›æŒ‰å‘¨åˆ†ç»„çš„å†å²æ•°æ® (Property 5)[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgetTrendHistory[2m > [22måº”è¯¥æ­£ç¡®èšåˆæ¯æ—¥ç­”é¢˜è®°å½•[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgenerateTrendReport[2m > [22måº”è¯¥ç”ŸæˆåŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µçš„æŠ¥å‘Š (Property 7)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mgenerateTrendReport[2m > [22måº”è¯¥æ­£ç¡®åˆ¤æ–­è¶‹åŠ¿æ–¹å‘[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mcheckIntervention[2m > [22måº”è¯¥åœ¨ stuck æˆ– down çŠ¶æ€æ—¶è¿”å›éœ€è¦å¹²é¢„ (Property 4)[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mcheckIntervention[2m > [22måº”è¯¥åœ¨ up æˆ– flat çŠ¶æ€æ—¶è¿”å›ä¸éœ€è¦å¹²é¢„[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mcheckIntervention[2m > [22måº”è¯¥åœ¨è¿ç»­è¶…è¿‡3å¤© down çŠ¶æ€æ—¶è§¦å‘è­¦å‘Š (Property 6, Requirements 2.4)[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrendAnalysisService[2m > [22mcheckIntervention[2m > [22måº”è¯¥ä¸º stuck çŠ¶æ€è¿”å›é¼“åŠ±ç±»å‹[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrend State Logic[2m > [22mè¶‹åŠ¿çŠ¶æ€åˆ¤å®š (Requirements 2.1)[2m > [22måº”è¯¥åŒºåˆ† flat å’Œ stuck çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/trend-analysis.service.test.ts[2m > [22mTrend State Logic[2m > [22mè¿ç»­å¤©æ•°è®¡ç®—[2m > [22måº”è¯¥æ­£ç¡®è®¡ç®—è¿ç»­åŒ¹é…çŠ¶æ€çš„å¤©æ•°[32m 0[2mms[22m[39m
[90mstdout[2m | tests/unit/amas/versioning.test.ts[2m > [22m[2mVersionManager[2m > [22m[2mç‰ˆæœ¬å›æ»š[2m > [22m[2måº”è¯¥å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
[22m[39m[VersionManager] Rolling back to version 2025.11.29
[VersionManager] Reason: Performance regression

[90mstdout[2m | tests/unit/amas/versioning.test.ts[2m > [22m[2mVersionManager[2m > [22m[2mç°åº¦å‘å¸ƒ[2m > [22m[2måº”è¯¥å¯åŠ¨ç°åº¦å‘å¸ƒ
[22m[39m[VersionManager] Started canary for version 2025.11.29 at 10% traffic

[90mstdout[2m | tests/unit/amas/versioning.test.ts[2m > [22m[2mVersionManager[2m > [22m[2mç°åº¦å‘å¸ƒ[2m > [22m[2måº”è¯¥æ ¹æ®æµé‡æ¯”ä¾‹åˆ†é…è¯·æ±‚
[22m[39m[VersionManager] Started canary for version 2025.11.29 at 50% traffic

[90mstdout[2m | tests/unit/amas/versioning.test.ts[2m > [22m[2mVersionManager[2m > [22m[2mç°åº¦å‘å¸ƒ[2m > [22m[2måº”è¯¥æ›´æ–°ç°åº¦å‘å¸ƒæŒ‡æ ‡
[22m[39m[VersionManager] Started canary for version 2025.11.29 at 10% traffic

[90mstdout[2m | tests/unit/amas/versioning.test.ts[2m > [22m[2mVersionManager[2m > [22m[2mç°åº¦å‘å¸ƒ[2m > [22m[2måº”è¯¥å®ŒæˆæˆåŠŸçš„ç°åº¦å‘å¸ƒ
[22m[39m[VersionManager] Started canary for version 2025.11.29 at 10% traffic

[90mstdout[2m | tests/unit/amas/versioning.test.ts[2m > [22m[2mVersionManager[2m > [22m[2mç°åº¦å‘å¸ƒ[2m > [22m[2måº”è¯¥å®ŒæˆæˆåŠŸçš„ç°åº¦å‘å¸ƒ
[22m[39m[VersionManager] Canary deployment successful

 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æ³¨å†Œ[2m > [22måº”è¯¥æˆåŠŸæ³¨å†Œæ–°ç‰ˆæœ¬[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æ³¨å†Œ[2m > [22måº”è¯¥ç”Ÿæˆå”¯ä¸€çš„ç‰ˆæœ¬ID[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æ³¨å†Œ[2m > [22måº”è¯¥åŒ…å«çˆ¶ç‰ˆæœ¬ID[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æ¿€æ´»[2m > [22måº”è¯¥æ¿€æ´»æŒ‡å®šç‰ˆæœ¬[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æ¿€æ´»[2m > [22måº”è¯¥å°†æ—§ç‰ˆæœ¬è®¾ä¸ºdeprecated[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æŸ¥è¯¢[2m > [22måº”è¯¥é€šè¿‡IDè·å–ç‰ˆæœ¬[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æŸ¥è¯¢[2m > [22måº”è¯¥åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æŸ¥è¯¢[2m > [22måº”è¯¥æŒ‰çŠ¶æ€è¿‡æ»¤[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æŸ¥è¯¢[2m > [22måº”è¯¥æŒ‰æ¨¡å‹ç±»å‹è¿‡æ»¤[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬æŸ¥è¯¢[2m > [22måº”è¯¥æ”¯æŒåˆ†é¡µ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mæŒ‡æ ‡æ›´æ–°[2m > [22måº”è¯¥æ›´æ–°ç‰ˆæœ¬æŒ‡æ ‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬åˆ é™¤å’Œå½’æ¡£[2m > [22måº”è¯¥å½’æ¡£ç‰ˆæœ¬[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬åˆ é™¤å’Œå½’æ¡£[2m > [22måº”è¯¥åˆ é™¤éæ´»è·ƒç‰ˆæœ¬[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mModelRegistry[2m > [22mç‰ˆæœ¬åˆ é™¤å’Œå½’æ¡£[2m > [22mä¸åº”è¯¥åˆ é™¤æ´»è·ƒç‰ˆæœ¬[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç‰ˆæœ¬æ¯”è¾ƒ[2m > [22måº”è¯¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ€§èƒ½[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç‰ˆæœ¬æ¯”è¾ƒ[2m > [22måº”è¯¥åˆ¤æ–­æ˜¾è‘—æ”¹è¿›[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç‰ˆæœ¬æ¯”è¾ƒ[2m > [22måº”è¯¥æ¨èå›æ»šå½“æ€§èƒ½ä¸‹é™[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç‰ˆæœ¬å›æ»š[2m > [22måº”è¯¥å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç°åº¦å‘å¸ƒ[2m > [22måº”è¯¥å¯åŠ¨ç°åº¦å‘å¸ƒ[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç°åº¦å‘å¸ƒ[2m > [22måº”è¯¥æ ¹æ®æµé‡æ¯”ä¾‹åˆ†é…è¯·æ±‚[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç°åº¦å‘å¸ƒ[2m > [22måº”è¯¥æ›´æ–°ç°åº¦å‘å¸ƒæŒ‡æ ‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/versioning.test.ts[2m > [22mVersionManager[2m > [22mç°åº¦å‘å¸ƒ[2m > [22måº”è¯¥å®ŒæˆæˆåŠŸçš„ç°åº¦å‘å¸ƒ[32m 0[2mms[22m[39m
[90mstdout[2m | tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22m[2mThompsonSampling[2m > [22m[2mState Persistence[2m > [22m[2mshould handle version mismatch gracefully
[22m[39m[ThompsonSampling] ç‰ˆæœ¬è¿ç§»: 0.0.1 â†’ 1.0.0

[90mstderr[2m | tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22m[2mThompsonSampling[2m > [22m[2mState Persistence[2m > [22m[2mshould handle prior mismatch
[22m[39m[ThompsonSampling] å…ˆéªŒå‚æ•°ä¸åŒ¹é…: çŠ¶æ€(Î±=1, Î²=1) vs å®ä¾‹(Î±=2, Î²=2)ã€‚å°†æŒ‰å·®é¢è°ƒæ•´å·²å­˜å‚¨å‚æ•°ã€‚

 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mInitialization[2m > [22mshould initialize with zero update count[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mInitialization[2m > [22mshould use default priors when not specified[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mInitialization[2m > [22mshould accept custom priors[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mAction Selection[2m > [22mshould select an action from the list[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mAction Selection[2m > [22mshould return score between 0 and 1[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mAction Selection[2m > [22mshould return confidence between 0 and 1[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mAction Selection[2m > [22mshould include meta information[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mAction Selection[2m > [22mshould throw on empty action list[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mLearning[2m > [22mshould update count after update[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mLearning[2m > [22mshould increase alpha on positive reward[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mLearning[2m > [22mshould increase beta on negative reward[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mLearning[2m > [22mshould increase confidence with more samples[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mExpected Reward[2m > [22mshould return prior expected value for unseen action[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mExpected Reward[2m > [22mshould update expected reward after learning[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mSample Count[2m > [22mshould return zero for unseen action[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mSample Count[2m > [22mshould count samples correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mState Persistence[2m > [22mshould export and restore state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mState Persistence[2m > [22mshould handle version mismatch gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mState Persistence[2m > [22mshould handle prior mismatch[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mReset[2m > [22mshould reset to initial state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mCapabilities[2m > [22mshould report correct capabilities[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mContext Handling[2m > [22mshould handle missing context fields[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/thompson-sampling.test.ts[2m > [22mThompsonSampling[2m > [22mContext Handling[2m > [22mshould handle extreme context values[32m 0[2mms[22m[39m
[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mæŒ‡æ ‡è¯„ä¼°[2m > [22m[2måº”è¯¥åœ¨è¶…è¿‡é˜ˆå€¼ä¸”è¾¾åˆ°æŒç»­æ—¶é—´åè§¦å‘å‘Šè­¦
[22m[39mğŸ”¥ Alert fired: Test high severity rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mæŒ‡æ ‡è¯„ä¼°[2m > [22m[2måº”è¯¥åœ¨å€¼æ¢å¤æ­£å¸¸æ—¶è§£å†³å‘Šè­¦
[22m[39mğŸ”¥ Alert fired: Test high severity rule
âœ… Alert resolved: TestRuleHigh

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mæŒ‡æ ‡è¯„ä¼°[2m > [22m[2måº”è¯¥éµå®ˆå†·å´æ—¶é—´
[22m[39mğŸ”¥ Alert fired: Test high severity rule
ğŸ”¥ Alert fired: Test high severity rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mé˜ˆå€¼æ£€æŸ¥[2m > [22m[2måº”è¯¥æ­£ç¡®å¤„ç†å¤§äºæ“ä½œç¬¦
[22m[39mğŸ”¥ Alert fired: Test high severity rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mé˜ˆå€¼æ£€æŸ¥[2m > [22m[2måº”è¯¥æ­£ç¡®å¤„ç†å°äºæ“ä½œç¬¦
[22m[39mğŸ”¥ Alert fired: Test low threshold rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mæ‰¹é‡è¯„ä¼°[2m > [22m[2måº”è¯¥è¯„ä¼°å¤šä¸ªæŒ‡æ ‡
[22m[39mğŸ”¥ Alert fired: Test high severity rule
ğŸ”¥ Alert fired: Test error rate rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2må‘Šè­¦ç®¡ç†[2m > [22m[2måº”è¯¥è¿”å›æ´»åŠ¨å‘Šè­¦
[22m[39mğŸ”¥ Alert fired: Test high severity rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2må‘Šè­¦ç®¡ç†[2m > [22m[2måº”è¯¥è¿”å›å‘Šè­¦å†å²
[22m[39mğŸ”¥ Alert fired: Test high severity rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2må‘Šè­¦ç®¡ç†[2m > [22m[2måº”è¯¥æ‰‹åŠ¨è§£å†³å‘Šè­¦
[22m[39mğŸ”¥ Alert fired: Test high severity rule
âœ… Alert resolved: TestRuleHigh

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mäº‹ä»¶å›è°ƒ[2m > [22m[2måº”è¯¥è°ƒç”¨onStateChangeå›è°ƒ
[22m[39mğŸ”¥ Alert fired: Test high severity rule

[90mstdout[2m | tests/unit/amas/alert-engine.test.ts[2m > [22m[2mAlertEngine[2m > [22m[2mæ¶ˆæ¯æ ¼å¼åŒ–[2m > [22m[2måº”è¯¥æ­£ç¡®æ ¼å¼åŒ–å‘Šè­¦æ¶ˆæ¯
[22m[39mğŸ”¥ Alert fired: å»¶è¿Ÿè¾¾åˆ° 150.50msï¼Œè¶…è¿‡é˜ˆå€¼ 100.00ms

 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22måˆå§‹åŒ–[2m > [22måº”è¯¥åŠ è½½å¯ç”¨çš„è§„åˆ™[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22måˆå§‹åŒ–[2m > [22måº”è¯¥å¿½ç•¥ç¦ç”¨çš„è§„åˆ™[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mæŒ‡æ ‡è¯„ä¼°[2m > [22måº”è¯¥åœ¨è¶…è¿‡é˜ˆå€¼ä¸”è¾¾åˆ°æŒç»­æ—¶é—´åè§¦å‘å‘Šè­¦[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mæŒ‡æ ‡è¯„ä¼°[2m > [22måº”è¯¥åœ¨æœªè¶…è¿‡é˜ˆå€¼æ—¶ä¸è§¦å‘å‘Šè­¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mæŒ‡æ ‡è¯„ä¼°[2m > [22måº”è¯¥åœ¨å€¼æ¢å¤æ­£å¸¸æ—¶è§£å†³å‘Šè­¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mæŒ‡æ ‡è¯„ä¼°[2m > [22måº”è¯¥éµå®ˆå†·å´æ—¶é—´[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mé˜ˆå€¼æ£€æŸ¥[2m > [22måº”è¯¥æ­£ç¡®å¤„ç†å¤§äºæ“ä½œç¬¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mé˜ˆå€¼æ£€æŸ¥[2m > [22måº”è¯¥æ­£ç¡®å¤„ç†å°äºæ“ä½œç¬¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mæ‰¹é‡è¯„ä¼°[2m > [22måº”è¯¥è¯„ä¼°å¤šä¸ªæŒ‡æ ‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22må‘Šè­¦ç®¡ç†[2m > [22måº”è¯¥è¿”å›æ´»åŠ¨å‘Šè­¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22må‘Šè­¦ç®¡ç†[2m > [22måº”è¯¥è¿”å›å‘Šè­¦å†å²[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22må‘Šè­¦ç®¡ç†[2m > [22måº”è¯¥æ‰‹åŠ¨è§£å†³å‘Šè­¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mäº‹ä»¶å›è°ƒ[2m > [22måº”è¯¥è°ƒç”¨onStateChangeå›è°ƒ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/alert-engine.test.ts[2m > [22mAlertEngine[2m > [22mæ¶ˆæ¯æ ¼å¼åŒ–[2m > [22måº”è¯¥æ­£ç¡®æ ¼å¼åŒ–å‘Šè­¦æ¶ˆæ¯[32m 0[2mms[22m[39m
[90mstdout[2m | tests/unit/services/plan-generator.service.test.ts[2m > [22m[2mPlanGeneratorService[2m > [22m[2mupdatePlanProgress[2m > [22m[2måº”è¯¥åœ¨åå·®è¶…è¿‡20%æ—¶è§¦å‘è®¡åˆ’è°ƒæ•´ (Property 13)
[22m[39m[PlanGenerator] è®¡åˆ’å·²è°ƒæ•´: userId=user-123, reason=åå·®-50.0%, newTarget=27

 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mgeneratePlan[2m > [22måº”è¯¥ç”ŸæˆåŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µçš„å­¦ä¹ è®¡åˆ’ (Property 11)[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mgeneratePlan[2m > [22måº”è¯¥æ ¹æ® targetDays è®¡ç®—æ¯æ—¥ç›®æ ‡ (Requirements 4.1)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mgeneratePlan[2m > [22måº”è¯¥è®¡ç®—æ­£ç¡®çš„é¢„è®¡å®Œæˆæ—¥æœŸ (Property 12)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mgeneratePlan[2m > [22måº”è¯¥æ‹’ç»è®¿é—®æœªæˆæƒçš„è¯ä¹¦[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mgetCurrentPlan[2m > [22måº”è¯¥è¿”å›ç”¨æˆ·å½“å‰è®¡åˆ’[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mgetCurrentPlan[2m > [22måº”è¯¥è¿”å›nullå½“ç”¨æˆ·æ²¡æœ‰è®¡åˆ’[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mupdatePlanProgress[2m > [22måº”è¯¥è®¡ç®—æ­£ç¡®çš„è¿›åº¦ä¿¡æ¯[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mupdatePlanProgress[2m > [22måº”è¯¥è¿”å›é»˜è®¤è¿›åº¦å½“ç”¨æˆ·æ²¡æœ‰è®¡åˆ’[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mupdatePlanProgress[2m > [22måº”è¯¥åœ¨åå·®è¶…è¿‡20%æ—¶è§¦å‘è®¡åˆ’è°ƒæ•´ (Property 13)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mcalculateWordbookDistribution[2m > [22måº”è¯¥ä½¿ç”¨ Largest Remainder Method ç¡®ä¿ç™¾åˆ†æ¯”æ€»å’Œä¸º100% (Property 14)[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mcalculateWordbookDistribution[2m > [22måº”è¯¥æ­£ç¡®å¤„ç†å•ä¸ªè¯ä¹¦[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/plan-generator.service.test.ts[2m > [22mPlanGeneratorService[2m > [22mcalculateWordbookDistribution[2m > [22måº”è¯¥è¿”å›ç©ºæ•°ç»„å½“æ²¡æœ‰è¯ä¹¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mrecordReview[2m > [22mshould record a review event[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mrecordReview[2m > [22mshould handle incorrect answer[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mbatchRecordReview[2m > [22mshould batch record multiple review events[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mgetReviewTrace[2m > [22mshould return review trace with secondsAgo calculated[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mgetReviewTrace[2m > [22mshould respect limit parameter[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mgetReviewTrace[2m > [22mshould cap limit at maximum[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mgetReviewTrace[2m > [22mshould return empty array when no records[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mbatchGetMemoryState[2m > [22mshould return memory states for multiple words[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mbatchGetMemoryState[2m > [22mshould return empty map for empty wordIds[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mgetUserReviewStats[2m > [22mshould return user review statistics[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mcleanupOldRecords[2m > [22mshould delete old records[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mtrimWordRecords[2m > [22mshould trim word records to max limit[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/tracking/word-memory-tracker.test.ts[2m > [22mWordMemoryTracker[2m > [22mtrimWordRecords[2m > [22mshould return 0 when no records to keep[32m 0[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/learning/heuristic.test.ts[2m > [22m[2mHeuristicLearner[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[HeuristicLearner] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mInitialization[2m > [22mshould initialize with zero update count[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mInitialization[2m > [22mshould have initial average reward of 0[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mInitialization[2m > [22mshould have initial average error rate of 0.5[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mAction Selection[2m > [22mshould select an action from the list[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mAction Selection[2m > [22mshould return score as number[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mAction Selection[2m > [22mshould return confidence between 0.1 and 0.9[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mAction Selection[2m > [22mshould include breakdown in meta[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mAction Selection[2m > [22mshould throw on empty action list[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mScoring Logic[2m > [22mshould prefer easy actions when fatigue is high[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mScoring Logic[2m > [22mshould prefer harder actions when fatigue is low and memory is high[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mScoring Logic[2m > [22mshould prefer higher hint level when error rate is high[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mEMA Updates[2m > [22mshould update average reward with EMA[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mEMA Updates[2m > [22mshould update average error rate with EMA[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mEMA Updates[2m > [22mshould increment update count[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mEMA Updates[2m > [22mshould derive error rate from reward when context lacks it[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mState Persistence[2m > [22mshould export state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mState Persistence[2m > [22mshould restore state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mState Persistence[2m > [22mshould clamp restored values to valid ranges[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mReset[2m > [22mshould reset to initial state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mCapabilities[2m > [22mshould report correct capabilities[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mContext Biases[2m > [22mshould apply fatigue bias[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mContext Biases[2m > [22mshould apply motivation bias[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mEdge Cases[2m > [22mshould handle NaN in user state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/heuristic.test.ts[2m > [22mHeuristicLearner[2m > [22mEdge Cases[2m > [22mshould handle extreme reward values[32m 0[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/modeling/actr-memory.test.ts[2m > [22m[2mACTRMemoryModel[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[ACTRMemoryModel] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mInitialization[2m > [22mshould initialize with default parameters[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mInitialization[2m > [22mshould accept custom parameters[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mActivation Computation[2m > [22mshould return -Infinity for empty trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mActivation Computation[2m > [22mshould return finite activation for valid trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mActivation Computation[2m > [22mshould decrease activation with older reviews[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mActivation Computation[2m > [22mshould increase activation with more reviews[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mActivation Computation[2m > [22mshould apply error penalty for incorrect reviews[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mRecall Probability[2m > [22mshould return 0 for -Infinity activation[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mRecall Probability[2m > [22mshould return probability between 0 and 1[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mRecall Probability[2m > [22mshould increase with higher activation[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mRecall Probability[2m > [22mshould be approximately 0.5 at threshold[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mFull Activation Result[2m > [22mshould return all components[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mFull Activation Result[2m > [22mshould return zero probability for empty trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mOptimal Interval[2m > [22mshould return 0 for already low probability[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mOptimal Interval[2m > [22mshould return positive interval for high current probability[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mOptimal Interval[2m > [22mshould return longer interval for higher target probability[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mMemory Strength[2m > [22mshould return value between 0 and 1[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mMemory Strength[2m > [22mshould return 0 for empty trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mAction Selection[2m > [22mshould select an action[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mAction Selection[2m > [22mshould prefer easy actions for low recall probability[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mAction Selection[2m > [22mshould throw on empty action list[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mAction Selection[2m > [22mshould include meta information[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mUpdate[2m > [22mshould increment update count[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mState Persistence[2m > [22mshould export state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mState Persistence[2m > [22mshould restore state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mReset[2m > [22mshould reset update count[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mCapabilities[2m > [22mshould report correct capabilities[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mConvenience Functions[2m > [22mcomputeActivation should work as standalone[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mConvenience Functions[2m > [22mcomputeRecallProbability should work as standalone[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mConvenience Functions[2m > [22mcomputeOptimalInterval should work as standalone[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mEdge Cases[2m > [22mshould handle very small time values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mEdge Cases[2m > [22mshould handle very large time values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mretrievalProbability (Convenience Interface)[2m > [22mshould return RecallPrediction for valid trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mretrievalProbability (Convenience Interface)[2m > [22mshould return zero values for empty trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mretrievalProbability (Convenience Interface)[2m > [22mshould increase confidence with more reviews[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mretrievalProbability (Convenience Interface)[2m > [22mshould have higher recall probability for recent reviews[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mpredictOptimalInterval (Convenience Interface)[2m > [22mshould return IntervalPrediction for valid trace[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mpredictOptimalInterval (Convenience Interface)[2m > [22mshould use custom targetRecall[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mpredictOptimalInterval (Convenience Interface)[2m > [22mshould clamp targetRecall to valid range[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mpredictOptimalInterval (Convenience Interface)[2m > [22mshould have minSeconds <= optimalSeconds <= maxSeconds[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mpredictOptimalInterval (Convenience Interface)[2m > [22mshould respect minimum interval of 1 hour[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/actr-memory.test.ts[2m > [22mACTRMemoryModel[2m > [22mpredictOptimalInterval (Convenience Interface)[2m > [22mshould respect maximum interval of 30 days[32m 0[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/config/user-params.test.ts[2m > [22m[2mUserParamsManager[2m > [22m[2mState Export/Import[2m > [22m[2mshould reject invalid state on import
[22m[39m[UserParamsManager] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡å¯¼å…¥: user1

 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mInitialization[2m > [22mshould initialize with zero users[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mInitialization[2m > [22mshould return default params for unknown user[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mInitialization[2m > [22mshould accept custom config[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Management[2m > [22mshould get params for user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Management[2m > [22mshould set params for user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Management[2m > [22mshould clamp params to valid ranges[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Management[2m > [22mshould reset params to default[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Updates[2m > [22mshould update params based on feedback[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Updates[2m > [22mshould update performance tracking with EMA[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Updates[2m > [22mshould increase difficulty when accuracy is high and fatigue is low[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Updates[2m > [22mshould decrease difficulty when accuracy is low[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mParameter Updates[2m > [22mshould respect minimum update interval[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mBatch Updates[2m > [22mshould update multiple users[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mUser Management[2m > [22mshould track user count[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mUser Management[2m > [22mshould list all user IDs[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mUser Management[2m > [22mshould remove user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mUser Management[2m > [22mshould return false when removing non-existent user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mState Export/Import[2m > [22mshould export all states[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mState Export/Import[2m > [22mshould import all states[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mState Export/Import[2m > [22mshould export single user state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mState Export/Import[2m > [22mshould return null for non-existent user export[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mState Export/Import[2m > [22mshould import single user state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mState Export/Import[2m > [22mshould reject invalid state on import[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mStatistics[2m > [22mshould return stats summary[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mStatistics[2m > [22mshould return default stats when no users[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mConvenience Functions[2m > [22mgetParamBounds should return bounds[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mConvenience Functions[2m > [22mgetDefaultParams should return defaults[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mConvenience Functions[2m > [22mvalidateParams should return errors for invalid params[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mConvenience Functions[2m > [22mvalidateParams should return empty array for valid params[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mEdge Cases[2m > [22mshould handle feedback with extreme values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mEdge Cases[2m > [22mshould handle non-finite values in params[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/config/user-params.test.ts[2m > [22mUserParamsManager[2m > [22mAuto-Adjust Disabled[2m > [22mshould not adjust params when autoAdjust is disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetUserBadges[2m > [22måº”è¯¥è¿”å›ç”¨æˆ·å·²è·å¾—çš„å¾½ç« åˆ—è¡¨[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetUserBadges[2m > [22måº”è¯¥è¿”å›ç©ºæ•°ç»„å½“ç”¨æˆ·æ²¡æœ‰å¾½ç« [32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mcheckAndAwardBadges[2m > [22måº”è¯¥ä¸ºæ»¡è¶³æ¡ä»¶çš„å¾½ç« æˆäºˆç”¨æˆ·[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mcheckAndAwardBadges[2m > [22måº”è¯¥è·³è¿‡å·²è·å¾—çš„å¾½ç« [32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetBadgeDetails[2m > [22måº”è¯¥è¿”å›å¾½ç« è¯¦æƒ…[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetBadgeDetails[2m > [22måº”è¯¥è¿”å›nullå½“å¾½ç« ä¸å­˜åœ¨[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetBadgeDetails[2m > [22måº”è¯¥åŒ…å«ç”¨æˆ·è§£é”çŠ¶æ€[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetBadgeProgress[2m > [22måº”è¯¥è¿”å›å¾½ç« è¿›åº¦[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetBadgeProgress[2m > [22måº”è¯¥è¿”å›nullå½“å¾½ç« ä¸å­˜åœ¨[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadgeService[2m > [22mgetAllBadgesWithStatus[2m > [22måº”è¯¥è¿”å›æ‰€æœ‰å¾½ç« åŠç”¨æˆ·è§£é”çŠ¶æ€å’Œè¿›åº¦[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadge Eligibility Logic[2m > [22mæ¡ä»¶ç±»å‹æ£€æŸ¥[2m > [22mstreak æ¡ä»¶: è¿ç»­å¤©æ•° >= ç›®æ ‡å€¼[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadge Eligibility Logic[2m > [22mæ¡ä»¶ç±»å‹æ£€æŸ¥[2m > [22maccuracy æ¡ä»¶: æ­£ç¡®ç‡ >= ç›®æ ‡å€¼[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadge Eligibility Logic[2m > [22mæ¡ä»¶ç±»å‹æ£€æŸ¥[2m > [22mwords_learned æ¡ä»¶: å­¦ä¹ å•è¯æ•° >= ç›®æ ‡å€¼[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadge Eligibility Logic[2m > [22mæ¡ä»¶ç±»å‹æ£€æŸ¥[2m > [22mtotal_sessions æ¡ä»¶: ä¼šè¯æ•° >= ç›®æ ‡å€¼[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/badge.service.test.ts[2m > [22mBadge Eligibility Logic[2m > [22mæ¡ä»¶ç±»å‹æ£€æŸ¥[2m > [22mcognitive_improvement æ¡ä»¶: éœ€è¦ hasData ä¸º true[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetTimePreferences[2m > [22måº”è¯¥è¿”å›æ•°æ®ä¸è¶³å“åº”å½“ä¼šè¯æ•°é‡å°äº20 (Requirements 1.3)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetTimePreferences[2m > [22måº”è¯¥è¿”å›æ—¶é—´åå¥½åˆ†æç»“æœå½“æ•°æ®å……è¶³[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetTimePreferences[2m > [22måº”è¯¥ä»ç­”é¢˜è®°å½•è®¡ç®—æ—¶é—´åå¥½å½“æ²¡æœ‰ä¹ æƒ¯ç”»åƒ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22misGoldenTime[2m > [22måº”è¯¥è¿”å›é»„é‡‘æ—¶é—´å½“å½“å‰å°æ—¶åœ¨æ¨èæ—¶æ®µä¸”å¾—åˆ†é«˜äºé˜ˆå€¼ (Requirements 1.2)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22misGoldenTime[2m > [22måº”è¯¥è¿”å›éé»„é‡‘æ—¶é—´å½“æ•°æ®ä¸è¶³[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetRecommendedSlots[2m > [22måº”è¯¥è¿”å›æ°å¥½3ä¸ªæ—¶é—´æ®µæŒ‰å¾—åˆ†é™åºæ’åˆ— (Property 1, Requirements 1.5)[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetRecommendedSlots[2m > [22måº”è¯¥å½’ä¸€åŒ–æ‰€æœ‰å¾—åˆ†åˆ°0-1èŒƒå›´[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetRecommendedSlots[2m > [22måº”è¯¥è¿”å›é»˜è®¤æ—¶é—´æ®µå½“è¾“å…¥æ— æ•ˆ[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTimeRecommendService[2m > [22mgetRecommendedSlots[2m > [22måº”è¯¥ä¸ºæ¯ä¸ªæ—¶é—´æ®µè®¡ç®—ç½®ä¿¡åº¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTime Preference Calculations[2m > [22må½’ä¸€åŒ–å¾—åˆ†[2m > [22måº”è¯¥å°†è¶…å‡ºèŒƒå›´çš„å€¼é™åˆ¶åœ¨0-1ä¹‹é—´[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTime Preference Calculations[2m > [22mç½®ä¿¡åº¦è®¡ç®—[2m > [22måº”è¯¥åŸºäºæ ‡å‡†å·®è®¡ç®—ç½®ä¿¡åº¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/time-recommend.service.test.ts[2m > [22mTime Preference Calculations[2m > [22mæ•´ä½“ç½®ä¿¡åº¦è®¡ç®—[2m > [22måº”è¯¥ç»“åˆæ ·æœ¬æ•°é‡å’Œæ—¶é—´åˆ†å¸ƒæ–¹å·®[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22måˆå§‹çŠ¶æ€[2m > [22måº”è¯¥åˆå§‹åŒ–ä¸ºCLOSEDçŠ¶æ€[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22måˆå§‹çŠ¶æ€[2m > [22måº”è¯¥å…è®¸æ‰§è¡Œè¯·æ±‚[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mæˆåŠŸè®°å½•[2m > [22måº”è¯¥è®°å½•æˆåŠŸå¹¶ä¿æŒCLOSEDçŠ¶æ€[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22må¤±è´¥è®°å½•å’Œç†”æ–­[2m > [22måº”è¯¥åœ¨å¤±è´¥ç‡è¶…è¿‡é˜ˆå€¼æ—¶æ‰“å¼€ç†”æ–­å™¨[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22må¤±è´¥è®°å½•å’Œç†”æ–­[2m > [22måº”è¯¥åœ¨æ ·æœ¬ä¸è¶³æ—¶ä¸è§¦å‘ç†”æ–­[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22må¤±è´¥è®°å½•å’Œç†”æ–­[2m > [22måº”è¯¥åœ¨å¤±è´¥ç‡ä½äºé˜ˆå€¼æ—¶ä¿æŒCLOSED[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mOPENçŠ¶æ€[2m > [22måº”è¯¥æ‹’ç»æ‰§è¡Œè¯·æ±‚[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mOPENçŠ¶æ€[2m > [22måº”è¯¥åœ¨æŒç»­æ—¶é—´åè½¬ä¸ºHALF_OPEN[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mHALF_OPENçŠ¶æ€[2m > [22måº”è¯¥åœ¨æ¢æµ‹æˆåŠŸåè½¬ä¸ºCLOSED[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mHALF_OPENçŠ¶æ€[2m > [22måº”è¯¥åœ¨æ¢æµ‹å¤±è´¥åç«‹å³é‡æ–°æ‰“å¼€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mHALF_OPENçŠ¶æ€[2m > [22måº”è¯¥å…è®¸æ¢æµ‹è¯·æ±‚[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mæ»‘åŠ¨çª—å£[2m > [22måº”è¯¥ç»´æŠ¤çª—å£å¤§å°[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mé‡ç½®[2m > [22måº”è¯¥é‡ç½®æ‰€æœ‰çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mäº‹ä»¶å›è°ƒ[2m > [22måº”è¯¥è§¦å‘æˆåŠŸäº‹ä»¶[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mäº‹ä»¶å›è°ƒ[2m > [22måº”è¯¥è§¦å‘å¤±è´¥äº‹ä»¶[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/circuit-breaker.test.ts[2m > [22mCircuitBreaker[2m > [22mäº‹ä»¶å›è°ƒ[2m > [22måº”è¯¥è§¦å‘çŠ¶æ€è½¬æ¢äº‹ä»¶[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22menqueueDelayedReward[2m > [22måº”è¯¥æˆåŠŸå…¥é˜Ÿå»¶è¿Ÿå¥–åŠ±[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22menqueueDelayedReward[2m > [22måº”è¯¥å¤„ç†å¹‚ç­‰æ€§å†²çª[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22menqueueDelayedReward[2m > [22måº”è¯¥æŠ›å‡ºéå¹‚ç­‰æ€§é”™è¯¯[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mprocessPendingRewards[2m > [22måº”è¯¥å¤„ç†åˆ°æœŸçš„å¾…å¤„ç†å¥–åŠ±[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mprocessPendingRewards[2m > [22måº”è¯¥å¤„ç†å¤„ç†å¤±è´¥å¹¶é‡è¯•[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mprocessPendingRewards[2m > [22måº”è¯¥å¤„ç†æœ€å¤§é‡è¯•åæ ‡è®°ä¸ºFAILED[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mprocessPendingRewards[2m > [22må½“æ²¡æœ‰å¾…å¤„ç†ä»»åŠ¡æ—¶åº”è¯¥æå‰è¿”å›[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mgetRewardStatus[2m > [22måº”è¯¥è¿”å›æŒ‡å®šä¼šè¯çš„å¥–åŠ±çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mfindRewards[2m > [22måº”è¯¥æ ¹æ®è¿‡æ»¤æ¡ä»¶æŸ¥æ‰¾å¥–åŠ±[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/delayed-reward.service.test.ts[2m > [22mDelayedRewardService[2m > [22mfindRewards[2m > [22måº”è¯¥é™åˆ¶æŸ¥è¯¢æ•°é‡æœ€å¤§ä¸º100[32m 0[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22m[2mDelayedRewardAggregator[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[DelayedRewardAggregator] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mInitialization[2m > [22mshould initialize with empty queue[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mInitialization[2m > [22mshould use default schedule[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mInitialization[2m > [22mshould accept custom schedule[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAdding Rewards[2m > [22mshould add reward to queue[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAdding Rewards[2m > [22mshould accept custom event ID[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAdding Rewards[2m > [22mshould clamp reward to [-1, 1][32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAdding Rewards[2m > [22mshould throw on non-finite reward[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAdding Rewards[2m > [22mshould store optional metadata[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAggregation[2m > [22mshould return immediate reward portion immediately[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAggregation[2m > [22mshould release more reward over time[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAggregation[2m > [22mshould eventually release full reward[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAggregation[2m > [22mshould filter by user ID[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAggregation[2m > [22mshould return breakdown details[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mAggregation[2m > [22mshould discard expired events[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mQueue Management[2m > [22mshould get pending events for user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mQueue Management[2m > [22mshould get pending count for all users[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mQueue Management[2m > [22mshould get pending count for specific user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mQueue Management[2m > [22mshould clear all events[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mQueue Management[2m > [22mshould clear events for specific user[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mStatistics[2m > [22mshould return delivery stats[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mState Persistence[2m > [22mshould export state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mState Persistence[2m > [22mshould restore state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mState Persistence[2m > [22mshould validate restored events[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mConvenience Functions[2m > [22mgetDefaultSchedule should return schedule copy[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mConvenience Functions[2m > [22mcomputeImmediateReward should return immediate portion[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mConvenience Functions[2m > [22mcomputeImmediateReward should accept custom schedule[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mEdge Cases[2m > [22mshould handle negative rewards[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mEdge Cases[2m > [22mshould handle zero rewards[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts[2m > [22mDelayedRewardAggregator[2m > [22mEdge Cases[2m > [22mshould handle many events[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mConfiguration[2m > [22mshould initialize with default config[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mConfiguration[2m > [22mshould accept custom config[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mConfiguration[2m > [22mshould update config dynamically[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mConfiguration[2m > [22mshould update weights partially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mevaluate[2m > [22mshould return mastery evaluation for a word[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mevaluate[2m > [22mshould handle missing word state[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mevaluate[2m > [22mshould apply fatigue impact on confidence[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mevaluate[2m > [22mshould determine isLearned based on score and threshold[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mbatchEvaluate[2m > [22mshould evaluate multiple words in parallel[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mbatchEvaluate[2m > [22mshould return empty array for empty input[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mSuggestion Generation[2m > [22mshould suggest immediate review for low recall[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mSuggestion Generation[2m > [22mshould not have suggestion for mastered words[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mScore Calculation[2m > [22mshould calculate score with correct weights[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/evaluation/word-mastery-evaluator.test.ts[2m > [22mWordMasteryEvaluator[2m > [22mScore Calculation[2m > [22mshould clamp score between 0 and 1[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22msafeDefaultStrategy[2m > [22måº”è¯¥è¿”å›å®‰å…¨é»˜è®¤ç­–ç•¥[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22må½“çŠ¶æ€ä¸ºnullæ—¶åº”è¯¥è¿”å›å®‰å…¨é»˜è®¤[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22måº”è¯¥ä¸ºé«˜ç–²åŠ³åº”ç”¨ä¿æŠ¤ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22måº”è¯¥ä¸ºä½åŠ¨æœºåº”ç”¨é¼“åŠ±ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22måº”è¯¥ä¸ºä½æ³¨æ„åŠ›åº”ç”¨çŸ­æ‰¹æ¬¡ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22måº”è¯¥ä¸ºä½è®°å¿†åŠ›åº”ç”¨å·©å›ºç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22måº”è¯¥ä¸ºé«˜èƒ½åŠ›çŠ¶æ€åº”ç”¨æŒ‘æˆ˜ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mrulesBasedFallback[2m > [22måº”è¯¥ä¸ºæ­£å¸¸çŠ¶æ€è¿”å›æ ‡å‡†ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mtimeAwareFallback[2m > [22måº”è¯¥ä¸ºæ—©æ™¨æ—¶æ®µ(6-9)ä½¿ç”¨æ¸©å’Œç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mtimeAwareFallback[2m > [22måº”è¯¥ä¸ºåˆåæ—¶æ®µ(13-15)ä½¿ç”¨æ ‡å‡†ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mtimeAwareFallback[2m > [22måº”è¯¥ä¸ºæ™šé—´æ—¶æ®µ(19-22)ä½¿ç”¨å·©å›ºç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mtimeAwareFallback[2m > [22måº”è¯¥ä¸ºæ·±å¤œæ—¶æ®µ(22-6)ä½¿ç”¨è½»è´Ÿè·ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mtimeAwareFallback[2m > [22måº”è¯¥ä¸ºå…¶ä»–æ—¶æ®µä½¿ç”¨è§„åˆ™ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mintelligentFallback[2m > [22måº”è¯¥ä¸ºå†·å¯åŠ¨é˜¶æ®µ(<20æ¬¡äº¤äº’)ä½¿ç”¨å®‰å…¨é»˜è®¤[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mintelligentFallback[2m > [22måº”è¯¥ä¸ºé«˜é”™è¯¯ç‡é™ä½éš¾åº¦[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mintelligentFallback[2m > [22måº”è¯¥ä¼˜å…ˆä½¿ç”¨æ—¶é—´æ•æ„Ÿç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mintelligentFallback[2m > [22måº”è¯¥é»˜è®¤ä½¿ç”¨è§„åˆ™ç­–ç•¥[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mé™çº§åŸå› [2m > [22måº”è¯¥æ­£ç¡®ä¼ é€’é™çº§åŸå› [32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mç­–ç•¥ä¸€è‡´æ€§[2m > [22mæ‰€æœ‰é™çº§ç­–ç•¥åº”è¯¥æ ‡è®°degradedä¸ºtrue[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mç­–ç•¥ä¸€è‡´æ€§[2m > [22mæ‰€æœ‰é™çº§ç­–ç•¥åº”è¯¥åŒ…å«explanation[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/fallback.test.ts[2m > [22mFallback Strategies[2m > [22mç­–ç•¥ä¸€è‡´æ€§[2m > [22mæ‰€æœ‰ç­–ç•¥å‚æ•°åº”è¯¥åœ¨åˆç†èŒƒå›´å†…[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mInitialization[2m > [22mshould initialize with flat state[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mTrend Detection[2m > [22mshould detect upward trend with increasing values[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mTrend Detection[2m > [22mshould detect downward trend with decreasing values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mTrend Detection[2m > [22mshould detect flat trend with stable values[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mConfidence Calculation[2m > [22mshould increase confidence with more samples[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mConfidence Calculation[2m > [22mshould have low confidence with few samples[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mRolling Window[2m > [22mshould discard old samples outside window[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mEMA Fallback[2m > [22mshould use EMA when data is sparse[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mEdge Cases[2m > [22mshould handle single sample[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mEdge Cases[2m > [22mshould handle identical timestamps[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mEdge Cases[2m > [22mshould clamp ability values to [0, 1][32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mEdge Cases[2m > [22mshould handle out-of-order timestamps[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mValue Constraints[2m > [22mshould return valid trend state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/trend-analyzer.test.ts[2m > [22mTrendAnalyzer[2m > [22mValue Constraints[2m > [22mshould return confidence in [0, 1][32m 1[2mms[22m[39m
[90mstderr[2m | tests/unit/amas/learning/coldstart.test.ts[2m > [22m[2mColdStartManager[2m > [22m[2mState Persistence[2m > [22m[2mshould handle invalid state gracefully
[22m[39m[ColdStartManager] æ— æ•ˆçŠ¶æ€ï¼Œè·³è¿‡æ¢å¤

 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mInitialization[2m > [22mshould initialize with classify phase[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mInitialization[2m > [22mshould have zero update count initially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mInitialization[2m > [22mshould have zero progress initially[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mPhase Transitions[2m > [22mshould transition from classify to explore after 5 probes[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mPhase Transitions[2m > [22mshould classify user as fast with good performance[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mPhase Transitions[2m > [22mshould classify user as cautious with poor performance[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mAction Selection[2m > [22mshould return probe actions during classify phase[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mAction Selection[2m > [22mshould return settled strategy after classification[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mAction Selection[2m > [22mshould return confidence between 0 and 1[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mProgress Tracking[2m > [22mshould increase progress during classify phase[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mProgress Tracking[2m > [22mshould reach 0.5 progress at end of classify phase[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mState Persistence[2m > [22mshould export and restore state correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mState Persistence[2m > [22mshould handle invalid state gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mReset[2m > [22mshould reset to initial state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mCapabilities[2m > [22mshould report correct capabilities[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mEdge Cases[2m > [22mshould handle empty action list[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/learning/coldstart.test.ts[2m > [22mColdStartManager[2m > [22mEdge Cases[2m > [22mshould handle extreme error rates[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må†³ç­–å»¶è¿Ÿè®°å½•[2m > [22måº”è¯¥æ­£ç¡®è®°å½•å»¶è¿ŸæŒ‡æ ‡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må†³ç­–å»¶è¿Ÿè®°å½•[2m > [22måº”è¯¥æ­£ç¡®è®¡ç®—P95/P99ç™¾åˆ†ä½[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må†³ç­–å»¶è¿Ÿè®°å½•[2m > [22måº”è¯¥é™åˆ¶å»¶è¿Ÿæ ·æœ¬çª—å£å¤§å°[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mé”™è¯¯ç‡ç»Ÿè®¡[2m > [22måº”è¯¥æ­£ç¡®è®¡ç®—é”™è¯¯ç‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mé”™è¯¯ç‡ç»Ÿè®¡[2m > [22måº”è¯¥åœ¨æ²¡æœ‰è¯·æ±‚æ—¶ä¸è¿”å›é”™è¯¯ç‡æŒ‡æ ‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mç†”æ–­å™¨æŒ‡æ ‡[2m > [22måº”è¯¥è®°å½•ç†”æ–­å™¨çŠ¶æ€[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mç†”æ–­å™¨æŒ‡æ ‡[2m > [22måº”è¯¥è®¡ç®—ç†”æ–­å™¨æ‰“å¼€ç‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mé™çº§æŒ‡æ ‡[2m > [22måº”è¯¥è®¡ç®—é™çº§ç‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mè¶…æ—¶æŒ‡æ ‡[2m > [22måº”è¯¥è®¡ç®—è¶…æ—¶ç‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må»¶è¿Ÿå¥–åŠ±æŒ‡æ ‡[2m > [22måº”è¯¥è®¡ç®—å¥–åŠ±å¤±è´¥ç‡[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥åœ¨æ‰€æœ‰æŒ‡æ ‡å¥åº·æ—¶è¿”å›healthy[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥åœ¨å†³ç­–å»¶è¿Ÿè¶…æ ‡æ—¶è¿”å›degraded[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥åœ¨é”™è¯¯ç‡è¿‡é«˜æ—¶è¿”å›degraded[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥åœ¨ç†”æ–­å™¨é¢‘ç¹æ‰“å¼€æ—¶è¿”å›unhealthy[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥åœ¨é™çº§ç‡è¿‡é«˜æ—¶è¿”å›degraded[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥åœ¨å¥–åŠ±å¤±è´¥ç‡è¿‡é«˜æ—¶è¿”å›degraded[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22må¥åº·çŠ¶æ€è¯„ä¼°[2m > [22måº”è¯¥è¿”å›å®Œæ•´çš„å¥åº·çŠ¶æ€ç»“æ„[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mæŒ‡æ ‡æ”¶é›†[2m > [22måº”è¯¥æ”¶é›†æ‰€æœ‰ç±»å‹çš„æŒ‡æ ‡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mæŒ‡æ ‡æ”¶é›†[2m > [22måº”è¯¥åŒ…å«æ—¶é—´æˆ³[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/metrics-collector.test.ts[2m > [22mMetricsCollector[2m > [22mæŒ‡æ ‡é‡ç½®[2m > [22måº”è¯¥æ­£ç¡®é‡ç½®æ‰€æœ‰è®¡æ•°å™¨[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22må•ç­–ç•¥è¯„ä¼°[2m > [22måº”è¯¥è¯„ä¼°å•ä¸ªç­–ç•¥[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22må•ç­–ç•¥è¯„ä¼°[2m > [22måº”è¯¥è®¡ç®—æ­£ç¡®çš„ç»Ÿè®¡é‡[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22må•ç­–ç•¥è¯„ä¼°[2m > [22måº”è¯¥è®¡ç®—ç½®ä¿¡åŒºé—´[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22må¤šç­–ç•¥æ¯”è¾ƒ[2m > [22måº”è¯¥æ¯”è¾ƒå¤šä¸ªç­–ç•¥[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22må¤šç­–ç•¥æ¯”è¾ƒ[2m > [22måº”è¯¥æ­£ç¡®è¯†åˆ«æœ€ä½³ç­–ç•¥[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22må¤šç­–ç•¥æ¯”è¾ƒ[2m > [22måº”è¯¥è®¡ç®—ç›¸å¯¹æ”¹è¿›[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22måˆ†æ®µç»Ÿè®¡[2m > [22måº”è¯¥ç”Ÿæˆæ—¶é—´åˆ†æ®µç»Ÿè®¡[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/offline-evaluation.test.ts[2m > [22mOfflineReplayEvaluator[2m > [22mç´¯ç§¯é—æ†¾è®¡ç®—[2m > [22måº”è¯¥è®¡ç®—ç´¯ç§¯é—æ†¾[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mInitialization[2m > [22mshould initialize with reasonable attention value[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mInitialization[2m > [22mshould produce consistent results for normal features[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mAttention Updates[2m > [22mshould maintain attention near 1.0 for normal features[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mAttention Updates[2m > [22mshould decrease attention for high z-scored response time[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mAttention Updates[2m > [22mshould decrease attention for frequent pauses[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mAttention Updates[2m > [22mshould decrease attention for focus switching[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mAttention Updates[2m > [22mshould decrease attention for focus loss[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mAttention Updates[2m > [22mshould decrease attention for low interaction density[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mEMA Smoothing[2m > [22mshould smooth attention changes over time[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mEMA Smoothing[2m > [22mshould gradually converge to stable value[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mValue Constraints[2m > [22mshould always return value in [0, 1][32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mValue Constraints[2m > [22mshould not produce NaN values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mReset Functionality[2m > [22mshould reset to initial state[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mSequential Updates[2m > [22mshould handle improving attention over time[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mSequential Updates[2m > [22mshould handle deteriorating attention over time[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/attention-monitor.test.ts[2m > [22mAttentionMonitor[2m > [22mFeature Sensitivity[2m > [22mshould be most sensitive to focus loss duration[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mInitialization[2m > [22mshould initialize with low fatigue[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mInitialization[2m > [22mshould produce stable results for normal features[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFatigue Accumulation[2m > [22mshould increase fatigue with rising error rate[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFatigue Accumulation[2m > [22mshould increase fatigue with response time increase[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFatigue Accumulation[2m > [22mshould increase fatigue with repeated errors[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFatigue Accumulation[2m > [22mshould accumulate fatigue over multiple updates[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFatigue Decay[2m > [22mshould decay fatigue during breaks[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFatigue Decay[2m > [22mshould reset fatigue after long break[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mValue Constraints[2m > [22mshould always return value in [0, 1][32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mValue Constraints[2m > [22mshould not produce NaN values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mValue Constraints[2m > [22mshould handle negative trends correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mNon-linear Accumulation[2m > [22mshould show accelerated fatigue at higher levels[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mFeature Weights[2m > [22mshould weight different features appropriately[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mSequential Patterns[2m > [22mshould handle alternating good and bad performance[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mSequential Patterns[2m > [22mshould show recovery trend after sustained good performance[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mEdge Cases[2m > [22mshould handle zero features[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mEdge Cases[2m > [22mshould handle extreme positive values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/amas/modeling/fatigue-estimator.test.ts[2m > [22mFatigueEstimator[2m > [22mEdge Cases[2m > [22mshould handle extreme negative values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mCounter Operations[2m > [22mshould increment counter with labels[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mCounter Operations[2m > [22mshould record feature vector saved metrics[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mGauge Operations[2m > [22mshould set and update gauge values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mGauge Operations[2m > [22mshould update gauge to new value[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mHistogram Operations[2m > [22mshould record histogram observations[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mHistogram Operations[2m > [22mshould correctly bucket histogram values[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mPrometheus Export[2m > [22mshould export metrics in Prometheus format[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mPrometheus Export[2m > [22mshould export histogram with buckets[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/unit/services/metrics.service.test.ts[2m > [22mMetrics Service[2m > [22mReset Functionality[2m > [22mshould reset all metrics to initial state[32m 1[2mms[22m[39m

[2m Test Files [22m [1m[32m35 passed[39m[22m[90m (35)[39m
[2m      Tests [22m [1m[32m672 passed[39m[22m[90m (672)[39m
[2m   Start at [22m 17:54:14
[2m   Duration [22m 12.87s[2m (transform 1.52s, setup 561ms, collect 2.29s, tests 1.97s, environment 4ms, prepare 429ms)[22m

