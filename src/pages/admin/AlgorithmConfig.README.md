# 算法配置页面

## 概述

算法配置页面允许管理员查看和修改学习算法的所有参数，包括遗忘曲线、难度调整、优先级权重、掌握程度阈值、单词得分权重和答题速度评分标准。

## 功能特性

### 1. 遗忘曲线参数编辑
- 支持添加、删除、修改复习间隔
- 自动验证间隔递增性
- 显示默认值对比

### 2. 难度调整参数
- 连续答对阈值滑块（3-10次）
- 连续答错阈值滑块（2-5次）
- 最小调整间隔输入

### 3. 优先级权重配置
- 新单词权重
- 错误率权重
- 逾期时间权重
- 单词得分权重
- 实时验证总和为100%

### 4. 掌握程度阈值表格
- 5个级别的晋升条件
- 连续答对次数
- 最低正确率
- 最低得分

### 5. 单词得分权重配置
- 正确率权重
- 答题速度权重
- 稳定性权重
- 熟练度权重
- 实时验证总和为100%

### 6. 答题速度评分标准
- 优秀阈值
- 良好阈值
- 一般阈值
- 较慢阈值
- 毫秒和秒的转换显示

## 使用方法

### 访问页面
1. 以管理员身份登录
2. 进入管理后台
3. 点击侧边栏的"算法配置"

### 修改配置
1. 在各个区块中调整参数
2. 实时查看验证结果
3. 确认无误后点击"保存配置"

### 重置配置
1. 点击"恢复默认值"按钮
2. 在确认对话框中点击"确认重置"
3. 所有配置将恢复为系统默认值

## 配置说明

### 遗忘曲线参数
- **默认值**: [1, 3, 7, 15, 30] 天
- **说明**: 定义单词复习的时间间隔序列
- **影响**: 决定用户何时需要复习已学单词

### 难度调整参数
- **连续答对阈值**: 5次（范围3-10）
- **连续答错阈值**: 3次（范围2-5）
- **调整间隔**: 1个会话
- **说明**: 控制自适应难度调整的触发条件

### 优先级权重
- **新单词**: 40%
- **错误率**: 30%
- **逾期时间**: 20%
- **单词得分**: 10%
- **说明**: 决定学习队列中单词的排序优先级

### 掌握程度阈值
- **级别1-5**: 不同的晋升条件
- **说明**: 定义单词从一个掌握级别晋升到下一级别的要求

### 单词得分权重
- **正确率**: 40%
- **答题速度**: 30%
- **稳定性**: 20%
- **熟练度**: 10%
- **说明**: 决定单词综合得分的计算方式

### 答题速度评分标准
- **优秀**: < 3000ms (3秒)
- **良好**: < 5000ms (5秒)
- **一般**: < 10000ms (10秒)
- **较慢**: ≥ 10000ms (10秒)
- **说明**: 定义不同速度等级的时间阈值

## 验证规则

### 自动验证
- 优先级权重总和必须为100%
- 单词得分权重总和必须为100%
- 复习间隔必须递增
- 连续答对阈值必须在3-10之间
- 连续答错阈值必须在2-5之间
- 所有阈值必须为正数

### 错误提示
- 验证失败时在页面顶部显示错误列表
- 保存按钮在配置无效时禁用
- 权重总和不为100%时显示红色警告

## 技术实现

### 组件结构
```
AlgorithmConfigPage (主组件)
├── ReviewIntervalsSection (遗忘曲线)
├── DifficultyAdjustmentSection (难度调整)
├── PriorityWeightsSection (优先级权重)
├── MasteryThresholdsSection (掌握程度阈值)
├── ScoreWeightsSection (单词得分权重)
└── SpeedThresholdsSection (答题速度标准)
```

### 数据流
1. 从 AlgorithmConfigService 加载配置
2. 用户修改配置触发验证
3. 验证通过后保存到服务
4. 服务记录配置历史

### 状态管理
- 使用 React useState 管理配置状态
- 实时验证配置有效性
- 显示保存成功/失败状态

## 注意事项

1. **权限控制**: 只有管理员可以访问此页面
2. **配置影响**: 修改配置会影响所有用户的学习体验
3. **验证严格**: 所有配置必须通过验证才能保存
4. **重置警告**: 重置操作不可撤销，需要二次确认
5. **实时反馈**: 所有修改都有实时的视觉反馈

## 未来改进

1. 添加配置历史查看功能
2. 添加配置影响预览功能
3. 支持配置模板和预设
4. 添加配置导入/导出功能
5. 添加配置对比功能
