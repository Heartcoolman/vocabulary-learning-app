{
  "numTotalTestSuites": 1266,
  "numPassedTestSuites": 1219,
  "numFailedTestSuites": 47,
  "numPendingTestSuites": 0,
  "numTotalTests": 3320,
  "numPassedTests": 3273,
  "numFailedTests": 47,
  "numPendingTests": 0,
  "numTodoTests": 0,
  "snapshot": {
    "added": 0,
    "failure": false,
    "filesAdded": 0,
    "filesRemoved": 0,
    "filesRemovedList": [],
    "filesUnmatched": 0,
    "filesUpdated": 0,
    "matched": 0,
    "total": 0,
    "unchecked": 0,
    "uncheckedKeysByFile": [],
    "unmatched": 0,
    "updated": 0,
    "didUpdate": false
  },
  "startTime": 1765615899969,
  "success": false,
  "testResults": [
    {
      "assertionResults": [
        {
          "ancestorTitles": ["adminMiddleware", "unauthorized access"],
          "fullName": "adminMiddleware unauthorized access should return 401 when user is not set",
          "status": "passed",
          "title": "should return 401 when user is not set",
          "duration": 6.331754000000046,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["adminMiddleware", "unauthorized access"],
          "fullName": "adminMiddleware unauthorized access should return 401 when user is null",
          "status": "passed",
          "title": "should return 401 when user is null",
          "duration": 3.570876999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["adminMiddleware", "forbidden access"],
          "fullName": "adminMiddleware forbidden access should return 403 when user is not admin",
          "status": "passed",
          "title": "should return 403 when user is not admin",
          "duration": 1.0157709999999724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["adminMiddleware", "admin access"],
          "fullName": "adminMiddleware admin access should call next when user is admin",
          "status": "passed",
          "title": "should call next when user is admin",
          "duration": 0.6284409999999525,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["adminMiddleware", "admin access"],
          "fullName": "adminMiddleware admin access should not modify request when user is admin",
          "status": "passed",
          "title": "should not modify request when user is admin",
          "duration": 0.5083910000000742,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["adminMiddleware", "error handling"],
          "fullName": "adminMiddleware error handling should call next with error when exception occurs",
          "status": "passed",
          "title": "should call next with error when exception occurs",
          "duration": 5.807782999999972,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615914167,
      "endTime": 1765615914185.8079,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/middleware/admin.middleware.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["authMiddleware", "missing token"],
          "fullName": "authMiddleware missing token should return 401 when no authorization header",
          "status": "passed",
          "title": "should return 401 when no authorization header",
          "duration": 8.83103600000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "missing token"],
          "fullName": "authMiddleware missing token should return 401 when authorization header does not start with Bearer",
          "status": "passed",
          "title": "should return 401 when authorization header does not start with Bearer",
          "duration": 1.3116320000000314,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "missing token"],
          "fullName": "authMiddleware missing token should return 401 when authorization header is empty",
          "status": "passed",
          "title": "should return 401 when authorization header is empty",
          "duration": 0.7381710000000794,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "valid token"],
          "fullName": "authMiddleware valid token should call next and set req.user on valid token",
          "status": "passed",
          "title": "should call next and set req.user on valid token",
          "duration": 1.7517729999999574,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "valid token"],
          "fullName": "authMiddleware valid token should extract token correctly from Bearer header",
          "status": "passed",
          "title": "should extract token correctly from Bearer header",
          "duration": 5.770183999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "invalid token"],
          "fullName": "authMiddleware invalid token should return 401 when token verification fails",
          "status": "passed",
          "title": "should return 401 when token verification fails",
          "duration": 1.4730989999999338,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "invalid token"],
          "fullName": "authMiddleware invalid token should return 401 when token is malformed",
          "status": "passed",
          "title": "should return 401 when token is malformed",
          "duration": 0.3824460000000727,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["authMiddleware", "invalid token"],
          "fullName": "authMiddleware invalid token should return 401 when user not found",
          "status": "passed",
          "title": "should return 401 when user not found",
          "duration": 0.4981399999999212,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "no token provided"],
          "fullName": "optionalAuthMiddleware no token provided should call next without setting user when no authorization header",
          "status": "passed",
          "title": "should call next without setting user when no authorization header",
          "duration": 0.489306000000056,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "no token provided"],
          "fullName": "optionalAuthMiddleware no token provided should call next without setting user when authorization header does not start with Bearer",
          "status": "passed",
          "title": "should call next without setting user when authorization header does not start with Bearer",
          "duration": 0.24744299999997565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "no token provided"],
          "fullName": "optionalAuthMiddleware no token provided should call next without setting user when authorization header is empty",
          "status": "passed",
          "title": "should call next without setting user when authorization header is empty",
          "duration": 0.2040039999999408,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "no token provided"],
          "fullName": "optionalAuthMiddleware no token provided should call next without setting user when authorization is undefined",
          "status": "passed",
          "title": "should call next without setting user when authorization is undefined",
          "duration": 0.1664980000000469,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "valid token"],
          "fullName": "optionalAuthMiddleware valid token should call next and set req.user on valid token",
          "status": "passed",
          "title": "should call next and set req.user on valid token",
          "duration": 0.26523199999996905,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "valid token"],
          "fullName": "optionalAuthMiddleware valid token should extract token correctly from Bearer header",
          "status": "passed",
          "title": "should extract token correctly from Bearer header",
          "duration": 1.6173350000000255,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "valid token"],
          "fullName": "optionalAuthMiddleware valid token should set user with all properties from verification",
          "status": "passed",
          "title": "should set user with all properties from verification",
          "duration": 2.3374149999999645,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "invalid token"],
          "fullName": "optionalAuthMiddleware invalid token should call next without setting user when token verification fails",
          "status": "passed",
          "title": "should call next without setting user when token verification fails",
          "duration": 0.7972600000000511,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "invalid token"],
          "fullName": "optionalAuthMiddleware invalid token should call next without setting user when token is malformed",
          "status": "passed",
          "title": "should call next without setting user when token is malformed",
          "duration": 0.7060169999999744,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "invalid token"],
          "fullName": "optionalAuthMiddleware invalid token should call next without setting user when user not found",
          "status": "passed",
          "title": "should call next without setting user when user not found",
          "duration": 1.7218520000000126,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "invalid token"],
          "fullName": "optionalAuthMiddleware invalid token should continue request even with non-Error exception",
          "status": "passed",
          "title": "should continue request even with non-Error exception",
          "duration": 0.5068619999999555,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "invalid token"],
          "fullName": "optionalAuthMiddleware invalid token should not return error response unlike authMiddleware",
          "status": "passed",
          "title": "should not return error response unlike authMiddleware",
          "duration": 0.403144999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "comparison with authMiddleware"],
          "fullName": "optionalAuthMiddleware comparison with authMiddleware optionalAuthMiddleware allows access without token, authMiddleware does not",
          "status": "passed",
          "title": "optionalAuthMiddleware allows access without token, authMiddleware does not",
          "duration": 0.46511499999996886,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "comparison with authMiddleware"],
          "fullName": "optionalAuthMiddleware comparison with authMiddleware optionalAuthMiddleware continues on invalid token, authMiddleware rejects",
          "status": "passed",
          "title": "optionalAuthMiddleware continues on invalid token, authMiddleware rejects",
          "duration": 0.5771740000000136,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["optionalAuthMiddleware", "comparison with authMiddleware"],
          "fullName": "optionalAuthMiddleware comparison with authMiddleware both middlewares set user on valid token",
          "status": "passed",
          "title": "both middlewares set user on valid token",
          "duration": 0.40059499999995296,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913132,
      "endTime": 1765615913166.5771,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/middleware/auth.middleware.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["deprecationMiddleware", "基础功能"],
          "fullName": "deprecationMiddleware 基础功能 应该添加 Deprecation 响应头",
          "status": "passed",
          "title": "应该添加 Deprecation 响应头",
          "duration": 10.421102000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "基础功能"],
          "fullName": "deprecationMiddleware 基础功能 应该添加 Sunset 响应头",
          "status": "passed",
          "title": "应该添加 Sunset 响应头",
          "duration": 1.741019999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "基础功能"],
          "fullName": "deprecationMiddleware 基础功能 应该添加 Link 响应头指向替代 API",
          "status": "passed",
          "title": "应该添加 Link 响应头指向替代 API",
          "duration": 0.8337030000000141,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "基础功能"],
          "fullName": "deprecationMiddleware 基础功能 应该添加自定义警告消息响应头",
          "status": "passed",
          "title": "应该添加自定义警告消息响应头",
          "duration": 1.0509120000000394,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "基础功能"],
          "fullName": "deprecationMiddleware 基础功能 应该添加废弃级别响应头",
          "status": "passed",
          "title": "应该添加废弃级别响应头",
          "duration": 0.5931630000000041,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "基础功能"],
          "fullName": "deprecationMiddleware 基础功能 应该调用 next() 继续处理请求",
          "status": "passed",
          "title": "应该调用 next() 继续处理请求",
          "duration": 0.4569410000000289,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "废弃级别"],
          "fullName": "deprecationMiddleware 废弃级别 warning 级别应该使用 info 日志",
          "status": "passed",
          "title": "warning 级别应该使用 info 日志",
          "duration": 3.9682090000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "废弃级别"],
          "fullName": "deprecationMiddleware 废弃级别 sunset 级别应该使用 warn 日志",
          "status": "passed",
          "title": "sunset 级别应该使用 warn 日志",
          "duration": 1.450535000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "日志记录"],
          "fullName": "deprecationMiddleware 日志记录 应该记录请求方法和路径",
          "status": "passed",
          "title": "应该记录请求方法和路径",
          "duration": 2.054589999999962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "日志记录"],
          "fullName": "deprecationMiddleware 日志记录 应该记录客户端 IP 和 User-Agent",
          "status": "passed",
          "title": "应该记录客户端 IP 和 User-Agent",
          "duration": 1.0621800000000121,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "日志记录"],
          "fullName": "deprecationMiddleware 日志记录 应该记录用户 ID（如果已认证）",
          "status": "passed",
          "title": "应该记录用户 ID（如果已认证）",
          "duration": 0.8956140000000232,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "日志记录"],
          "fullName": "deprecationMiddleware 日志记录 enableLogging 为 false 时不应该记录日志",
          "status": "passed",
          "title": "enableLogging 为 false 时不应该记录日志",
          "duration": 0.47370599999999286,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "完整配置"],
          "fullName": "deprecationMiddleware 完整配置 应该正确处理所有配置选项",
          "status": "passed",
          "title": "应该正确处理所有配置选项",
          "duration": 1.1516289999999572,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "默认值"],
          "fullName": "deprecationMiddleware 默认值 应该使用默认的 warning 级别",
          "status": "passed",
          "title": "应该使用默认的 warning 级别",
          "duration": 2.2600330000000213,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "默认值"],
          "fullName": "deprecationMiddleware 默认值 应该生成默认的废弃时间",
          "status": "passed",
          "title": "应该生成默认的废弃时间",
          "duration": 0.8046530000000303,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "默认值"],
          "fullName": "deprecationMiddleware 默认值 应该生成默认的下线时间（180天后）",
          "status": "passed",
          "title": "应该生成默认的下线时间（180天后）",
          "duration": 0.9180590000000848,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["deprecationMiddleware", "默认值"],
          "fullName": "deprecationMiddleware 默认值 应该生成默认警告消息",
          "status": "passed",
          "title": "应该生成默认警告消息",
          "duration": 0.5707909999999856,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createDeprecationWarning"],
          "fullName": "createDeprecationWarning 应该创建 warning 级别的中间件",
          "status": "passed",
          "title": "应该创建 warning 级别的中间件",
          "duration": 0.6374909999999545,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createDeprecationWarning"],
          "fullName": "createDeprecationWarning 应该设置替代 API",
          "status": "passed",
          "title": "应该设置替代 API",
          "duration": 0.4528420000000324,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createDeprecationWarning"],
          "fullName": "createDeprecationWarning 应该使用提供的下线时间",
          "status": "passed",
          "title": "应该使用提供的下线时间",
          "duration": 0.5558949999999641,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createSunsetWarning"],
          "fullName": "createSunsetWarning 应该创建 sunset 级别的中间件",
          "status": "passed",
          "title": "应该创建 sunset 级别的中间件",
          "duration": 2.0978599999999687,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createSunsetWarning"],
          "fullName": "createSunsetWarning 应该设置下线时间和替代 API",
          "status": "passed",
          "title": "应该设置下线时间和替代 API",
          "duration": 3.279184999999984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createSunsetWarning"],
          "fullName": "createSunsetWarning 应该使用 warn 级别记录日志",
          "status": "passed",
          "title": "应该使用 warn 级别记录日志",
          "duration": 3.5524950000000217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["immediateDeprecation"],
          "fullName": "immediateDeprecation 应该返回 410 Gone 状态码",
          "status": "passed",
          "title": "应该返回 410 Gone 状态码",
          "duration": 0.753716000000054,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["immediateDeprecation"],
          "fullName": "immediateDeprecation 应该返回包含替代 API 的错误响应",
          "status": "passed",
          "title": "应该返回包含替代 API 的错误响应",
          "duration": 0.7966219999999566,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["immediateDeprecation"],
          "fullName": "immediateDeprecation 应该使用自定义错误消息",
          "status": "passed",
          "title": "应该使用自定义错误消息",
          "duration": 4.939766999999961,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["immediateDeprecation"],
          "fullName": "immediateDeprecation 应该添加 Link 响应头",
          "status": "passed",
          "title": "应该添加 Link 响应头",
          "duration": 0.9278070000000298,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["immediateDeprecation"],
          "fullName": "immediateDeprecation 应该记录警告日志",
          "status": "passed",
          "title": "应该记录警告日志",
          "duration": 0.9330760000000282,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["immediateDeprecation"],
          "fullName": "immediateDeprecation 应该记录已认证用户的 ID",
          "status": "passed",
          "title": "应该记录已认证用户的 ID",
          "duration": 0.41606799999999566,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["applyDeprecationToRouter"],
          "fullName": "applyDeprecationToRouter 应该将中间件应用到路由器",
          "status": "passed",
          "title": "应该将中间件应用到路由器",
          "duration": 0.28633400000001075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["applyDeprecationToRouter"],
          "fullName": "applyDeprecationToRouter 应用的中间件应该正常工作",
          "status": "passed",
          "title": "应用的中间件应该正常工作",
          "duration": 0.39435100000002876,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["HTTP 日期格式"],
          "fullName": "HTTP 日期格式 应该生成符合 RFC 7231 的 HTTP-date 格式",
          "status": "passed",
          "title": "应该生成符合 RFC 7231 的 HTTP-date 格式",
          "duration": 0.5876399999999649,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["边界情况"],
          "fullName": "边界情况 应该处理缺少 IP 地址的请求",
          "status": "passed",
          "title": "应该处理缺少 IP 地址的请求",
          "duration": 0.9159329999999954,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["边界情况"],
          "fullName": "边界情况 应该处理缺少 User-Agent 的请求",
          "status": "passed",
          "title": "应该处理缺少 User-Agent 的请求",
          "duration": 0.39417500000001837,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["边界情况"],
          "fullName": "边界情况 应该处理没有替代 API 的情况",
          "status": "passed",
          "title": "应该处理没有替代 API 的情况",
          "duration": 0.47138600000005226,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910328,
      "endTime": 1765615910388.4714,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/middleware/deprecation.middleware.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["errorHandler", "ZodError handling"],
          "fullName": "errorHandler ZodError handling should return 400 for Zod validation error",
          "status": "passed",
          "title": "should return 400 for Zod validation error",
          "duration": 13.188110999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "ZodError handling"],
          "fullName": "errorHandler ZodError handling should extract first error message from ZodError",
          "status": "passed",
          "title": "should extract first error message from ZodError",
          "duration": 5.589386999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "AppError handling"],
          "fullName": "errorHandler AppError handling should handle AppError.notFound",
          "status": "passed",
          "title": "should handle AppError.notFound",
          "duration": 1.5747100000000955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "AppError handling"],
          "fullName": "errorHandler AppError handling should handle AppError.unauthorized",
          "status": "passed",
          "title": "should handle AppError.unauthorized",
          "duration": 1.1232310000000325,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "AppError handling"],
          "fullName": "errorHandler AppError handling should handle AppError.forbidden",
          "status": "passed",
          "title": "should handle AppError.forbidden",
          "duration": 2.7472380000000385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "AppError handling"],
          "fullName": "errorHandler AppError handling should handle AppError.conflict",
          "status": "passed",
          "title": "should handle AppError.conflict",
          "duration": 5.774577000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "AppError handling"],
          "fullName": "errorHandler AppError handling should handle AppError.badRequest",
          "status": "passed",
          "title": "should handle AppError.badRequest",
          "duration": 0.6592849999999544,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "AppError handling"],
          "fullName": "errorHandler AppError handling should handle non-operational errors without exposing message",
          "status": "passed",
          "title": "should handle non-operational errors without exposing message",
          "duration": 0.4834720000000061,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "Error inference"],
          "fullName": "errorHandler Error inference should infer notFound for messages containing 不存在",
          "status": "passed",
          "title": "should infer notFound for messages containing 不存在",
          "duration": 0.7720180000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "Error inference"],
          "fullName": "errorHandler Error inference should infer conflict for messages containing 已被注册",
          "status": "passed",
          "title": "should infer conflict for messages containing 已被注册",
          "duration": 0.4407650000000558,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "Error inference"],
          "fullName": "errorHandler Error inference should infer unauthorized for messages containing 密码错误",
          "status": "passed",
          "title": "should infer unauthorized for messages containing 密码错误",
          "duration": 0.5663379999999734,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "Error inference"],
          "fullName": "errorHandler Error inference should infer unauthorized for messages containing 令牌",
          "status": "passed",
          "title": "should infer unauthorized for messages containing 令牌",
          "duration": 6.602046000000087,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "Error inference"],
          "fullName": "errorHandler Error inference should default to badRequest for unknown error messages",
          "status": "passed",
          "title": "should default to badRequest for unknown error messages",
          "duration": 0.6832739999999831,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["errorHandler", "unknown errors"],
          "fullName": "errorHandler unknown errors should return 500 for non-Error objects",
          "status": "passed",
          "title": "should return 500 for non-Error objects",
          "duration": 0.6291990000000851,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AppError"],
          "fullName": "AppError should create error with correct properties",
          "status": "passed",
          "title": "should create error with correct properties",
          "duration": 0.6187489999999798,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AppError"],
          "fullName": "AppError should use default values",
          "status": "passed",
          "title": "should use default values",
          "duration": 0.34677000000010594,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AppError"],
          "fullName": "AppError should be instance of Error",
          "status": "passed",
          "title": "should be instance of Error",
          "duration": 0.424513999999931,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912099,
      "endTime": 1765615912142.4246,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/middleware/error.middleware.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["metricsMiddleware", "middleware execution"],
          "fullName": "metricsMiddleware middleware execution should call next immediately",
          "status": "passed",
          "title": "should call next immediately",
          "duration": 7.368989999999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "middleware execution"],
          "fullName": "metricsMiddleware middleware execution should register finish event handler on response",
          "status": "passed",
          "title": "should register finish event handler on response",
          "duration": 7.488658999999984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "normalizeRoute"],
          "fullName": "metricsMiddleware normalizeRoute should use req.route.path when available",
          "status": "passed",
          "title": "should use req.route.path when available",
          "duration": 4.16252099999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "normalizeRoute"],
          "fullName": "metricsMiddleware normalizeRoute should handle array route paths",
          "status": "passed",
          "title": "should handle array route paths",
          "duration": 2.974148000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "normalizeRoute"],
          "fullName": "metricsMiddleware normalizeRoute should use baseUrl when route is not available",
          "status": "passed",
          "title": "should use baseUrl when route is not available",
          "duration": 3.077270999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "normalizeRoute"],
          "fullName": "metricsMiddleware normalizeRoute should return /unknown when neither route nor baseUrl is available",
          "status": "passed",
          "title": "should return /unknown when neither route nor baseUrl is available",
          "duration": 1.6493939999999156,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "normalizeRoute"],
          "fullName": "metricsMiddleware normalizeRoute should truncate routes longer than 64 characters",
          "status": "passed",
          "title": "should truncate routes longer than 64 characters",
          "duration": 2.25778200000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "normalizeRoute"],
          "fullName": "metricsMiddleware normalizeRoute should normalize multiple slashes in route",
          "status": "passed",
          "title": "should normalize multiple slashes in route",
          "duration": 1.4956990000000587,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should always record 5xx errors",
          "status": "passed",
          "title": "should always record 5xx errors",
          "duration": 2.2452729999999974,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should always record 503 errors",
          "status": "passed",
          "title": "should always record 503 errors",
          "duration": 1.1579769999999598,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should record 4xx errors on known routes",
          "status": "passed",
          "title": "should record 4xx errors on known routes",
          "duration": 1.0480709999999362,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should use full sample rate for /api/auth paths",
          "status": "passed",
          "title": "should use full sample rate for /api/auth paths",
          "duration": 1.786053000000038,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should use full sample rate for /api/learning paths",
          "status": "passed",
          "title": "should use full sample rate for /api/learning paths",
          "duration": 3.2092949999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should use full sample rate for /api/records paths",
          "status": "passed",
          "title": "should use full sample rate for /api/records paths",
          "duration": 4.101212000000032,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should use full sample rate for /api/record paths",
          "status": "passed",
          "title": "should use full sample rate for /api/record paths",
          "duration": 0.772658999999976,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "resolveSampleRate"],
          "fullName": "metricsMiddleware resolveSampleRate should use default sample rate (0.1) for unmatched paths",
          "status": "passed",
          "title": "should use default sample rate (0.1) for unmatched paths",
          "duration": 0.7246730000000525,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "metric recording"],
          "fullName": "metricsMiddleware metric recording should record correct metric data",
          "status": "passed",
          "title": "should record correct metric data",
          "duration": 1.025109999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "metric recording"],
          "fullName": "metricsMiddleware metric recording should calculate duration in seconds",
          "status": "passed",
          "title": "should calculate duration in seconds",
          "duration": 0.6872779999999921,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "metric recording"],
          "fullName": "metricsMiddleware metric recording should use path when req.path is available",
          "status": "passed",
          "title": "should use path when req.path is available",
          "duration": 0.5330569999999852,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "metric recording"],
          "fullName": "metricsMiddleware metric recording should fallback to originalUrl when path is empty",
          "status": "passed",
          "title": "should fallback to originalUrl when path is empty",
          "duration": 2.3680570000000216,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "queue management"],
          "fullName": "metricsMiddleware queue management should batch flush metrics",
          "status": "passed",
          "title": "should batch flush metrics",
          "duration": 1.011545999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "stopMetricsCollection"],
          "fullName": "metricsMiddleware stopMetricsCollection should flush remaining metrics when stopped",
          "status": "passed",
          "title": "should flush remaining metrics when stopped",
          "duration": 0.632761999999957,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "stopMetricsCollection"],
          "fullName": "metricsMiddleware stopMetricsCollection should handle multiple stop calls gracefully",
          "status": "passed",
          "title": "should handle multiple stop calls gracefully",
          "duration": 1.087144999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "stopMetricsCollection"],
          "fullName": "metricsMiddleware stopMetricsCollection should stop the flush timer",
          "status": "passed",
          "title": "should stop the flush timer",
          "duration": 602.862872,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "4xx error sampling for unknown routes"],
          "fullName": "metricsMiddleware 4xx error sampling for unknown routes should sample 4xx errors on unknown routes at 10% rate",
          "status": "passed",
          "title": "should sample 4xx errors on unknown routes at 10% rate",
          "duration": 1.2771299999999428,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "edge cases"],
          "fullName": "metricsMiddleware edge cases should handle missing path and originalUrl",
          "status": "passed",
          "title": "should handle missing path and originalUrl",
          "duration": 1.1761329999999361,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "edge cases"],
          "fullName": "metricsMiddleware edge cases should handle various HTTP methods",
          "status": "passed",
          "title": "should handle various HTTP methods",
          "duration": 3.512727000000041,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["metricsMiddleware", "edge cases"],
          "fullName": "metricsMiddleware edge cases should handle different status codes",
          "status": "passed",
          "title": "should handle different status codes",
          "duration": 3.18138799999997,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615903091,
      "endTime": 1765615903758.1814,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/middleware/metrics.middleware.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["validate middleware", "validate()"],
          "fullName": "validate middleware validate() should call next on valid body",
          "status": "passed",
          "title": "should call next on valid body",
          "duration": 7.483878000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validate()"],
          "fullName": "validate middleware validate() should return 400 on invalid body",
          "status": "passed",
          "title": "should return 400 on invalid body",
          "duration": 4.171765999999934,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validate()"],
          "fullName": "validate middleware validate() should validate query parameters",
          "status": "passed",
          "title": "should validate query parameters",
          "duration": 4.042819000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validate()"],
          "fullName": "validate middleware validate() should validate path params",
          "status": "passed",
          "title": "should validate path params",
          "duration": 3.495920999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validate()"],
          "fullName": "validate middleware validate() should include error details",
          "status": "passed",
          "title": "should include error details",
          "duration": 0.7897759999999607,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateQuery()"],
          "fullName": "validate middleware validateQuery() should validate query with helper function",
          "status": "passed",
          "title": "should validate query with helper function",
          "duration": 0.589717999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateBody()"],
          "fullName": "validate middleware validateBody() should validate body with helper function",
          "status": "passed",
          "title": "should validate body with helper function",
          "duration": 0.7595699999999397,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateParams()"],
          "fullName": "validate middleware validateParams() should validate params with helper function",
          "status": "passed",
          "title": "should validate params with helper function",
          "duration": 0.6859009999999444,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateRequest()"],
          "fullName": "validate middleware validateRequest() should validate multiple sources",
          "status": "passed",
          "title": "should validate multiple sources",
          "duration": 1.2627350000000206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateRequest()"],
          "fullName": "validate middleware validateRequest() should return error if any validation fails",
          "status": "passed",
          "title": "should return error if any validation fails",
          "duration": 1.5648109999999633,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateRequest()"],
          "fullName": "validate middleware validateRequest() should skip undefined schemas",
          "status": "passed",
          "title": "should skip undefined schemas",
          "duration": 4.032496000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validate middleware", "validateRequest()"],
          "fullName": "validate middleware validateRequest() should pass non-Zod errors to next",
          "status": "passed",
          "title": "should pass non-Zod errors to next",
          "duration": 1.6105420000000095,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908015,
      "endTime": 1765615908046.6106,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/middleware/validate.middleware.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LearningMetrics", "留存率指标"],
          "fullName": "LearningMetrics 留存率指标 应该正确记录次日留存率",
          "status": "passed",
          "title": "应该正确记录次日留存率",
          "duration": 3.50798199999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "留存率指标"],
          "fullName": "LearningMetrics 留存率指标 应该正确记录7日留存率",
          "status": "passed",
          "title": "应该正确记录7日留存率",
          "duration": 5.201283999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "留存率指标"],
          "fullName": "LearningMetrics 留存率指标 应该正确记录30日留存率",
          "status": "passed",
          "title": "应该正确记录30日留存率",
          "duration": 1.1006559999999581,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "留存率指标"],
          "fullName": "LearningMetrics 留存率指标 应该限制留存率在0-100之间",
          "status": "passed",
          "title": "应该限制留存率在0-100之间",
          "duration": 0.7826900000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "复习命中率指标"],
          "fullName": "LearningMetrics 复习命中率指标 应该正确记录复习行为",
          "status": "passed",
          "title": "应该正确记录复习行为",
          "duration": 1.4223009999999476,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "复习命中率指标"],
          "fullName": "LearningMetrics 复习命中率指标 应该累积多次复习记录",
          "status": "passed",
          "title": "应该累积多次复习记录",
          "duration": 1.375022999999942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "答题时延指标"],
          "fullName": "LearningMetrics 答题时延指标 应该正确记录答题时延",
          "status": "passed",
          "title": "应该正确记录答题时延",
          "duration": 7.5621759999999085,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "答题时延指标"],
          "fullName": "LearningMetrics 答题时延指标 应该忽略无效的时延值",
          "status": "passed",
          "title": "应该忽略无效的时延值",
          "duration": 0.4089729999999463,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "答题时延指标"],
          "fullName": "LearningMetrics 答题时延指标 应该正确计算P99时延",
          "status": "passed",
          "title": "应该正确计算P99时延",
          "duration": 0.8558409999999412,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "会话中断率指标"],
          "fullName": "LearningMetrics 会话中断率指标 应该正确记录会话开始",
          "status": "passed",
          "title": "应该正确记录会话开始",
          "duration": 0.4915849999999864,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "会话中断率指标"],
          "fullName": "LearningMetrics 会话中断率指标 应该正确记录会话完成",
          "status": "passed",
          "title": "应该正确记录会话完成",
          "duration": 0.3332100000000082,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "会话中断率指标"],
          "fullName": "LearningMetrics 会话中断率指标 应该正确计算中断率",
          "status": "passed",
          "title": "应该正确计算中断率",
          "duration": 0.35235899999997855,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "遗忘预测准确率指标"],
          "fullName": "LearningMetrics 遗忘预测准确率指标 应该正确记录预测结果",
          "status": "passed",
          "title": "应该正确记录预测结果",
          "duration": 4.55734300000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "遗忘预测准确率指标"],
          "fullName": "LearningMetrics 遗忘预测准确率指标 应该正确计算准确率",
          "status": "passed",
          "title": "应该正确计算准确率",
          "duration": 0.8147320000000491,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "心流会话占比指标"],
          "fullName": "LearningMetrics 心流会话占比指标 应该正确记录心流会话",
          "status": "passed",
          "title": "应该正确记录心流会话",
          "duration": 0.4428380000000516,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "心流会话占比指标"],
          "fullName": "LearningMetrics 心流会话占比指标 应该正确计算心流会话占比",
          "status": "passed",
          "title": "应该正确计算心流会话占比",
          "duration": 0.338188999999943,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "Prometheus格式导出"],
          "fullName": "LearningMetrics Prometheus格式导出 应该导出Prometheus格式的指标",
          "status": "passed",
          "title": "应该导出Prometheus格式的指标",
          "duration": 0.9187670000000026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "Prometheus格式导出"],
          "fullName": "LearningMetrics Prometheus格式导出 应该正确格式化histogram bucket",
          "status": "passed",
          "title": "应该正确格式化histogram bucket",
          "duration": 1.326818000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "LearningMetricsService"],
          "fullName": "LearningMetrics LearningMetricsService 应该提供服务接口",
          "status": "passed",
          "title": "应该提供服务接口",
          "duration": 0.4788929999999709,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "LearningMetricsService"],
          "fullName": "LearningMetrics LearningMetricsService 应该正确获取JSON指标",
          "status": "passed",
          "title": "应该正确获取JSON指标",
          "duration": 0.2626190000000861,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "LearningMetricsService"],
          "fullName": "LearningMetrics LearningMetricsService 应该正确获取Prometheus指标",
          "status": "passed",
          "title": "应该正确获取Prometheus指标",
          "duration": 1.4538119999999708,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "LearningMetricsService"],
          "fullName": "LearningMetrics LearningMetricsService 应该正确重置指标",
          "status": "passed",
          "title": "应该正确重置指标",
          "duration": 0.3494269999999915,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningMetrics", "指标重置"],
          "fullName": "LearningMetrics 指标重置 应该重置所有指标",
          "status": "passed",
          "title": "应该重置所有指标",
          "duration": 4.893189000000007,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912143,
      "endTime": 1765615912184.8933,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/monitoring/learning-metrics.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AboutService", "simulate"],
          "fullName": "AboutService simulate should return simulation response with valid input",
          "status": "passed",
          "title": "should return simulation response with valid input",
          "duration": 666.8384510000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "simulate"],
          "fullName": "AboutService simulate should handle scenario presets",
          "status": "passed",
          "title": "should handle scenario presets",
          "duration": 61.7874589999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "simulate"],
          "fullName": "AboutService simulate should clamp values to valid ranges",
          "status": "passed",
          "title": "should clamp values to valid ranges",
          "duration": 53.64376500000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getOverviewStats"],
          "fullName": "AboutService getOverviewStats should return overview statistics",
          "status": "passed",
          "title": "should return overview statistics",
          "duration": 63.34689000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getOverviewStats"],
          "fullName": "AboutService getOverviewStats should return cached result on subsequent calls",
          "status": "passed",
          "title": "should return cached result on subsequent calls",
          "duration": 39.29290399999991,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getAlgorithmDistribution"],
          "fullName": "AboutService getAlgorithmDistribution should return algorithm distribution",
          "status": "passed",
          "title": "should return algorithm distribution",
          "duration": 44.447378999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getAlgorithmDistribution"],
          "fullName": "AboutService getAlgorithmDistribution should have normalized values or all zeros when no data",
          "status": "passed",
          "title": "should have normalized values or all zeros when no data",
          "duration": 43.270802,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getStateDistribution"],
          "fullName": "AboutService getStateDistribution should return state distribution",
          "status": "passed",
          "title": "should return state distribution",
          "duration": 77.87759600000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getStateDistribution"],
          "fullName": "AboutService getStateDistribution should have normalized attention values",
          "status": "passed",
          "title": "should have normalized attention values",
          "duration": 45.380604000000176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getRecentDecisions"],
          "fullName": "AboutService getRecentDecisions should return recent decisions array",
          "status": "passed",
          "title": "should return recent decisions array",
          "duration": 48.54046500000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getRecentDecisions"],
          "fullName": "AboutService getRecentDecisions should have anonymized user IDs",
          "status": "passed",
          "title": "should have anonymized user IDs",
          "duration": 74.12786700000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getDecisionDetail"],
          "fullName": "AboutService getDecisionDetail should return null for non-existent decision",
          "status": "passed",
          "title": "should return null for non-existent decision",
          "duration": 64.9958529999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getDecisionDetail"],
          "fullName": "AboutService getDecisionDetail should return detail for existing decision",
          "status": "passed",
          "title": "should return detail for existing decision",
          "duration": 46.400458999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getPipelineSnapshot"],
          "fullName": "AboutService getPipelineSnapshot should return pipeline snapshot",
          "status": "passed",
          "title": "should return pipeline snapshot",
          "duration": 52.39928299999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getPipelineSnapshot"],
          "fullName": "AboutService getPipelineSnapshot should have valid metrics",
          "status": "passed",
          "title": "should have valid metrics",
          "duration": 56.015484000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "getPacketTrace"],
          "fullName": "AboutService getPacketTrace should return packet trace",
          "status": "passed",
          "title": "should return packet trace",
          "duration": 47.89019899999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "injectFault"],
          "fullName": "AboutService injectFault should inject high fatigue fault",
          "status": "passed",
          "title": "should inject high fatigue fault",
          "duration": 47.63018099999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "injectFault"],
          "fullName": "AboutService injectFault should inject low attention fault",
          "status": "passed",
          "title": "should inject low attention fault",
          "duration": 55.13292299999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AboutService", "injectFault"],
          "fullName": "AboutService injectFault should inject anomaly fault",
          "status": "passed",
          "title": "should inject anomaly fault",
          "duration": 58.77384400000028,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902090,
      "endTime": 1765615903749.774,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/about.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AdminService", "getAllUsers"],
          "fullName": "AdminService getAllUsers should return paginated user list",
          "status": "passed",
          "title": "should return paginated user list",
          "duration": 370.81677500000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getAllUsers"],
          "fullName": "AdminService getAllUsers should support search filter",
          "status": "passed",
          "title": "should support search filter",
          "duration": 4.134114999999952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getUserById"],
          "fullName": "AdminService getUserById should return user by id",
          "status": "passed",
          "title": "should return user by id",
          "duration": 3.840530000000058,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getUserById"],
          "fullName": "AdminService getUserById should throw error for non-existent user",
          "status": "passed",
          "title": "should throw error for non-existent user",
          "duration": 4.75663499999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "updateUserRole"],
          "fullName": "AdminService updateUserRole should update user role",
          "status": "passed",
          "title": "should update user role",
          "duration": 1.5885990000000447,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "deleteUser"],
          "fullName": "AdminService deleteUser should delete user",
          "status": "passed",
          "title": "should delete user",
          "duration": 3.1351450000000796,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "banUser"],
          "fullName": "AdminService banUser should ban user by clearing sessions",
          "status": "passed",
          "title": "should ban user by clearing sessions",
          "duration": 1.6522840000000087,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getStatistics"],
          "fullName": "AdminService getStatistics should return overall statistics",
          "status": "passed",
          "title": "should return overall statistics",
          "duration": 2.204330000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getSystemStats"],
          "fullName": "AdminService getSystemStats should return system statistics",
          "status": "passed",
          "title": "should return system statistics",
          "duration": 2.1656600000000026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "createSystemWordBook"],
          "fullName": "AdminService createSystemWordBook should create system wordbook",
          "status": "passed",
          "title": "should create system wordbook",
          "duration": 1.3383760000000393,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "updateSystemWordBook"],
          "fullName": "AdminService updateSystemWordBook should update system wordbook",
          "status": "passed",
          "title": "should update system wordbook",
          "duration": 1.0854459999999335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "deleteSystemWordBook"],
          "fullName": "AdminService deleteSystemWordBook should delete system wordbook",
          "status": "passed",
          "title": "should delete system wordbook",
          "duration": 1.801657999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getUserLearningData"],
          "fullName": "AdminService getUserLearningData should return user learning data",
          "status": "passed",
          "title": "should return user learning data",
          "duration": 5.131426000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getUserLearningData"],
          "fullName": "AdminService getUserLearningData should support limit option",
          "status": "passed",
          "title": "should support limit option",
          "duration": 1.4341069999999263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getUserDetailedStatistics"],
          "fullName": "AdminService getUserDetailedStatistics should return detailed user statistics",
          "status": "passed",
          "title": "should return detailed user statistics",
          "duration": 1.7852249999999685,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "exportUserWords"],
          "fullName": "AdminService exportUserWords should export user words in CSV format",
          "status": "passed",
          "title": "should export user words in CSV format",
          "duration": 4.4815940000000865,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getUserLearningHeatmap"],
          "fullName": "AdminService getUserLearningHeatmap should return learning heatmap data",
          "status": "passed",
          "title": "should return learning heatmap data",
          "duration": 12.931781999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "flagAnomalyRecord"],
          "fullName": "AdminService flagAnomalyRecord should create anomaly flag",
          "status": "passed",
          "title": "should create anomaly flag",
          "duration": 1.5185279999999466,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "getAnomalyFlags"],
          "fullName": "AdminService getAnomalyFlags should return anomaly flags for user",
          "status": "passed",
          "title": "should return anomaly flags for user",
          "duration": 1.322795000000042,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "exports"],
          "fullName": "AdminService exports should export AdminService class",
          "status": "passed",
          "title": "should export AdminService class",
          "duration": 1.2111319999999068,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AdminService", "exports"],
          "fullName": "AdminService exports should export default singleton",
          "status": "passed",
          "title": "should export default singleton",
          "duration": 3.822909000000095,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902155,
      "endTime": 1765615902588.823,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/admin.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AlgorithmConfigService", "getActiveConfig"],
          "fullName": "AlgorithmConfigService getActiveConfig should return cached config if available",
          "status": "passed",
          "title": "should return cached config if available",
          "duration": 53.300598000000036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getActiveConfig"],
          "fullName": "AlgorithmConfigService getActiveConfig should query database if not cached",
          "status": "passed",
          "title": "should query database if not cached",
          "duration": 0.9338189999999713,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getActiveConfig"],
          "fullName": "AlgorithmConfigService getActiveConfig should return first config if no default exists",
          "status": "passed",
          "title": "should return first config if no default exists",
          "duration": 0.8649270000000797,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfig"],
          "fullName": "AlgorithmConfigService getConfig should return latest config when no ID provided",
          "status": "passed",
          "title": "should return latest config when no ID provided",
          "duration": 2.036967000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfig"],
          "fullName": "AlgorithmConfigService getConfig should return cached config by ID",
          "status": "passed",
          "title": "should return cached config by ID",
          "duration": 2.011880000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfig"],
          "fullName": "AlgorithmConfigService getConfig should query database for specific config",
          "status": "passed",
          "title": "should query database for specific config",
          "duration": 4.948464000000058,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getAllConfigs"],
          "fullName": "AlgorithmConfigService getAllConfigs should return all configs ordered by createdAt",
          "status": "passed",
          "title": "should return all configs ordered by createdAt",
          "duration": 3.6523540000000594,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "createConfig"],
          "fullName": "AlgorithmConfigService createConfig should create config and clear cache if default",
          "status": "passed",
          "title": "should create config and clear cache if default",
          "duration": 4.69037400000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "createConfig"],
          "fullName": "AlgorithmConfigService createConfig should create non-default config without clearing cache",
          "status": "passed",
          "title": "should create non-default config without clearing cache",
          "duration": 1.2008369999999786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig"],
          "fullName": "AlgorithmConfigService updateConfig should update config and record history",
          "status": "passed",
          "title": "should update config and record history",
          "duration": 1.0297130000000152,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig"],
          "fullName": "AlgorithmConfigService updateConfig should throw error if config not found",
          "status": "passed",
          "title": "should throw error if config not found",
          "duration": 1.7747829999999567,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "deleteConfig"],
          "fullName": "AlgorithmConfigService deleteConfig should delete config and clear cache",
          "status": "passed",
          "title": "should delete config and clear cache",
          "duration": 1.2412580000000162,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig"],
          "fullName": "AlgorithmConfigService validateConfig should validate priority weights sum to 100",
          "status": "passed",
          "title": "should validate priority weights sum to 100",
          "duration": 2.463987999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig"],
          "fullName": "AlgorithmConfigService validateConfig should fail if priority weights do not sum to 100",
          "status": "passed",
          "title": "should fail if priority weights do not sum to 100",
          "duration": 5.997126999999978,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig"],
          "fullName": "AlgorithmConfigService validateConfig should validate consecutive correct threshold range",
          "status": "passed",
          "title": "should validate consecutive correct threshold range",
          "duration": 0.8773410000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig"],
          "fullName": "AlgorithmConfigService validateConfig should validate consecutive wrong threshold range",
          "status": "passed",
          "title": "should validate consecutive wrong threshold range",
          "duration": 1.6232680000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "clearAllCache"],
          "fullName": "AlgorithmConfigService clearAllCache should clear all algorithm config cache",
          "status": "passed",
          "title": "should clear all algorithm config cache",
          "duration": 3.1107939999999417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getActiveConfig - 边界条件"],
          "fullName": "AlgorithmConfigService getActiveConfig - 边界条件 should return null when no configs exist in database",
          "status": "passed",
          "title": "should return null when no configs exist in database",
          "duration": 1.3264010000000326,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getActiveConfig - 边界条件"],
          "fullName": "AlgorithmConfigService getActiveConfig - 边界条件 should not cache null result",
          "status": "passed",
          "title": "should not cache null result",
          "duration": 0.7924249999999802,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfig - 边界条件"],
          "fullName": "AlgorithmConfigService getConfig - 边界条件 should return null when no latest config exists for empty configId",
          "status": "passed",
          "title": "should return null when no latest config exists for empty configId",
          "duration": 0.554711999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfig - 边界条件"],
          "fullName": "AlgorithmConfigService getConfig - 边界条件 should return null when specific config not found",
          "status": "passed",
          "title": "should return null when specific config not found",
          "duration": 0.6055860000000166,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfig - 边界条件"],
          "fullName": "AlgorithmConfigService getConfig - 边界条件 should handle empty string configId",
          "status": "passed",
          "title": "should handle empty string configId",
          "duration": 0.5145840000000135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getAllConfigs - 边界条件"],
          "fullName": "AlgorithmConfigService getAllConfigs - 边界条件 should return empty array when no configs exist",
          "status": "passed",
          "title": "should return empty array when no configs exist",
          "duration": 0.5593269999999393,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService updateConfig - 边界条件和错误处理 should throw error when data is empty",
          "status": "passed",
          "title": "should throw error when data is empty",
          "duration": 2.9795959999999013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService updateConfig - 边界条件和错误处理 should throw error when data is null",
          "status": "passed",
          "title": "should throw error when data is null",
          "duration": 3.7746349999999893,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService updateConfig - 边界条件和错误处理 should handle updateConfig with object as first parameter (legacy API)",
          "status": "passed",
          "title": "should handle updateConfig with object as first parameter (legacy API)",
          "duration": 1.752834000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService updateConfig - 边界条件和错误处理 should throw error when no config exists for legacy API call",
          "status": "passed",
          "title": "should throw error when no config exists for legacy API call",
          "duration": 0.9452660000000606,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "updateConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService updateConfig - 边界条件和错误处理 should clear default config cache when updating default config",
          "status": "passed",
          "title": "should clear default config cache when updating default config",
          "duration": 0.8261700000000474,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "deleteConfig - 错误处理"],
          "fullName": "AlgorithmConfigService deleteConfig - 错误处理 should handle database error during delete",
          "status": "passed",
          "title": "should handle database error during delete",
          "duration": 1.0946190000000797,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "deleteConfig - 错误处理"],
          "fullName": "AlgorithmConfigService deleteConfig - 错误处理 should handle delete of non-existent config",
          "status": "passed",
          "title": "should handle delete of non-existent config",
          "duration": 3.0389209999999593,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfigHistory - 边界条件"],
          "fullName": "AlgorithmConfigService getConfigHistory - 边界条件 should return empty array when no history exists",
          "status": "passed",
          "title": "should return empty array when no history exists",
          "duration": 1.0239340000000539,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfigHistory - 边界条件"],
          "fullName": "AlgorithmConfigService getConfigHistory - 边界条件 should use default limit when not provided",
          "status": "passed",
          "title": "should use default limit when not provided",
          "duration": 2.644941000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfigHistory - 边界条件"],
          "fullName": "AlgorithmConfigService getConfigHistory - 边界条件 should return all history when configId is undefined",
          "status": "passed",
          "title": "should return all history when configId is undefined",
          "duration": 2.6114690000000564,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "getConfigHistory - 边界条件"],
          "fullName": "AlgorithmConfigService getConfigHistory - 边界条件 should respect custom limit parameter",
          "status": "passed",
          "title": "should respect custom limit parameter",
          "duration": 0.8314670000000888,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "rollbackConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService rollbackConfig - 边界条件和错误处理 should throw error when history record not found",
          "status": "passed",
          "title": "should throw error when history record not found",
          "duration": 0.8495209999999815,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "rollbackConfig - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService rollbackConfig - 边界条件和错误处理 should handle rollback with valid history record",
          "status": "passed",
          "title": "should handle rollback with valid history record",
          "duration": 2.171467000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "resetToDefault - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService resetToDefault - 边界条件和错误处理 should throw error when default config not found",
          "status": "passed",
          "title": "should throw error when default config not found",
          "duration": 1.2121149999999261,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "resetToDefault - 边界条件和错误处理"],
          "fullName": "AlgorithmConfigService resetToDefault - 边界条件和错误处理 should throw error when target config not found",
          "status": "passed",
          "title": "should throw error when target config not found",
          "duration": 0.7058050000000549,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should pass validation for empty config",
          "status": "passed",
          "title": "should pass validation for empty config",
          "duration": 0.42846400000007634,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should pass validation for exactly 100% priority weights",
          "status": "passed",
          "title": "should pass validation for exactly 100% priority weights",
          "duration": 0.28680599999995593,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail validation for priority weights less than 100",
          "status": "passed",
          "title": "should fail validation for priority weights less than 100",
          "duration": 0.33532099999990805,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should validate score weights sum to 100",
          "status": "passed",
          "title": "should validate score weights sum to 100",
          "duration": 0.42411200000003646,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail when score weights do not sum to 100",
          "status": "passed",
          "title": "should fail when score weights do not sum to 100",
          "duration": 0.5598459999999932,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should validate consecutiveCorrectThreshold at lower boundary (3)",
          "status": "passed",
          "title": "should validate consecutiveCorrectThreshold at lower boundary (3)",
          "duration": 0.4582820000000538,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should validate consecutiveCorrectThreshold at upper boundary (10)",
          "status": "passed",
          "title": "should validate consecutiveCorrectThreshold at upper boundary (10)",
          "duration": 0.43974500000001626,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail for consecutiveCorrectThreshold below minimum (2)",
          "status": "passed",
          "title": "should fail for consecutiveCorrectThreshold below minimum (2)",
          "duration": 0.5077870000000075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail for consecutiveCorrectThreshold above maximum (11)",
          "status": "passed",
          "title": "should fail for consecutiveCorrectThreshold above maximum (11)",
          "duration": 0.4698309999999992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should validate consecutiveWrongThreshold at lower boundary (2)",
          "status": "passed",
          "title": "should validate consecutiveWrongThreshold at lower boundary (2)",
          "duration": 0.683522000000039,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should validate consecutiveWrongThreshold at upper boundary (5)",
          "status": "passed",
          "title": "should validate consecutiveWrongThreshold at upper boundary (5)",
          "duration": 0.4753890000000638,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail for consecutiveWrongThreshold above maximum (6)",
          "status": "passed",
          "title": "should fail for consecutiveWrongThreshold above maximum (6)",
          "duration": 5.446222000000034,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should validate non-empty reviewIntervals array",
          "status": "passed",
          "title": "should validate non-empty reviewIntervals array",
          "duration": 0.6863240000000133,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail for empty reviewIntervals array",
          "status": "passed",
          "title": "should fail for empty reviewIntervals array",
          "duration": 0.5633870000000343,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should fail for non-array reviewIntervals",
          "status": "passed",
          "title": "should fail for non-array reviewIntervals",
          "duration": 0.582300000000032,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should collect multiple validation errors",
          "status": "passed",
          "title": "should collect multiple validation errors",
          "duration": 0.8112600000000612,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should handle null values in config gracefully",
          "status": "passed",
          "title": "should handle null values in config gracefully",
          "duration": 1.5498609999999644,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "validateConfig - 边界条件"],
          "fullName": "AlgorithmConfigService validateConfig - 边界条件 should handle undefined values in partial config",
          "status": "passed",
          "title": "should handle undefined values in partial config",
          "duration": 0.9364160000000084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "createConfig - 边界条件"],
          "fullName": "AlgorithmConfigService createConfig - 边界条件 should handle database error during creation",
          "status": "passed",
          "title": "should handle database error during creation",
          "duration": 0.977993999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlgorithmConfigService", "createConfig - 边界条件"],
          "fullName": "AlgorithmConfigService createConfig - 边界条件 should create config with minimal data",
          "status": "passed",
          "title": "should create config with minimal data",
          "duration": 0.5488029999999071,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905915,
      "endTime": 1765615906057.5488,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/algorithm-config.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AMASConfigService", "getInstance"],
          "fullName": "AMASConfigService getInstance should return singleton instance",
          "status": "passed",
          "title": "should return singleton instance",
          "duration": 34.120997999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getConfig"],
          "fullName": "AMASConfigService getConfig should return default config when database is empty",
          "status": "passed",
          "title": "should return default config when database is empty",
          "duration": 5.4685289999999895,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getConfig"],
          "fullName": "AMASConfigService getConfig should return config from database when available",
          "status": "passed",
          "title": "should return config from database when available",
          "duration": 1.970878999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getConfig"],
          "fullName": "AMASConfigService getConfig should use cache for subsequent calls",
          "status": "passed",
          "title": "should use cache for subsequent calls",
          "duration": 0.8244410000000926,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getParamBounds"],
          "fullName": "AMASConfigService getParamBounds should return param bounds from config",
          "status": "passed",
          "title": "should return param bounds from config",
          "duration": 1.038801000000035,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getThresholds"],
          "fullName": "AMASConfigService getThresholds should return thresholds from config",
          "status": "passed",
          "title": "should return thresholds from config",
          "duration": 3.9508010000000695,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getRewardWeights"],
          "fullName": "AMASConfigService getRewardWeights should return reward weights from config",
          "status": "passed",
          "title": "should return reward weights from config",
          "duration": 3.0829630000000634,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getSafetyThresholds"],
          "fullName": "AMASConfigService getSafetyThresholds should return safety thresholds from config",
          "status": "passed",
          "title": "should return safety thresholds from config",
          "duration": 1.2262769999999819,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateParamBound"],
          "fullName": "AMASConfigService updateParamBound should update param bound min value",
          "status": "passed",
          "title": "should update param bound min value",
          "duration": 2.048088000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateParamBound"],
          "fullName": "AMASConfigService updateParamBound should update param bound max value",
          "status": "passed",
          "title": "should update param bound max value",
          "duration": 2.4249529999999595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateParamBound"],
          "fullName": "AMASConfigService updateParamBound should reject invalid param name",
          "status": "passed",
          "title": "should reject invalid param name",
          "duration": 7.574774999999931,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateParamBound"],
          "fullName": "AMASConfigService updateParamBound should reject min value >= max value",
          "status": "passed",
          "title": "should reject min value >= max value",
          "duration": 8.371515000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateParamBound"],
          "fullName": "AMASConfigService updateParamBound should reject max value <= min value",
          "status": "passed",
          "title": "should reject max value <= min value",
          "duration": 0.7607150000000047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateThreshold"],
          "fullName": "AMASConfigService updateThreshold should update threshold value",
          "status": "passed",
          "title": "should update threshold value",
          "duration": 1.885650999999939,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateThreshold"],
          "fullName": "AMASConfigService updateThreshold should reject invalid threshold name",
          "status": "passed",
          "title": "should reject invalid threshold name",
          "duration": 0.7166429999999764,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateRewardWeight"],
          "fullName": "AMASConfigService updateRewardWeight should update reward weight value",
          "status": "passed",
          "title": "should update reward weight value",
          "duration": 3.306732000000011,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateRewardWeight"],
          "fullName": "AMASConfigService updateRewardWeight should reject invalid reward weight name",
          "status": "passed",
          "title": "should reject invalid reward weight name",
          "duration": 3.900581999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateRewardWeight"],
          "fullName": "AMASConfigService updateRewardWeight should reject weight out of range (< 0)",
          "status": "passed",
          "title": "should reject weight out of range (< 0)",
          "duration": 0.8143230000000585,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateRewardWeight"],
          "fullName": "AMASConfigService updateRewardWeight should reject weight out of range (> 2)",
          "status": "passed",
          "title": "should reject weight out of range (> 2)",
          "duration": 0.7480759999999691,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateSafetyThreshold"],
          "fullName": "AMASConfigService updateSafetyThreshold should update safety threshold value",
          "status": "passed",
          "title": "should update safety threshold value",
          "duration": 1.0537429999999404,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "updateSafetyThreshold"],
          "fullName": "AMASConfigService updateSafetyThreshold should reject invalid safety threshold name",
          "status": "passed",
          "title": "should reject invalid safety threshold name",
          "duration": 0.9473890000000438,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getConfigHistory"],
          "fullName": "AMASConfigService getConfigHistory should return config change history",
          "status": "passed",
          "title": "should return config change history",
          "duration": 17.786068999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getConfigHistory"],
          "fullName": "AMASConfigService getConfigHistory should filter history by config type",
          "status": "passed",
          "title": "should filter history by config type",
          "duration": 1.5012679999999818,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "getConfigHistory"],
          "fullName": "AMASConfigService getConfigHistory should support pagination",
          "status": "passed",
          "title": "should support pagination",
          "duration": 1.684404000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "resetToDefaults"],
          "fullName": "AMASConfigService resetToDefaults should reset config to default values",
          "status": "passed",
          "title": "should reset config to default values",
          "duration": 1.1129660000000285,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "config update with existing record"],
          "fullName": "AMASConfigService config update with existing record should update existing config record",
          "status": "passed",
          "title": "should update existing config record",
          "duration": 8.158554999999978,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASConfigService", "version incrementing"],
          "fullName": "AMASConfigService version incrementing should increment patch version on updates",
          "status": "passed",
          "title": "should increment patch version on updates",
          "duration": 1.3654070000000047,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907124,
      "endTime": 1765615907245.3655,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/amas-config.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AMASService", "service exports"],
          "fullName": "AMASService service exports should export amasService singleton",
          "status": "passed",
          "title": "should export amasService singleton",
          "duration": 626.214025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "service exports"],
          "fullName": "AMASService service exports should have processLearningEvent method",
          "status": "passed",
          "title": "should have processLearningEvent method",
          "duration": 19.659356000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "service exports"],
          "fullName": "AMASService service exports should have resetUser method",
          "status": "passed",
          "title": "should have resetUser method",
          "duration": 16.525032999999894,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "service exports"],
          "fullName": "AMASService service exports should have batchProcessEvents method",
          "status": "passed",
          "title": "should have batchProcessEvents method",
          "duration": 12.135494999999992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "getColdStartPhase"],
          "fullName": "AMASService getColdStartPhase should return current cold start phase",
          "status": "passed",
          "title": "should return current cold start phase",
          "duration": 17.327069000000165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "getColdStartPhase"],
          "fullName": "AMASService getColdStartPhase should return classify phase for new users",
          "status": "passed",
          "title": "should return classify phase for new users",
          "duration": 15.113554000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "resetUser"],
          "fullName": "AMASService resetUser should call engine resetUser",
          "status": "passed",
          "title": "should call engine resetUser",
          "duration": 26.91311500000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "engine integration"],
          "fullName": "AMASService engine integration should have engine with processEvent method",
          "status": "passed",
          "title": "should have engine with processEvent method",
          "duration": 25.515705000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "engine integration"],
          "fullName": "AMASService engine integration should have engine with getUserState method",
          "status": "passed",
          "title": "should have engine with getUserState method",
          "duration": 21.386976999999888,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AMASService", "engine integration"],
          "fullName": "AMASService engine integration should have engine with getColdStartPhase method",
          "status": "passed",
          "title": "should have engine with getColdStartPhase method",
          "duration": 15.71598199999994,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902347,
      "endTime": 1765615903144.716,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/amas.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AnswerBufferService", "buffer"],
          "fullName": "AnswerBufferService buffer should buffer answer to Redis",
          "status": "passed",
          "title": "should buffer answer to Redis",
          "duration": 70.15303600000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "buffer"],
          "fullName": "AnswerBufferService buffer should trigger flush when buffer reaches threshold",
          "status": "passed",
          "title": "should trigger flush when buffer reaches threshold",
          "duration": 1.9802819999999883,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "buffer"],
          "fullName": "AnswerBufferService buffer should fallback to direct write when Redis fails",
          "status": "passed",
          "title": "should fallback to direct write when Redis fails",
          "duration": 18.85336499999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "flush"],
          "fullName": "AnswerBufferService flush should do nothing when buffer is empty",
          "status": "passed",
          "title": "should do nothing when buffer is empty",
          "duration": 2.7773090000000593,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "flush"],
          "fullName": "AnswerBufferService flush should batch write buffered answers to database",
          "status": "passed",
          "title": "should batch write buffered answers to database",
          "duration": 1.6771700000000465,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "flush"],
          "fullName": "AnswerBufferService flush should not process if already processing",
          "status": "passed",
          "title": "should not process if already processing",
          "duration": 0.9461669999999458,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "flush"],
          "fullName": "AnswerBufferService flush should limit items per flush to threshold",
          "status": "passed",
          "title": "should limit items per flush to threshold",
          "duration": 2.6149560000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "startPeriodicFlush"],
          "fullName": "AnswerBufferService startPeriodicFlush should start periodic flush timer",
          "status": "passed",
          "title": "should start periodic flush timer",
          "duration": 5.824047999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "startPeriodicFlush"],
          "fullName": "AnswerBufferService startPeriodicFlush should not start multiple timers",
          "status": "passed",
          "title": "should not start multiple timers",
          "duration": 1.5208969999999908,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "stopPeriodicFlush"],
          "fullName": "AnswerBufferService stopPeriodicFlush should stop periodic flush timer",
          "status": "passed",
          "title": "should stop periodic flush timer",
          "duration": 9.784284999999954,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "stopPeriodicFlush"],
          "fullName": "AnswerBufferService stopPeriodicFlush should handle stop without start",
          "status": "passed",
          "title": "should handle stop without start",
          "duration": 0.9582110000000057,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "gracefulShutdown"],
          "fullName": "AnswerBufferService gracefulShutdown should stop timer and flush all remaining data",
          "status": "passed",
          "title": "should stop timer and flush all remaining data",
          "duration": 1.2872979999999643,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "getBufferLength"],
          "fullName": "AnswerBufferService getBufferLength should return buffer length",
          "status": "passed",
          "title": "should return buffer length",
          "duration": 2.9786679999999706,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "getBufferLength"],
          "fullName": "AnswerBufferService getBufferLength should return 0 on error",
          "status": "passed",
          "title": "should return 0 on error",
          "duration": 4.844944000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "singleton"],
          "fullName": "AnswerBufferService singleton should return same instance",
          "status": "passed",
          "title": "should return same instance",
          "duration": 1.1291149999999561,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AnswerBufferService", "singleton"],
          "fullName": "AnswerBufferService singleton should reset singleton",
          "status": "passed",
          "title": "should reset singleton",
          "duration": 1.3924509999999373,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907823,
      "endTime": 1765615907960.3923,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/answer-buffer.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AuthService", "register"],
          "fullName": "AuthService register should hash password with bcrypt",
          "status": "passed",
          "title": "should hash password with bcrypt",
          "duration": 212.63542300000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "register"],
          "fullName": "AuthService register should create user in database",
          "status": "passed",
          "title": "should create user in database",
          "duration": 67.53498100000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "register"],
          "fullName": "AuthService register should reject duplicate email",
          "status": "passed",
          "title": "should reject duplicate email",
          "duration": 5.525099999999952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "register"],
          "fullName": "AuthService register should return user without password",
          "status": "passed",
          "title": "should return user without password",
          "duration": 75.22905400000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "login"],
          "fullName": "AuthService login should verify password",
          "status": "passed",
          "title": "should verify password",
          "duration": 174.65441199999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "login"],
          "fullName": "AuthService login should generate JWT token",
          "status": "passed",
          "title": "should generate JWT token",
          "duration": 174.44050100000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "login"],
          "fullName": "AuthService login should create session",
          "status": "passed",
          "title": "should create session",
          "duration": 165.66592600000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "login"],
          "fullName": "AuthService login should reject invalid credentials",
          "status": "passed",
          "title": "should reject invalid credentials",
          "duration": 174.35363699999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "login"],
          "fullName": "AuthService login should reject non-existent email",
          "status": "passed",
          "title": "should reject non-existent email",
          "duration": 80.17974000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "logout"],
          "fullName": "AuthService logout should delete session",
          "status": "passed",
          "title": "should delete session",
          "duration": 6.005110999999943,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "logout"],
          "fullName": "AuthService logout should hash token before deletion",
          "status": "passed",
          "title": "should hash token before deletion",
          "duration": 2.5991989999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "verifyToken"],
          "fullName": "AuthService verifyToken should verify valid token",
          "status": "passed",
          "title": "should verify valid token",
          "duration": 8.216609999999946,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "verifyToken"],
          "fullName": "AuthService verifyToken should reject expired token",
          "status": "passed",
          "title": "should reject expired token",
          "duration": 7.0715959999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "verifyToken"],
          "fullName": "AuthService verifyToken should reject malformed token",
          "status": "passed",
          "title": "should reject malformed token",
          "duration": 4.063642999999956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "verifyToken"],
          "fullName": "AuthService verifyToken should reject token with invalid signature",
          "status": "passed",
          "title": "should reject token with invalid signature",
          "duration": 4.159689000000071,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "verifyToken"],
          "fullName": "AuthService verifyToken should reject token when session not found",
          "status": "passed",
          "title": "should reject token when session not found",
          "duration": 4.608938999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "verifyToken"],
          "fullName": "AuthService verifyToken should reject token when session expired",
          "status": "passed",
          "title": "should reject token when session expired",
          "duration": 13.230513000000201,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AuthService", "generateToken"],
          "fullName": "AuthService generateToken should generate valid JWT token",
          "status": "passed",
          "title": "should generate valid JWT token",
          "duration": 4.169775000000072,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902259,
      "endTime": 1765615903445.1697,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/auth.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["BadgeService", "getUserBadges"],
          "fullName": "BadgeService getUserBadges should return user badges with details",
          "status": "passed",
          "title": "should return user badges with details",
          "duration": 34.527857999999924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "getUserBadges"],
          "fullName": "BadgeService getUserBadges should return empty array for user with no badges",
          "status": "passed",
          "title": "should return empty array for user with no badges",
          "duration": 1.592147999999952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "checkAndAwardBadges"],
          "fullName": "BadgeService checkAndAwardBadges should return empty array when no new badges earned",
          "status": "passed",
          "title": "should return empty array when no new badges earned",
          "duration": 6.690550999999914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "checkAndAwardBadges"],
          "fullName": "BadgeService checkAndAwardBadges should award badge when condition met",
          "status": "passed",
          "title": "should award badge when condition met",
          "duration": 1.4572500000000446,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "checkAndAwardBadges"],
          "fullName": "BadgeService checkAndAwardBadges should not award already earned badge",
          "status": "passed",
          "title": "should not award already earned badge",
          "duration": 1.2857970000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "getBadgeDetails"],
          "fullName": "BadgeService getBadgeDetails should return badge details with unlock status",
          "status": "passed",
          "title": "should return badge details with unlock status",
          "duration": 0.9207539999999881,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "getBadgeProgress"],
          "fullName": "BadgeService getBadgeProgress should return progress for badges",
          "status": "passed",
          "title": "should return progress for badges",
          "duration": 1.8601589999999533,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "getAllBadges"],
          "fullName": "BadgeService getAllBadges should return all badge definitions",
          "status": "passed",
          "title": "should return all badge definitions",
          "duration": 5.3951920000000655,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "getAllBadgesWithStatus"],
          "fullName": "BadgeService getAllBadgesWithStatus should return all badges with user unlock status",
          "status": "passed",
          "title": "should return all badges with user unlock status",
          "duration": 2.3712620000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "exports"],
          "fullName": "BadgeService exports should export badgeService singleton",
          "status": "passed",
          "title": "should export badgeService singleton",
          "duration": 0.8414999999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BadgeService", "exports"],
          "fullName": "BadgeService exports should export default",
          "status": "passed",
          "title": "should export default",
          "duration": 0.8547909999999774,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615906682,
      "endTime": 1765615906740.8547,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/badge.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["CacheService", "get"],
          "fullName": "CacheService get should return null for non-existent key",
          "status": "passed",
          "title": "should return null for non-existent key",
          "duration": 7.032933999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "get"],
          "fullName": "CacheService get should return cached value",
          "status": "passed",
          "title": "should return cached value",
          "duration": 1.732623999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "get"],
          "fullName": "CacheService get should return null for expired key",
          "status": "passed",
          "title": "should return null for expired key",
          "duration": 23.298148999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "set"],
          "fullName": "CacheService set should set value without TTL",
          "status": "passed",
          "title": "should set value without TTL",
          "duration": 1.6642709999999852,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "set"],
          "fullName": "CacheService set should set value with TTL",
          "status": "passed",
          "title": "should set value with TTL",
          "duration": 0.9531779999999799,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "set"],
          "fullName": "CacheService set should overwrite existing value",
          "status": "passed",
          "title": "should overwrite existing value",
          "duration": 5.575073999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "set"],
          "fullName": "CacheService set should handle complex objects",
          "status": "passed",
          "title": "should handle complex objects",
          "duration": 2.266736999999921,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "delete"],
          "fullName": "CacheService delete should delete existing key",
          "status": "passed",
          "title": "should delete existing key",
          "duration": 2.337684999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "delete"],
          "fullName": "CacheService delete should handle non-existent key",
          "status": "passed",
          "title": "should handle non-existent key",
          "duration": 1.9137499999999363,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "deletePattern"],
          "fullName": "CacheService deletePattern should delete keys matching pattern",
          "status": "passed",
          "title": "should delete keys matching pattern",
          "duration": 1.07162500000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "has"],
          "fullName": "CacheService has should return true for existing key",
          "status": "passed",
          "title": "should return true for existing key",
          "duration": 0.4844029999999293,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "has"],
          "fullName": "CacheService has should return false for non-existent key",
          "status": "passed",
          "title": "should return false for non-existent key",
          "duration": 0.43141799999989416,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "clear"],
          "fullName": "CacheService clear should clear all cached values",
          "status": "passed",
          "title": "should clear all cached values",
          "duration": 0.5090370000000348,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "CacheKeys"],
          "fullName": "CacheService CacheKeys should generate user learning state key",
          "status": "passed",
          "title": "should generate user learning state key",
          "duration": 0.5565400000000409,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "CacheKeys"],
          "fullName": "CacheService CacheKeys should generate user stats key",
          "status": "passed",
          "title": "should generate user stats key",
          "duration": 0.5821050000000696,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "CacheKeys"],
          "fullName": "CacheService CacheKeys should generate user due words key",
          "status": "passed",
          "title": "should generate user due words key",
          "duration": 0.4203980000000911,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "CacheTTL"],
          "fullName": "CacheService CacheTTL should have defined TTL values",
          "status": "passed",
          "title": "should have defined TTL values",
          "duration": 0.46392100000002756,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "getOrSet"],
          "fullName": "CacheService getOrSet should return cached value if exists",
          "status": "passed",
          "title": "should return cached value if exists",
          "duration": 0.4956039999999575,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "getOrSet"],
          "fullName": "CacheService getOrSet should compute and cache value if not exists",
          "status": "passed",
          "title": "should compute and cache value if not exists",
          "duration": 0.5400999999999385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CacheService", "mget"],
          "fullName": "CacheService mget should get multiple values",
          "status": "passed",
          "title": "should get multiple values",
          "duration": 2.2657609999999977,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909598,
      "endTime": 1765615909654.2659,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/cache.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["DecisionEventsService", "getInstance"],
          "fullName": "DecisionEventsService getInstance should return a singleton instance",
          "status": "passed",
          "title": "should return a singleton instance",
          "duration": 2.2032990000000154,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "emitDecision"],
          "fullName": "DecisionEventsService emitDecision should emit decision event with correct data",
          "status": "passed",
          "title": "should emit decision event with correct data",
          "duration": 7.8347290000000385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "emitDecision"],
          "fullName": "DecisionEventsService emitDecision should set source to virtual for simulation",
          "status": "passed",
          "title": "should set source to virtual for simulation",
          "duration": 0.3279209999999466,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "emitDecision"],
          "fullName": "DecisionEventsService emitDecision should anonymize user id",
          "status": "passed",
          "title": "should anonymize user id",
          "duration": 1.054444999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "emitDecision"],
          "fullName": "DecisionEventsService emitDecision should use anonymous for missing user id",
          "status": "passed",
          "title": "should use anonymous for missing user id",
          "duration": 0.2882249999998976,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "emitDecision"],
          "fullName": "DecisionEventsService emitDecision should use default values for missing action fields",
          "status": "passed",
          "title": "should use default values for missing action fields",
          "duration": 0.23909199999991415,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "dominant factor detection"],
          "fullName": "DecisionEventsService dominant factor detection should detect attention as dominant factor",
          "status": "passed",
          "title": "should detect attention as dominant factor",
          "duration": 0.2104699999999866,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "dominant factor detection"],
          "fullName": "DecisionEventsService dominant factor detection should detect fatigue as dominant factor (inverse)",
          "status": "passed",
          "title": "should detect fatigue as dominant factor (inverse)",
          "duration": 0.2178720000000567,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "dominant factor detection"],
          "fullName": "DecisionEventsService dominant factor detection should detect motivation as dominant factor",
          "status": "passed",
          "title": "should detect motivation as dominant factor",
          "duration": 0.4065100000000257,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "dominant factor detection"],
          "fullName": "DecisionEventsService dominant factor detection should return balanced when all factors are similar",
          "status": "passed",
          "title": "should return balanced when all factors are similar",
          "duration": 0.35875899999996363,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "dominant factor detection"],
          "fullName": "DecisionEventsService dominant factor detection should return unknown for missing state",
          "status": "passed",
          "title": "should return unknown for missing state",
          "duration": 0.2944270000000415,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "connection management"],
          "fullName": "DecisionEventsService connection management should increment connection count",
          "status": "passed",
          "title": "should increment connection count",
          "duration": 0.22888100000000122,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "connection management"],
          "fullName": "DecisionEventsService connection management should decrement connection count",
          "status": "passed",
          "title": "should decrement connection count",
          "duration": 0.20479499999999007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "connection management"],
          "fullName": "DecisionEventsService connection management should not decrement below zero",
          "status": "passed",
          "title": "should not decrement below zero",
          "duration": 0.2370140000000447,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "connection management"],
          "fullName": "DecisionEventsService connection management should return current connection count",
          "status": "passed",
          "title": "should return current connection count",
          "duration": 0.20116799999993873,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "exports"],
          "fullName": "DecisionEventsService exports should export decisionEventsService singleton",
          "status": "passed",
          "title": "should export decisionEventsService singleton",
          "duration": 4.158574999999928,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "exports"],
          "fullName": "DecisionEventsService exports should export default",
          "status": "passed",
          "title": "should export default",
          "duration": 1.321548000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionEventsService", "exports"],
          "fullName": "DecisionEventsService exports should export DecisionEventData type",
          "status": "passed",
          "title": "should export DecisionEventData type",
          "duration": 1.0701469999999063,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913571,
      "endTime": 1765615913593.07,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/decision-events.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["DelayedRewardService", "enqueueDelayedReward"],
          "fullName": "DelayedRewardService enqueueDelayedReward should create a pending reward record",
          "status": "passed",
          "title": "should create a pending reward record",
          "duration": 10.434843,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "enqueueDelayedReward"],
          "fullName": "DelayedRewardService enqueueDelayedReward should return existing record on idempotency key conflict",
          "status": "passed",
          "title": "should return existing record on idempotency key conflict",
          "duration": 1.3045759999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "processPendingRewards"],
          "fullName": "DelayedRewardService processPendingRewards should process pending rewards with handler",
          "status": "passed",
          "title": "should process pending rewards with handler",
          "duration": 5.583472000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "processPendingRewards"],
          "fullName": "DelayedRewardService processPendingRewards should do nothing when no pending rewards",
          "status": "passed",
          "title": "should do nothing when no pending rewards",
          "duration": 1.0794490000000678,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "processPendingRewards"],
          "fullName": "DelayedRewardService processPendingRewards should handle missing handler gracefully",
          "status": "passed",
          "title": "should handle missing handler gracefully",
          "duration": 2.1964420000000473,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "getRewardStatus"],
          "fullName": "DelayedRewardService getRewardStatus should return rewards for session",
          "status": "passed",
          "title": "should return rewards for session",
          "duration": 1.605634000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "findRewards"],
          "fullName": "DelayedRewardService findRewards should find rewards by filter",
          "status": "passed",
          "title": "should find rewards by filter",
          "duration": 0.4923390000000154,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "exports"],
          "fullName": "DelayedRewardService exports should export DelayedRewardService class",
          "status": "passed",
          "title": "should export DelayedRewardService class",
          "duration": 0.4034000000000333,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardService", "exports"],
          "fullName": "DelayedRewardService exports should export delayedRewardService singleton",
          "status": "passed",
          "title": "should export delayedRewardService singleton",
          "duration": 0.9568490000000338,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913738,
      "endTime": 1765615913762.9568,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/delayed-reward.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["DifficultyCacheService", "getCached"],
          "fullName": "DifficultyCacheService getCached should return cached difficulty value",
          "status": "passed",
          "title": "should return cached difficulty value",
          "duration": 50.84737199999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "getCached"],
          "fullName": "DifficultyCacheService getCached should return null when not cached",
          "status": "passed",
          "title": "should return null when not cached",
          "duration": 9.518925000000081,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "getCached"],
          "fullName": "DifficultyCacheService getCached should handle errors gracefully",
          "status": "passed",
          "title": "should handle errors gracefully",
          "duration": 9.10897399999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "getCachedBatch"],
          "fullName": "DifficultyCacheService getCachedBatch should return empty object for empty wordIds",
          "status": "passed",
          "title": "should return empty object for empty wordIds",
          "duration": 13.040834000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "getCachedBatch"],
          "fullName": "DifficultyCacheService getCachedBatch should return cached values for multiple words",
          "status": "passed",
          "title": "should return cached values for multiple words",
          "duration": 4.46596599999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "getCachedBatch"],
          "fullName": "DifficultyCacheService getCachedBatch should handle errors gracefully",
          "status": "passed",
          "title": "should handle errors gracefully",
          "duration": 11.863017000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "setCached"],
          "fullName": "DifficultyCacheService setCached should set difficulty with TTL",
          "status": "passed",
          "title": "should set difficulty with TTL",
          "duration": 6.441442000000052,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "setCached"],
          "fullName": "DifficultyCacheService setCached should handle errors gracefully",
          "status": "passed",
          "title": "should handle errors gracefully",
          "duration": 10.753006000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "invalidate"],
          "fullName": "DifficultyCacheService invalidate should delete all keys for a word",
          "status": "passed",
          "title": "should delete all keys for a word",
          "duration": 3.3074359999999388,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "invalidate"],
          "fullName": "DifficultyCacheService invalidate should not call del when no keys found",
          "status": "passed",
          "title": "should not call del when no keys found",
          "duration": 13.73738800000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DifficultyCacheService", "invalidate"],
          "fullName": "DifficultyCacheService invalidate should handle errors gracefully",
          "status": "passed",
          "title": "should handle errors gracefully",
          "duration": 3.3671279999999797,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615906389,
      "endTime": 1765615906529.3672,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/difficulty-cache.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EvaluationService", "Causal Inference", "recordCausalObservation"],
          "fullName": "EvaluationService Causal Inference recordCausalObservation should record observation when causal inference enabled",
          "status": "passed",
          "title": "should record observation when causal inference enabled",
          "duration": 14.936746000000085,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EvaluationService", "Causal Inference", "estimateStrategyEffect"],
          "fullName": "EvaluationService Causal Inference estimateStrategyEffect should return ATE estimate",
          "status": "passed",
          "title": "should return ATE estimate",
          "duration": 2.663905999999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EvaluationService", "Causal Inference", "compareStrategies"],
          "fullName": "EvaluationService Causal Inference compareStrategies should return null when sample size insufficient",
          "status": "passed",
          "title": "should return null when sample size insufficient",
          "duration": 1.3952170000000024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EvaluationService", "Causal Inference", "compareStrategies"],
          "fullName": "EvaluationService Causal Inference compareStrategies should compare two strategies with sufficient data",
          "status": "passed",
          "title": "should compare two strategies with sufficient data",
          "duration": 0.9839540000000397,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EvaluationService", "Causal Inference", "getCausalDiagnostics"],
          "fullName": "EvaluationService Causal Inference getCausalDiagnostics should return diagnostics info",
          "status": "passed",
          "title": "should return diagnostics info",
          "duration": 0.4757039999999506,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EvaluationService", "exports"],
          "fullName": "EvaluationService exports should export EvaluationService class",
          "status": "passed",
          "title": "should export EvaluationService class",
          "duration": 0.3366720000000214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EvaluationService", "exports"],
          "fullName": "EvaluationService exports should export evaluationService singleton",
          "status": "passed",
          "title": "should export evaluationService singleton",
          "duration": 0.3407399999999825,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615914268,
      "endTime": 1765615914290.3408,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/evaluation.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ExperimentService", "createExperiment"],
          "fullName": "ExperimentService createExperiment should create experiment with valid input",
          "status": "passed",
          "title": "should create experiment with valid input",
          "duration": 50.45801200000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "createExperiment"],
          "fullName": "ExperimentService createExperiment should reject experiment with less than 2 variants",
          "status": "passed",
          "title": "should reject experiment with less than 2 variants",
          "duration": 5.27610500000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "createExperiment"],
          "fullName": "ExperimentService createExperiment should reject experiment when variant weights do not sum to 1",
          "status": "passed",
          "title": "should reject experiment when variant weights do not sum to 1",
          "duration": 5.138704999999959,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "createExperiment"],
          "fullName": "ExperimentService createExperiment should reject experiment without exactly one control group",
          "status": "passed",
          "title": "should reject experiment without exactly one control group",
          "duration": 1.2207250000000158,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "createExperiment"],
          "fullName": "ExperimentService createExperiment should reject experiment with multiple control groups",
          "status": "passed",
          "title": "should reject experiment with multiple control groups",
          "duration": 0.9356460000000197,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "listExperiments"],
          "fullName": "ExperimentService listExperiments should return paginated experiment list",
          "status": "passed",
          "title": "should return paginated experiment list",
          "duration": 2.480142999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "listExperiments"],
          "fullName": "ExperimentService listExperiments should filter experiments by status",
          "status": "passed",
          "title": "should filter experiments by status",
          "duration": 1.9867629999999963,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "listExperiments"],
          "fullName": "ExperimentService listExperiments should use default pagination values",
          "status": "passed",
          "title": "should use default pagination values",
          "duration": 0.9718670000000884,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "getExperiment"],
          "fullName": "ExperimentService getExperiment should return experiment by id",
          "status": "passed",
          "title": "should return experiment by id",
          "duration": 1.3908850000000257,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "getExperiment"],
          "fullName": "ExperimentService getExperiment should throw error for non-existent experiment",
          "status": "passed",
          "title": "should throw error for non-existent experiment",
          "duration": 1.4054119999999557,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "getExperimentStatus"],
          "fullName": "ExperimentService getExperimentStatus should return default status when no data available",
          "status": "passed",
          "title": "should return default status when no data available",
          "duration": 9.064829000000032,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "getExperimentStatus"],
          "fullName": "ExperimentService getExperimentStatus should calculate statistics when data is available",
          "status": "passed",
          "title": "should calculate statistics when data is available",
          "duration": 2.9154270000000224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "getExperimentStatus"],
          "fullName": "ExperimentService getExperimentStatus should throw error for non-existent experiment",
          "status": "passed",
          "title": "should throw error for non-existent experiment",
          "duration": 1.038944000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "startExperiment"],
          "fullName": "ExperimentService startExperiment should start draft experiment",
          "status": "passed",
          "title": "should start draft experiment",
          "duration": 1.156172999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "startExperiment"],
          "fullName": "ExperimentService startExperiment should throw error for non-existent experiment",
          "status": "passed",
          "title": "should throw error for non-existent experiment",
          "duration": 1.9805810000000292,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "startExperiment"],
          "fullName": "ExperimentService startExperiment should throw error for non-draft experiment",
          "status": "passed",
          "title": "should throw error for non-draft experiment",
          "duration": 1.6971099999999524,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "startExperiment"],
          "fullName": "ExperimentService startExperiment should throw error for experiment with less than 2 variants",
          "status": "passed",
          "title": "should throw error for experiment with less than 2 variants",
          "duration": 2.246223999999984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "stopExperiment"],
          "fullName": "ExperimentService stopExperiment should stop running experiment",
          "status": "passed",
          "title": "should stop running experiment",
          "duration": 1.5965259999999262,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "stopExperiment"],
          "fullName": "ExperimentService stopExperiment should throw error for non-existent experiment",
          "status": "passed",
          "title": "should throw error for non-existent experiment",
          "duration": 1.2879039999999122,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "stopExperiment"],
          "fullName": "ExperimentService stopExperiment should throw error for non-running experiment",
          "status": "passed",
          "title": "should throw error for non-running experiment",
          "duration": 5.124499000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "deleteExperiment"],
          "fullName": "ExperimentService deleteExperiment should delete non-running experiment",
          "status": "passed",
          "title": "should delete non-running experiment",
          "duration": 4.523379999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "deleteExperiment"],
          "fullName": "ExperimentService deleteExperiment should throw error for non-existent experiment",
          "status": "passed",
          "title": "should throw error for non-existent experiment",
          "duration": 1.2189710000000105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "deleteExperiment"],
          "fullName": "ExperimentService deleteExperiment should throw error for running experiment",
          "status": "passed",
          "title": "should throw error for running experiment",
          "duration": 6.189956999999936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "recordMetric"],
          "fullName": "ExperimentService recordMetric should update metrics using Welford algorithm",
          "status": "passed",
          "title": "should update metrics using Welford algorithm",
          "duration": 2.3604890000000296,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "recordMetric"],
          "fullName": "ExperimentService recordMetric should throw error for non-existent metrics record",
          "status": "passed",
          "title": "should throw error for non-existent metrics record",
          "duration": 1.1633849999999484,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "首次分配变体"],
          "fullName": "ExperimentService assignVariant 首次分配变体 should assign variant when no existing assignment",
          "status": "passed",
          "title": "should assign variant when no existing assignment",
          "duration": 2.650068000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "首次分配变体"],
          "fullName": "ExperimentService assignVariant 首次分配变体 should assign variant based on weights",
          "status": "passed",
          "title": "should assign variant based on weights",
          "duration": 4.6694969999999785,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "首次分配变体"],
          "fullName": "ExperimentService assignVariant 首次分配变体 should handle three-way split",
          "status": "passed",
          "title": "should handle three-way split",
          "duration": 1.1962879999999814,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "重复分配返回相同变体"],
          "fullName": "ExperimentService assignVariant 重复分配返回相同变体 should return existing variant for repeat assignment",
          "status": "passed",
          "title": "should return existing variant for repeat assignment",
          "duration": 1.0515980000000127,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "重复分配返回相同变体"],
          "fullName": "ExperimentService assignVariant 重复分配返回相同变体 should return same variant on multiple calls",
          "status": "passed",
          "title": "should return same variant on multiple calls",
          "duration": 0.8524939999999788,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "实验不存在时的错误处理"],
          "fullName": "ExperimentService assignVariant 实验不存在时的错误处理 should throw error when experiment does not exist",
          "status": "passed",
          "title": "should throw error when experiment does not exist",
          "duration": 1.0822310000000925,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "实验状态非RUNNING时的错误处理"],
          "fullName": "ExperimentService assignVariant 实验状态非RUNNING时的错误处理 should throw error when experiment is in DRAFT status",
          "status": "passed",
          "title": "should throw error when experiment is in DRAFT status",
          "duration": 5.381482000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "实验状态非RUNNING时的错误处理"],
          "fullName": "ExperimentService assignVariant 实验状态非RUNNING时的错误处理 should throw error when experiment is COMPLETED",
          "status": "passed",
          "title": "should throw error when experiment is COMPLETED",
          "duration": 1.488061000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "实验状态非RUNNING时的错误处理"],
          "fullName": "ExperimentService assignVariant 实验状态非RUNNING时的错误处理 should throw error when experiment is ABORTED",
          "status": "passed",
          "title": "should throw error when experiment is ABORTED",
          "duration": 1.193465999999944,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "按权重正确分配"],
          "fullName": "ExperimentService assignVariant 按权重正确分配 should respect variant weights in assignment",
          "status": "passed",
          "title": "should respect variant weights in assignment",
          "duration": 0.8656879999999774,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "按权重正确分配"],
          "fullName": "ExperimentService assignVariant 按权重正确分配 should handle extremely skewed weights (99/1 split)",
          "status": "passed",
          "title": "should handle extremely skewed weights (99/1 split)",
          "duration": 0.7639589999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "按权重正确分配"],
          "fullName": "ExperimentService assignVariant 按权重正确分配 should handle unequal weights (60/40 split)",
          "status": "passed",
          "title": "should handle unequal weights (60/40 split)",
          "duration": 0.7389979999999241,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExperimentService",
            "assignVariant",
            "一致性哈希验证（同一用户总是分到同一组）"
          ],
          "fullName": "ExperimentService assignVariant 一致性哈希验证（同一用户总是分到同一组） should assign same user to same variant consistently",
          "status": "passed",
          "title": "should assign same user to same variant consistently",
          "duration": 6.939830000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExperimentService",
            "assignVariant",
            "一致性哈希验证（同一用户总是分到同一组）"
          ],
          "fullName": "ExperimentService assignVariant 一致性哈希验证（同一用户总是分到同一组） should assign different users deterministically",
          "status": "passed",
          "title": "should assign different users deterministically",
          "duration": 1.9354640000000245,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExperimentService",
            "assignVariant",
            "一致性哈希验证（同一用户总是分到同一组）"
          ],
          "fullName": "ExperimentService assignVariant 一致性哈希验证（同一用户总是分到同一组） should maintain consistency across different user IDs with same hash",
          "status": "passed",
          "title": "should maintain consistency across different user IDs with same hash",
          "duration": 1.5001230000000305,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle experiment with no variants",
          "status": "passed",
          "title": "should handle experiment with no variants",
          "duration": 1.958421000000044,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle experiment with single variant",
          "status": "passed",
          "title": "should handle experiment with single variant",
          "duration": 4.753376000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle very small weights",
          "status": "passed",
          "title": "should handle very small weights",
          "duration": 0.9937049999999772,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle empty user ID",
          "status": "passed",
          "title": "should handle empty user ID",
          "duration": 4.456193999999982,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle very long user ID",
          "status": "passed",
          "title": "should handle very long user ID",
          "duration": 5.986892000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle special characters in user ID",
          "status": "passed",
          "title": "should handle special characters in user ID",
          "duration": 1.1296619999999393,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle Unicode characters in user ID",
          "status": "passed",
          "title": "should handle Unicode characters in user ID",
          "duration": 0.8288029999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle database connection error during assignment check",
          "status": "passed",
          "title": "should handle database connection error during assignment check",
          "duration": 0.7275569999999334,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle database error during variant creation",
          "status": "passed",
          "title": "should handle database error during variant creation",
          "duration": 0.7330639999998994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "边界条件测试"],
          "fullName": "ExperimentService assignVariant 边界条件测试 should handle cumulative weight precision issues",
          "status": "passed",
          "title": "should handle cumulative weight precision issues",
          "duration": 0.6983579999999847,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "哈希函数测试"],
          "fullName": "ExperimentService assignVariant 哈希函数测试 should produce consistent hash for same user ID",
          "status": "passed",
          "title": "should produce consistent hash for same user ID",
          "duration": 0.7601339999999936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExperimentService", "assignVariant", "哈希函数测试"],
          "fullName": "ExperimentService assignVariant 哈希函数测试 should produce different hashes for different user IDs",
          "status": "passed",
          "title": "should produce different hashes for different user IDs",
          "duration": 1.8615690000000313,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905973,
      "endTime": 1765615906147.8616,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/experiment.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ExplainabilityService", "getLatestDecisionId"],
          "fullName": "ExplainabilityService getLatestDecisionId should return latest decision ID for user",
          "status": "passed",
          "title": "should return latest decision ID for user",
          "duration": 129.4386679999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLatestDecisionId"],
          "fullName": "ExplainabilityService getLatestDecisionId should return null when no decisions exist",
          "status": "passed",
          "title": "should return null when no decisions exist",
          "duration": 3.097684999999956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionExplanation"],
          "fullName": "ExplainabilityService getDecisionExplanation should return explanation for decision",
          "status": "passed",
          "title": "should return explanation for decision",
          "duration": 7.087673000000109,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionExplanation"],
          "fullName": "ExplainabilityService getDecisionExplanation should return null when decision not found",
          "status": "passed",
          "title": "should return null when decision not found",
          "duration": 12.37884699999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionExplanation"],
          "fullName": "ExplainabilityService getDecisionExplanation should use latest decision when decisionId not provided",
          "status": "passed",
          "title": "should use latest decision when decisionId not provided",
          "duration": 3.694925000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve"],
          "fullName": "ExplainabilityService getLearningCurve should return learning curve data",
          "status": "passed",
          "title": "should return learning curve data",
          "duration": 3.44017000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve"],
          "fullName": "ExplainabilityService getLearningCurve should default to 30 days",
          "status": "passed",
          "title": "should default to 30 days",
          "duration": 3.6027440000000297,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline"],
          "fullName": "ExplainabilityService getDecisionTimeline should return decision timeline",
          "status": "passed",
          "title": "should return decision timeline",
          "duration": 3.2979120000001103,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline"],
          "fullName": "ExplainabilityService getDecisionTimeline should support pagination with cursor",
          "status": "passed",
          "title": "should support pagination with cursor",
          "duration": 8.68238000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual"],
          "fullName": "ExplainabilityService runCounterfactual should run counterfactual analysis",
          "status": "passed",
          "title": "should run counterfactual analysis",
          "duration": 12.622494999999958,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual"],
          "fullName": "ExplainabilityService runCounterfactual should return null when base decision not found",
          "status": "passed",
          "title": "should return null when base decision not found",
          "duration": 6.434892999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "service exports"],
          "fullName": "ExplainabilityService service exports should export explainabilityService singleton",
          "status": "passed",
          "title": "should export explainabilityService singleton",
          "duration": 2.215832999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLatestDecisionId - 边界条件"],
          "fullName": "ExplainabilityService getLatestDecisionId - 边界条件 should handle empty user ID",
          "status": "passed",
          "title": "should handle empty user ID",
          "duration": 1.9987740000000258,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLatestDecisionId - 边界条件"],
          "fullName": "ExplainabilityService getLatestDecisionId - 边界条件 should handle database query returning multiple results",
          "status": "passed",
          "title": "should handle database query returning multiple results",
          "duration": 7.469763999999941,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLatestDecisionId - 边界条件"],
          "fullName": "ExplainabilityService getLatestDecisionId - 边界条件 should handle database error gracefully",
          "status": "passed",
          "title": "should handle database error gracefully",
          "duration": 3.8055929999999307,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityService",
            "getDecisionExplanation - 边界条件和错误处理"
          ],
          "fullName": "ExplainabilityService getDecisionExplanation - 边界条件和错误处理 should handle cached insight data",
          "status": "passed",
          "title": "should handle cached insight data",
          "duration": 5.595018999999979,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityService",
            "getDecisionExplanation - 边界条件和错误处理"
          ],
          "fullName": "ExplainabilityService getDecisionExplanation - 边界条件和错误处理 should handle null stateSnapshot from database",
          "status": "passed",
          "title": "should handle null stateSnapshot from database",
          "duration": 8.810610999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityService",
            "getDecisionExplanation - 边界条件和错误处理"
          ],
          "fullName": "ExplainabilityService getDecisionExplanation - 边界条件和错误处理 should handle invalid stateSnapshot type (array instead of object)",
          "status": "passed",
          "title": "should handle invalid stateSnapshot type (array instead of object)",
          "duration": 2.0174110000000383,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityService",
            "getDecisionExplanation - 边界条件和错误处理"
          ],
          "fullName": "ExplainabilityService getDecisionExplanation - 边界条件和错误处理 should handle database error and fallback to computation",
          "status": "passed",
          "title": "should handle database error and fallback to computation",
          "duration": 1.56125499999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityService",
            "getDecisionExplanation - 边界条件和错误处理"
          ],
          "fullName": "ExplainabilityService getDecisionExplanation - 边界条件和错误处理 should return null when both decisionId is not provided and no latest decision exists",
          "status": "passed",
          "title": "should return null when both decisionId is not provided and no latest decision exists",
          "duration": 3.1798649999999498,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityService",
            "getDecisionExplanation - 边界条件和错误处理"
          ],
          "fullName": "ExplainabilityService getDecisionExplanation - 边界条件和错误处理 should handle missing difficultyFactors gracefully",
          "status": "passed",
          "title": "should handle missing difficultyFactors gracefully",
          "duration": 1.8133129999999937,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should return empty points for user with no history",
          "status": "passed",
          "title": "should return empty points for user with no history",
          "duration": 2.0213999999999714,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should calculate trend as up when mastery increases",
          "status": "passed",
          "title": "should calculate trend as up when mastery increases",
          "duration": 1.8662229999999909,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should calculate trend as down when mastery decreases",
          "status": "passed",
          "title": "should calculate trend as down when mastery decreases",
          "duration": 1.829162999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should calculate trend as flat for minor changes",
          "status": "passed",
          "title": "should calculate trend as flat for minor changes",
          "duration": 1.877006999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should handle single data point",
          "status": "passed",
          "title": "should handle single data point",
          "duration": 2.7150780000000623,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should handle string dates in history",
          "status": "passed",
          "title": "should handle string dates in history",
          "duration": 4.107002999999963,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should handle invalid date in history with fallback",
          "status": "passed",
          "title": "should handle invalid date in history with fallback",
          "duration": 4.718318999999951,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should use default 30 days when days parameter is 0",
          "status": "passed",
          "title": "should use default 30 days when days parameter is 0",
          "duration": 2.4158939999999802,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getLearningCurve - 边界条件"],
          "fullName": "ExplainabilityService getLearningCurve - 边界条件 should handle negative days parameter",
          "status": "passed",
          "title": "should handle negative days parameter",
          "duration": 3.2502849999999626,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should return empty items for user with no decisions",
          "status": "passed",
          "title": "should return empty items for user with no decisions",
          "duration": 2.2196089999999913,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should handle limit of 0",
          "status": "passed",
          "title": "should handle limit of 0",
          "duration": 5.8964730000000145,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should return nextCursor when there are more results",
          "status": "passed",
          "title": "should return nextCursor when there are more results",
          "duration": 3.0605189999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should handle invalid cursor format gracefully",
          "status": "passed",
          "title": "should handle invalid cursor format gracefully",
          "duration": 4.257909000000041,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should handle cursor with invalid timestamp",
          "status": "passed",
          "title": "should handle cursor with invalid timestamp",
          "duration": 2.995541000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should handle null answerRecordId in results",
          "status": "passed",
          "title": "should handle null answerRecordId in results",
          "duration": 2.7975959999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should handle null wordId in results",
          "status": "passed",
          "title": "should handle null wordId in results",
          "duration": 1.800055000000043,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "getDecisionTimeline - 边界条件和错误处理"],
          "fullName": "ExplainabilityService getDecisionTimeline - 边界条件和错误处理 should handle large limit values",
          "status": "passed",
          "title": "should handle large limit values",
          "duration": 1.4176420000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should return null when no base decision exists",
          "status": "passed",
          "title": "should return null when no base decision exists",
          "duration": 1.4771339999999782,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should use latest decision when decisionId not provided",
          "status": "passed",
          "title": "should use latest decision when decisionId not provided",
          "duration": 2.028451000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should handle overrides with all parameters",
          "status": "passed",
          "title": "should handle overrides with all parameters",
          "duration": 2.5278710000000046,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should return null when decision record not found for user",
          "status": "passed",
          "title": "should return null when decision record not found for user",
          "duration": 2.4087030000000595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should return null when user state history not found",
          "status": "passed",
          "title": "should return null when user state history not found",
          "duration": 2.401087999999959,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should trigger adjustment when fatigue is very high",
          "status": "passed",
          "title": "should trigger adjustment when fatigue is very high",
          "duration": 1.7749709999999368,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should trigger adjustment when recentAccuracy is very low",
          "status": "passed",
          "title": "should trigger adjustment when recentAccuracy is very low",
          "duration": 1.6809100000000399,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should suggest harder difficulty when performance is excellent",
          "status": "passed",
          "title": "should suggest harder difficulty when performance is excellent",
          "duration": 1.7401909999999816,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "runCounterfactual - 边界条件和错误处理"],
          "fullName": "ExplainabilityService runCounterfactual - 边界条件和错误处理 should generate proper explanation for state changes",
          "status": "passed",
          "title": "should generate proper explanation for state changes",
          "duration": 16.397366000000034,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "边界值参数测试"],
          "fullName": "ExplainabilityService 边界值参数测试 should handle extremely long user ID",
          "status": "passed",
          "title": "should handle extremely long user ID",
          "duration": 2.062526000000048,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "边界值参数测试"],
          "fullName": "ExplainabilityService 边界值参数测试 should handle special characters in decisionId",
          "status": "passed",
          "title": "should handle special characters in decisionId",
          "duration": 1.6166050000000496,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityService", "边界值参数测试"],
          "fullName": "ExplainabilityService 边界值参数测试 should handle decimal values at boundaries for counterfactual",
          "status": "passed",
          "title": "should handle decimal values at boundaries for counterfactual",
          "duration": 13.31528400000002,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615904856,
      "endTime": 1765615905190.3152,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/explainability.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LearningObjectivesService", "getUserObjectives"],
          "fullName": "LearningObjectivesService getUserObjectives should return null when no objectives found",
          "status": "passed",
          "title": "should return null when no objectives found",
          "duration": 65.28213199999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "getUserObjectives"],
          "fullName": "LearningObjectivesService getUserObjectives should return formatted objectives when found",
          "status": "passed",
          "title": "should return formatted objectives when found",
          "duration": 3.9048480000000154,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "upsertUserObjectives"],
          "fullName": "LearningObjectivesService upsertUserObjectives should create or update user objectives",
          "status": "passed",
          "title": "should create or update user objectives",
          "duration": 5.257346999999982,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "switchMode"],
          "fullName": "LearningObjectivesService switchMode should switch to exam mode with preset config",
          "status": "passed",
          "title": "should switch to exam mode with preset config",
          "duration": 2.0466410000000224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "switchMode"],
          "fullName": "LearningObjectivesService switchMode should record history when switching from existing objectives",
          "status": "passed",
          "title": "should record history when switching from existing objectives",
          "duration": 10.19179900000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "getSuggestions"],
          "fullName": "LearningObjectivesService getSuggestions should return default suggestion for new user",
          "status": "passed",
          "title": "should return default suggestion for new user",
          "duration": 2.534907999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "getSuggestions"],
          "fullName": "LearningObjectivesService getSuggestions should return suggestions excluding current mode",
          "status": "passed",
          "title": "should return suggestions excluding current mode",
          "duration": 1.5854379999999537,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "getObjectiveHistory"],
          "fullName": "LearningObjectivesService getObjectiveHistory should return formatted history",
          "status": "passed",
          "title": "should return formatted history",
          "duration": 5.805522999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningObjectivesService", "deleteUserObjectives"],
          "fullName": "LearningObjectivesService deleteUserObjectives should delete user objectives",
          "status": "passed",
          "title": "should delete user objectives",
          "duration": 11.790757999999983,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910998,
      "endTime": 1765615911107.7908,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/learning-objectives.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LearningSessionService", "createSession"],
          "fullName": "LearningSessionService createSession 应该创建学习会话",
          "status": "passed",
          "title": "应该创建学习会话",
          "duration": 85.6360279999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "createSession"],
          "fullName": "LearningSessionService createSession 应该使用默认配置创建会话",
          "status": "passed",
          "title": "应该使用默认配置创建会话",
          "duration": 5.6854379999999765,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "startSession"],
          "fullName": "LearningSessionService startSession 应该启动会话并发布事件",
          "status": "passed",
          "title": "应该启动会话并发布事件",
          "duration": 7.7576910000000225,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "startSession"],
          "fullName": "LearningSessionService startSession 应该在会话不存在时抛出错误",
          "status": "passed",
          "title": "应该在会话不存在时抛出错误",
          "duration": 10.21367100000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "startSession"],
          "fullName": "LearningSessionService startSession 应该在会话已结束时抛出错误",
          "status": "passed",
          "title": "应该在会话已结束时抛出错误",
          "duration": 4.806149000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "endSession"],
          "fullName": "LearningSessionService endSession 应该结束会话并返回统计数据",
          "status": "passed",
          "title": "应该结束会话并返回统计数据",
          "duration": 4.955608999999981,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "updateProgress"],
          "fullName": "LearningSessionService updateProgress 应该更新会话进度",
          "status": "passed",
          "title": "应该更新会话进度",
          "duration": 2.7930249999999432,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "updateProgress"],
          "fullName": "LearningSessionService updateProgress 应该只更新提供的字段",
          "status": "passed",
          "title": "应该只更新提供的字段",
          "duration": 6.071861000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getSessionStats"],
          "fullName": "LearningSessionService getSessionStats 应该返回会话统计数据",
          "status": "passed",
          "title": "应该返回会话统计数据",
          "duration": 3.072900000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getSessionStats"],
          "fullName": "LearningSessionService getSessionStats 应该在会话不存在时抛出错误",
          "status": "passed",
          "title": "应该在会话不存在时抛出错误",
          "duration": 5.559615000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getActiveSession"],
          "fullName": "LearningSessionService getActiveSession 应该返回用户的活跃会话",
          "status": "passed",
          "title": "应该返回用户的活跃会话",
          "duration": 3.088257999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getActiveSession"],
          "fullName": "LearningSessionService getActiveSession 应该在没有活跃会话时返回 null",
          "status": "passed",
          "title": "应该在没有活跃会话时返回 null",
          "duration": 2.119167999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getUserSessions"],
          "fullName": "LearningSessionService getUserSessions 应该返回用户的会话列表",
          "status": "passed",
          "title": "应该返回用户的会话列表",
          "duration": 2.582520000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getUserSessions"],
          "fullName": "LearningSessionService getUserSessions 应该支持分页",
          "status": "passed",
          "title": "应该支持分页",
          "duration": 1.985251000000062,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "getUserSessionCount"],
          "fullName": "LearningSessionService getUserSessionCount 应该返回用户的会话总数",
          "status": "passed",
          "title": "应该返回用户的会话总数",
          "duration": 7.567427000000066,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "detectFlow"],
          "fullName": "LearningSessionService detectFlow 应该触发心流检测钩子",
          "status": "passed",
          "title": "应该触发心流检测钩子",
          "duration": 2.0511769999999387,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "trackEmotion"],
          "fullName": "LearningSessionService trackEmotion 应该触发情绪追踪钩子",
          "status": "passed",
          "title": "应该触发情绪追踪钩子",
          "duration": 10.258827999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "钩子注册"],
          "fullName": "LearningSessionService 钩子注册 应该支持注册心流检测钩子",
          "status": "passed",
          "title": "应该支持注册心流检测钩子",
          "duration": 1.5124949999999444,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningSessionService", "钩子注册"],
          "fullName": "LearningSessionService 钩子注册 应该支持注册情绪追踪钩子",
          "status": "passed",
          "title": "应该支持注册情绪追踪钩子",
          "duration": 5.802391999999941,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905921,
      "endTime": 1765615906097.8025,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/learning-session.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LLMProviderService", "chat"],
          "fullName": "LLMProviderService chat should send chat request and return response",
          "status": "passed",
          "title": "should send chat request and return response",
          "duration": 5.7735510000000545,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "chat"],
          "fullName": "LLMProviderService chat should use custom options",
          "status": "passed",
          "title": "should use custom options",
          "duration": 3.8133149999999887,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "chat"],
          "fullName": "LLMProviderService chat should retry on failure",
          "status": "passed",
          "title": "should retry on failure",
          "duration": 1006.216304,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "chat"],
          "fullName": "LLMProviderService chat should throw after max retries",
          "status": "passed",
          "title": "should throw after max retries",
          "duration": 3014.4458269999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "chat"],
          "fullName": "LLMProviderService chat should handle API error responses",
          "status": "passed",
          "title": "should handle API error responses",
          "duration": 3007.783037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "complete"],
          "fullName": "LLMProviderService complete should complete single prompt",
          "status": "passed",
          "title": "should complete single prompt",
          "duration": 0.5773790000002919,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "completeWithSystem"],
          "fullName": "LLMProviderService completeWithSystem should complete with system prompt",
          "status": "passed",
          "title": "should complete with system prompt",
          "duration": 17.14540399999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "healthCheck"],
          "fullName": "LLMProviderService healthCheck should return ok when service is healthy",
          "status": "passed",
          "title": "should return ok when service is healthy",
          "duration": 0.7338870000003226,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "healthCheck"],
          "fullName": "LLMProviderService healthCheck should return not ok when service fails",
          "status": "passed",
          "title": "should return not ok when service fails",
          "duration": 3012.3233279999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "getConfigSummary"],
          "fullName": "LLMProviderService getConfigSummary should return config summary",
          "status": "passed",
          "title": "should return config summary",
          "duration": 0.6436959999991814,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "OpenAI provider"],
          "fullName": "LLMProviderService OpenAI provider should format request correctly",
          "status": "passed",
          "title": "should format request correctly",
          "duration": 2.1938180000015564,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "Anthropic provider"],
          "fullName": "LLMProviderService Anthropic provider should format Anthropic request correctly",
          "status": "passed",
          "title": "should format Anthropic request correctly",
          "duration": 6.758663000000524,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "Ollama provider"],
          "fullName": "LLMProviderService Ollama provider should format Ollama request correctly",
          "status": "passed",
          "title": "should format Ollama request correctly",
          "duration": 5.658142000000225,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "Custom provider"],
          "fullName": "LLMProviderService Custom provider should use custom base URL",
          "status": "passed",
          "title": "should use custom base URL",
          "duration": 10.968826000000263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "Custom provider"],
          "fullName": "LLMProviderService Custom provider should throw error when base URL is missing",
          "status": "passed",
          "title": "should throw error when base URL is missing",
          "duration": 3019.725839999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "exports"],
          "fullName": "LLMProviderService exports should export LLMProviderService class",
          "status": "passed",
          "title": "should export LLMProviderService class",
          "duration": 1.3461530000004132,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "exports"],
          "fullName": "LLMProviderService exports should export llmProviderService singleton",
          "status": "passed",
          "title": "should export llmProviderService singleton",
          "duration": 2.2399640000003274,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "exports"],
          "fullName": "LLMProviderService exports should export ChatMessage type",
          "status": "passed",
          "title": "should export ChatMessage type",
          "duration": 1.2538329999988491,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "exports"],
          "fullName": "LLMProviderService exports should export ChatOptions type",
          "status": "passed",
          "title": "should export ChatOptions type",
          "duration": 1.0820650000005116,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMProviderService", "exports"],
          "fullName": "LLMProviderService exports should export ChatResponse type",
          "status": "passed",
          "title": "should export ChatResponse type",
          "duration": 0.48920600000019476,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902003,
      "endTime": 1765615915127.4893,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/llm-provider.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "isEnabled"],
          "fullName": "LLMWeeklyAdvisor isEnabled should return true when LLM is enabled",
          "status": "passed",
          "title": "should return true when LLM is enabled",
          "duration": 257.26677799999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "runWeeklyAnalysis"],
          "fullName": "LLMWeeklyAdvisor runWeeklyAnalysis should run complete analysis cycle",
          "status": "passed",
          "title": "should run complete analysis cycle",
          "duration": 2.409367999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "runWeeklyAnalysis"],
          "fullName": "LLMWeeklyAdvisor runWeeklyAnalysis should handle validation warnings",
          "status": "passed",
          "title": "should handle validation warnings",
          "duration": 1.4826219999999921,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "runWeeklyAnalysis"],
          "fullName": "LLMWeeklyAdvisor runWeeklyAnalysis should throw error when LLM fails",
          "status": "passed",
          "title": "should throw error when LLM fails",
          "duration": 11.305064000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getSuggestions"],
          "fullName": "LLMWeeklyAdvisor getSuggestions should return paginated suggestions list",
          "status": "passed",
          "title": "should return paginated suggestions list",
          "duration": 19.51273500000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getSuggestions"],
          "fullName": "LLMWeeklyAdvisor getSuggestions should filter by status",
          "status": "passed",
          "title": "should filter by status",
          "duration": 3.564155000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getSuggestion"],
          "fullName": "LLMWeeklyAdvisor getSuggestion should return suggestion by id",
          "status": "passed",
          "title": "should return suggestion by id",
          "duration": 2.232112000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getSuggestion"],
          "fullName": "LLMWeeklyAdvisor getSuggestion should return null for non-existent suggestion",
          "status": "passed",
          "title": "should return null for non-existent suggestion",
          "duration": 1.0989600000000337,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "approveSuggestion"],
          "fullName": "LLMWeeklyAdvisor approveSuggestion should approve suggestion and apply selected items",
          "status": "passed",
          "title": "should approve suggestion and apply selected items",
          "duration": 7.629703000000063,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "approveSuggestion"],
          "fullName": "LLMWeeklyAdvisor approveSuggestion should mark as rejected when no items selected",
          "status": "passed",
          "title": "should mark as rejected when no items selected",
          "duration": 2.9259660000000167,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "approveSuggestion"],
          "fullName": "LLMWeeklyAdvisor approveSuggestion should mark as partial when some items selected",
          "status": "passed",
          "title": "should mark as partial when some items selected",
          "duration": 1.3098509999999806,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "approveSuggestion"],
          "fullName": "LLMWeeklyAdvisor approveSuggestion should throw error for non-existent suggestion",
          "status": "passed",
          "title": "should throw error for non-existent suggestion",
          "duration": 1.1934039999999868,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "approveSuggestion"],
          "fullName": "LLMWeeklyAdvisor approveSuggestion should throw error for already reviewed suggestion",
          "status": "passed",
          "title": "should throw error for already reviewed suggestion",
          "duration": 1.0960149999999658,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "approveSuggestion"],
          "fullName": "LLMWeeklyAdvisor approveSuggestion should throw error for invalid item ids",
          "status": "passed",
          "title": "should throw error for invalid item ids",
          "duration": 1.1101079999999683,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "rejectSuggestion"],
          "fullName": "LLMWeeklyAdvisor rejectSuggestion should reject pending suggestion",
          "status": "passed",
          "title": "should reject pending suggestion",
          "duration": 2.478450000000066,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "rejectSuggestion"],
          "fullName": "LLMWeeklyAdvisor rejectSuggestion should throw error for non-existent suggestion",
          "status": "passed",
          "title": "should throw error for non-existent suggestion",
          "duration": 2.208311999999978,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "rejectSuggestion"],
          "fullName": "LLMWeeklyAdvisor rejectSuggestion should throw error for already reviewed suggestion",
          "status": "passed",
          "title": "should throw error for already reviewed suggestion",
          "duration": 1.3302659999999378,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getPendingCount"],
          "fullName": "LLMWeeklyAdvisor getPendingCount should return count of pending suggestions",
          "status": "passed",
          "title": "should return count of pending suggestions",
          "duration": 1.302665999999931,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getLatestSuggestion"],
          "fullName": "LLMWeeklyAdvisor getLatestSuggestion should return most recent suggestion",
          "status": "passed",
          "title": "should return most recent suggestion",
          "duration": 2.0240539999999783,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "getLatestSuggestion"],
          "fullName": "LLMWeeklyAdvisor getLatestSuggestion should return null when no suggestions exist",
          "status": "passed",
          "title": "should return null when no suggestions exist",
          "duration": 1.0889739999998937,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "applySuggestionItem - different types"],
          "fullName": "LLMWeeklyAdvisor applySuggestionItem - different types should apply param_bound suggestion with explicit bound type",
          "status": "passed",
          "title": "should apply param_bound suggestion with explicit bound type",
          "duration": 1.3567900000000463,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "applySuggestionItem - different types"],
          "fullName": "LLMWeeklyAdvisor applySuggestionItem - different types should apply reward_weight suggestion",
          "status": "passed",
          "title": "should apply reward_weight suggestion",
          "duration": 1.4451990000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "applySuggestionItem - different types"],
          "fullName": "LLMWeeklyAdvisor applySuggestionItem - different types should apply safety_threshold suggestion",
          "status": "passed",
          "title": "should apply safety_threshold suggestion",
          "duration": 1.3251299999999446,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LLMWeeklyAdvisor", "error handling in apply"],
          "fullName": "LLMWeeklyAdvisor error handling in apply should continue processing other items when one fails",
          "status": "passed",
          "title": "should continue processing other items when one fails",
          "duration": 18.709196999999904,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905015,
      "endTime": 1765615905364.7092,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/llm-weekly-advisor.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LogStorageService", "writeLog"],
          "fullName": "LogStorageService writeLog should add log to buffer",
          "status": "passed",
          "title": "should add log to buffer",
          "duration": 52.78684899999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "writeLog"],
          "fullName": "LogStorageService writeLog should include all optional fields",
          "status": "passed",
          "title": "should include all optional fields",
          "duration": 10.692998999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "writeLog"],
          "fullName": "LogStorageService writeLog should use default values for missing optional fields",
          "status": "passed",
          "title": "should use default values for missing optional fields",
          "duration": 1.6245010000000093,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "flush"],
          "fullName": "LogStorageService flush should write buffered logs to database",
          "status": "passed",
          "title": "should write buffered logs to database",
          "duration": 1.6745300000000043,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "flush"],
          "fullName": "LogStorageService flush should do nothing when buffer is empty",
          "status": "passed",
          "title": "should do nothing when buffer is empty",
          "duration": 4.59560399999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "flush"],
          "fullName": "LogStorageService flush should handle database errors gracefully",
          "status": "passed",
          "title": "should handle database errors gracefully",
          "duration": 2.4491090000000213,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "queryLogs"],
          "fullName": "LogStorageService queryLogs should return paginated logs",
          "status": "passed",
          "title": "should return paginated logs",
          "duration": 2.6936640000000125,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "queryLogs"],
          "fullName": "LogStorageService queryLogs should filter by log levels",
          "status": "passed",
          "title": "should filter by log levels",
          "duration": 5.3943420000000515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "queryLogs"],
          "fullName": "LogStorageService queryLogs should filter by module",
          "status": "passed",
          "title": "should filter by module",
          "duration": 2.0401429999999436,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "queryLogs"],
          "fullName": "LogStorageService queryLogs should filter by time range",
          "status": "passed",
          "title": "should filter by time range",
          "duration": 0.947783999999956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "queryLogs"],
          "fullName": "LogStorageService queryLogs should search in message",
          "status": "passed",
          "title": "should search in message",
          "duration": 1.380045999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "queryLogs"],
          "fullName": "LogStorageService queryLogs should use default pagination",
          "status": "passed",
          "title": "should use default pagination",
          "duration": 1.1143470000000661,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "getLogStats"],
          "fullName": "LogStorageService getLogStats should return log statistics",
          "status": "passed",
          "title": "should return log statistics",
          "duration": 2.2786570000000665,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "getLogStats"],
          "fullName": "LogStorageService getLogStats should filter by time range",
          "status": "passed",
          "title": "should filter by time range",
          "duration": 5.930126000000087,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "getLogStats"],
          "fullName": "LogStorageService getLogStats should filter by source",
          "status": "passed",
          "title": "should filter by source",
          "duration": 1.9756770000000188,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "getModules"],
          "fullName": "LogStorageService getModules should return list of unique modules",
          "status": "passed",
          "title": "should return list of unique modules",
          "duration": 2.098389999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "getModules"],
          "fullName": "LogStorageService getModules should filter out null modules",
          "status": "passed",
          "title": "should filter out null modules",
          "duration": 3.520114999999919,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "getModules"],
          "fullName": "LogStorageService getModules should handle database errors",
          "status": "passed",
          "title": "should handle database errors",
          "duration": 3.273610000000076,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "cleanupOldLogs"],
          "fullName": "LogStorageService cleanupOldLogs should delete logs older than specified days",
          "status": "passed",
          "title": "should delete logs older than specified days",
          "duration": 3.9701410000000124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "cleanupOldLogs"],
          "fullName": "LogStorageService cleanupOldLogs should use default 7 days",
          "status": "passed",
          "title": "should use default 7 days",
          "duration": 3.221614000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "cleanupOldLogs"],
          "fullName": "LogStorageService cleanupOldLogs should handle database errors",
          "status": "passed",
          "title": "should handle database errors",
          "duration": 2.4555469999999104,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LogStorageService", "exports"],
          "fullName": "LogStorageService exports should export logStorageService singleton",
          "status": "passed",
          "title": "should export logStorageService singleton",
          "duration": 0.9258729999999105,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615906696,
      "endTime": 1765615906814.9258,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/log-storage.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MasteryLearningService", "getWordsForMasteryMode"],
          "fullName": "MasteryLearningService getWordsForMasteryMode should return initial batch of words",
          "status": "passed",
          "title": "should return initial batch of words",
          "duration": 166.43585399999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getWordsForMasteryMode"],
          "fullName": "MasteryLearningService getWordsForMasteryMode should respect target count",
          "status": "passed",
          "title": "should respect target count",
          "duration": 3.6028309999999237,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getWordsForMasteryMode"],
          "fullName": "MasteryLearningService getWordsForMasteryMode should use AMAS strategy for word selection",
          "status": "passed",
          "title": "should use AMAS strategy for word selection",
          "duration": 9.707613000000038,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getWordsForMasteryMode"],
          "fullName": "MasteryLearningService getWordsForMasteryMode should fallback to default strategy",
          "status": "passed",
          "title": "should fallback to default strategy",
          "duration": 2.5584870000000137,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getNextWords"],
          "fullName": "MasteryLearningService getNextWords should fetch next batch of words",
          "status": "passed",
          "title": "should fetch next batch of words",
          "duration": 4.790074000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getNextWords"],
          "fullName": "MasteryLearningService getNextWords should exclude current and mastered words",
          "status": "passed",
          "title": "should exclude current and mastered words",
          "duration": 3.171818999999914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "ensureLearningSession"],
          "fullName": "MasteryLearningService ensureLearningSession should create new session",
          "status": "passed",
          "title": "should create new session",
          "duration": 3.2659450000001016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "ensureLearningSession"],
          "fullName": "MasteryLearningService ensureLearningSession should return existing session if matches user",
          "status": "passed",
          "title": "should return existing session if matches user",
          "duration": 2.1752500000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "ensureLearningSession"],
          "fullName": "MasteryLearningService ensureLearningSession should throw for session belonging to another user",
          "status": "passed",
          "title": "should throw for session belonging to another user",
          "duration": 7.1915919999999005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "ensureLearningSession"],
          "fullName": "MasteryLearningService ensureLearningSession should reject invalid target count",
          "status": "passed",
          "title": "should reject invalid target count",
          "duration": 2.8482930000000124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getSessionProgress"],
          "fullName": "MasteryLearningService getSessionProgress should return session progress",
          "status": "passed",
          "title": "should return session progress",
          "duration": 3.8356549999998606,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "getSessionProgress"],
          "fullName": "MasteryLearningService getSessionProgress should throw for non-existent session",
          "status": "passed",
          "title": "should throw for non-existent session",
          "duration": 2.513552000000118,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "syncSessionProgress"],
          "fullName": "MasteryLearningService syncSessionProgress should update session progress",
          "status": "passed",
          "title": "should update session progress",
          "duration": 7.200919999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "adjustWordsForUser"],
          "fullName": "MasteryLearningService adjustWordsForUser should adjust words for fatigue",
          "status": "failed",
          "title": "should adjust words for fatigue",
          "duration": 13.68125299999997,
          "failureMessages": [
            "TypeError: Cannot read properties of undefined (reading 'findMany')\n    at MasteryLearningService.batchComputeDifficulty (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:804:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at MasteryLearningService.adjustWordsForUser (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:656:27)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/mastery-learning.service.test.ts:272:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "adjustWordsForUser"],
          "fullName": "MasteryLearningService adjustWordsForUser should adjust words for struggling",
          "status": "failed",
          "title": "should adjust words for struggling",
          "duration": 8.426793000000089,
          "failureMessages": [
            "TypeError: Cannot read properties of undefined (reading 'findMany')\n    at MasteryLearningService.batchComputeDifficulty (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:804:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at MasteryLearningService.adjustWordsForUser (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:656:27)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/mastery-learning.service.test.ts:288:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "adjustWordsForUser"],
          "fullName": "MasteryLearningService adjustWordsForUser should adjust words for excelling",
          "status": "failed",
          "title": "should adjust words for excelling",
          "duration": 2.84786999999983,
          "failureMessages": [
            "TypeError: Cannot read properties of undefined (reading 'findMany')\n    at MasteryLearningService.batchComputeDifficulty (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:804:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at MasteryLearningService.adjustWordsForUser (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:656:27)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/mastery-learning.service.test.ts:303:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "adjustWordsForUser"],
          "fullName": "MasteryLearningService adjustWordsForUser should calculate next check-in interval",
          "status": "passed",
          "title": "should calculate next check-in interval",
          "duration": 2.414265000000114,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "batchComputeDifficulty"],
          "fullName": "MasteryLearningService batchComputeDifficulty should compute difficulty for words",
          "status": "failed",
          "title": "should compute difficulty for words",
          "duration": 2.9242369999999482,
          "failureMessages": [
            "TypeError: Cannot read properties of undefined (reading 'findMany')\n    at MasteryLearningService.batchComputeDifficulty (/home/liji/danci/danci/packages/backend/src/services/mastery-learning.service.ts:804:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/mastery-learning.service.test.ts:342:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "batchComputeDifficulty"],
          "fullName": "MasteryLearningService batchComputeDifficulty should return empty for empty input",
          "status": "passed",
          "title": "should return empty for empty input",
          "duration": 2.0301919999999427,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MasteryLearningService", "batchComputeDifficulty"],
          "fullName": "MasteryLearningService batchComputeDifficulty should use cached values when available",
          "status": "passed",
          "title": "should use cached values when available",
          "duration": 2.359247000000096,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901008,
      "endTime": 1765615901263.3591,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/mastery-learning.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MetricsService", "recordFeatureVectorSaved"],
          "fullName": "MetricsService recordFeatureVectorSaved should record feature vector save metric",
          "status": "passed",
          "title": "should record feature vector save metric",
          "duration": 101.70016599999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordDifficultyComputationTime"],
          "fullName": "MetricsService recordDifficultyComputationTime should record computation time",
          "status": "passed",
          "title": "should record computation time",
          "duration": 22.093715999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordDifficultyComputationTime"],
          "fullName": "MetricsService recordDifficultyComputationTime should handle zero time",
          "status": "passed",
          "title": "should handle zero time",
          "duration": 19.863122999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordQueueAdjustmentDuration"],
          "fullName": "MetricsService recordQueueAdjustmentDuration should record queue adjustment duration",
          "status": "passed",
          "title": "should record queue adjustment duration",
          "duration": 22.98990600000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordAMASProcessingTime"],
          "fullName": "MetricsService recordAMASProcessingTime should record AMAS processing time",
          "status": "passed",
          "title": "should record AMAS processing time",
          "duration": 22.40866900000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordCacheHit"],
          "fullName": "MetricsService recordCacheHit should record cache hit",
          "status": "passed",
          "title": "should record cache hit",
          "duration": 14.376897999999983,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordCacheMiss"],
          "fullName": "MetricsService recordCacheMiss should record cache miss",
          "status": "passed",
          "title": "should record cache miss",
          "duration": 30.251105000000052,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordDatabaseQueryTime"],
          "fullName": "MetricsService recordDatabaseQueryTime should record database query time",
          "status": "passed",
          "title": "should record database query time",
          "duration": 31.244296000000077,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "recordAPIRequestTime"],
          "fullName": "MetricsService recordAPIRequestTime should record API request time",
          "status": "passed",
          "title": "should record API request time",
          "duration": 21.443044999999984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "incrementCounter"],
          "fullName": "MetricsService incrementCounter should increment counter",
          "status": "passed",
          "title": "should increment counter",
          "duration": 16.394777999999974,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "incrementCounter"],
          "fullName": "MetricsService incrementCounter should increment counter with labels",
          "status": "passed",
          "title": "should increment counter with labels",
          "duration": 15.354378999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "setGauge"],
          "fullName": "MetricsService setGauge should set gauge value",
          "status": "passed",
          "title": "should set gauge value",
          "duration": 11.648543000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "observeHistogram"],
          "fullName": "MetricsService observeHistogram should observe histogram value",
          "status": "passed",
          "title": "should observe histogram value",
          "duration": 9.577086000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "getMetrics"],
          "fullName": "MetricsService getMetrics should return metrics array",
          "status": "passed",
          "title": "should return metrics array",
          "duration": 15.935314000000062,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "getMetricsPrometheus"],
          "fullName": "MetricsService getMetricsPrometheus should return metrics in prometheus format",
          "status": "passed",
          "title": "should return metrics in prometheus format",
          "duration": 11.365899000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "getMetricsJson"],
          "fullName": "MetricsService getMetricsJson should return metrics in JSON format",
          "status": "passed",
          "title": "should return metrics in JSON format",
          "duration": 17.36319900000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsService", "resetMetrics"],
          "fullName": "MetricsService resetMetrics should reset all metrics",
          "status": "passed",
          "title": "should reset all metrics",
          "duration": 14.868669000000068,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615904609,
      "endTime": 1765615905010.8687,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/metrics.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["NotificationService", "sendNotification"],
          "fullName": "NotificationService sendNotification 应该成功创建通知",
          "status": "passed",
          "title": "应该成功创建通知",
          "duration": 208.65565699999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "sendNotification"],
          "fullName": "NotificationService sendNotification 应该使用自定义优先级创建通知",
          "status": "passed",
          "title": "应该使用自定义优先级创建通知",
          "duration": 2.7102690000000393,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "getNotifications"],
          "fullName": "NotificationService getNotifications 应该获取用户的通知列表",
          "status": "passed",
          "title": "应该获取用户的通知列表",
          "duration": 6.931695999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "getNotifications"],
          "fullName": "NotificationService getNotifications 应该支持状态过滤",
          "status": "passed",
          "title": "应该支持状态过滤",
          "duration": 2.451970000000074,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "getNotifications"],
          "fullName": "NotificationService getNotifications 应该支持分页",
          "status": "passed",
          "title": "应该支持分页",
          "duration": 4.958843000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "markAsRead"],
          "fullName": "NotificationService markAsRead 应该标记通知为已读",
          "status": "passed",
          "title": "应该标记通知为已读",
          "duration": 3.947363999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "markAllAsRead"],
          "fullName": "NotificationService markAllAsRead 应该标记所有未读通知为已读",
          "status": "passed",
          "title": "应该标记所有未读通知为已读",
          "duration": 3.076677000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "deleteNotification"],
          "fullName": "NotificationService deleteNotification 应该软删除通知",
          "status": "passed",
          "title": "应该软删除通知",
          "duration": 1.4905600000000732,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "getStats"],
          "fullName": "NotificationService getStats 应该返回通知统计信息",
          "status": "passed",
          "title": "应该返回通知统计信息",
          "duration": 2.0203900000000203,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["NotificationService", "cleanupDeletedNotifications"],
          "fullName": "NotificationService cleanupDeletedNotifications 应该清理旧的已删除通知",
          "status": "passed",
          "title": "应该清理旧的已删除通知",
          "duration": 3.8238169999999627,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615904109,
      "endTime": 1765615904350.8237,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/notification.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled suggestNextParams should return null",
          "status": "passed",
          "title": "suggestNextParams should return null",
          "duration": 34.728515000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled getBestParams should return null",
          "status": "passed",
          "title": "getBestParams should return null",
          "duration": 1.432623000000035,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled getOptimizationHistory should return empty history",
          "status": "passed",
          "title": "getOptimizationHistory should return empty history",
          "duration": 5.370036000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled isEnabled should return false",
          "status": "passed",
          "title": "isEnabled should return false",
          "duration": 1.2140799999999672,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled getParamSpace should return parameter space definition",
          "status": "passed",
          "title": "getParamSpace should return parameter space definition",
          "duration": 1.5375030000000152,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled getDiagnostics should return correct status",
          "status": "passed",
          "title": "getDiagnostics should return correct status",
          "duration": 3.922602999999981,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled recordEvaluation should do nothing when disabled",
          "status": "passed",
          "title": "recordEvaluation should do nothing when disabled",
          "duration": 2.6332499999999754,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled resetOptimizer should do nothing when disabled",
          "status": "passed",
          "title": "resetOptimizer should do nothing when disabled",
          "duration": 0.5276259999999411,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "when optimizer is disabled"],
          "fullName": "OptimizationService when optimizer is disabled runOptimizationCycle should return null suggested and false evaluated",
          "status": "passed",
          "title": "runOptimizationCycle should return null suggested and false evaluated",
          "duration": 0.6121269999999868,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "OptimizationService class definition"],
          "fullName": "OptimizationService OptimizationService class definition should export OptimizationService class",
          "status": "passed",
          "title": "should export OptimizationService class",
          "duration": 0.3803970000000163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "OptimizationService class definition"],
          "fullName": "OptimizationService OptimizationService class definition should export optimizationService singleton",
          "status": "passed",
          "title": "should export optimizationService singleton",
          "duration": 0.32122900000001664,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "parameter space validation"],
          "fullName": "OptimizationService parameter space validation should have valid interval_scale bounds",
          "status": "passed",
          "title": "should have valid interval_scale bounds",
          "duration": 0.5289829999999256,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "parameter space validation"],
          "fullName": "OptimizationService parameter space validation should have valid new_ratio bounds",
          "status": "passed",
          "title": "should have valid new_ratio bounds",
          "duration": 0.6833030000000235,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "parameter space validation"],
          "fullName": "OptimizationService parameter space validation should have valid difficulty bounds",
          "status": "passed",
          "title": "should have valid difficulty bounds",
          "duration": 0.5121029999999109,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "parameter space validation"],
          "fullName": "OptimizationService parameter space validation should have valid hint_level bounds",
          "status": "passed",
          "title": "should have valid hint_level bounds",
          "duration": 0.6528819999999769,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "diagnostics structure"],
          "fullName": "OptimizationService diagnostics structure should return all required diagnostic fields",
          "status": "passed",
          "title": "should return all required diagnostic fields",
          "duration": 1.169952999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OptimizationService", "diagnostics structure"],
          "fullName": "OptimizationService diagnostics structure isOptimizing should be false when no optimization is running",
          "status": "passed",
          "title": "isOptimizing should be false when no optimization is running",
          "duration": 6.877944999999954,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907356,
      "endTime": 1765615907419.878,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/optimization.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should generate plan with default daily target",
          "status": "passed",
          "title": "should generate plan with default daily target",
          "duration": 75.84035000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should use custom daily target",
          "status": "passed",
          "title": "should use custom daily target",
          "duration": 2.9214809999999716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should calculate completion date based on daily target",
          "status": "passed",
          "title": "should calculate completion date based on daily target",
          "duration": 11.966518000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should calculate daily target from target days",
          "status": "passed",
          "title": "should calculate daily target from target days",
          "duration": 6.365081000000032,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should support legacy daysRemaining option",
          "status": "passed",
          "title": "should support legacy daysRemaining option",
          "duration": 2.835811000000035,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should override total words with targetWords option",
          "status": "passed",
          "title": "should override total words with targetWords option",
          "duration": 5.47806700000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should generate weekly milestones",
          "status": "passed",
          "title": "should generate weekly milestones",
          "duration": 5.428282000000081,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should distribute wordbooks by priority",
          "status": "passed",
          "title": "should distribute wordbooks by priority",
          "duration": 2.020730999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "generatePlan"],
          "fullName": "PlanGeneratorService generatePlan should throw for unauthorized wordbook access",
          "status": "passed",
          "title": "should throw for unauthorized wordbook access",
          "duration": 9.569647000000032,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "getCurrentPlan"],
          "fullName": "PlanGeneratorService getCurrentPlan should return current plan",
          "status": "passed",
          "title": "should return current plan",
          "duration": 7.294279999999958,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "getCurrentPlan"],
          "fullName": "PlanGeneratorService getCurrentPlan should return null for no plan",
          "status": "passed",
          "title": "should return null for no plan",
          "duration": 1.6768169999999145,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "getPlan"],
          "fullName": "PlanGeneratorService getPlan should find plan by userId",
          "status": "passed",
          "title": "should find plan by userId",
          "duration": 1.3888279999999895,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "getPlan"],
          "fullName": "PlanGeneratorService getPlan should find plan by planId",
          "status": "passed",
          "title": "should find plan by planId",
          "duration": 1.882618999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "updatePlanProgress"],
          "fullName": "PlanGeneratorService updatePlanProgress should calculate progress metrics",
          "status": "passed",
          "title": "should calculate progress metrics",
          "duration": 5.98700000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "updatePlanProgress"],
          "fullName": "PlanGeneratorService updatePlanProgress should return default progress when no plan exists",
          "status": "passed",
          "title": "should return default progress when no plan exists",
          "duration": 1.7949000000000979,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "updatePlanProgress"],
          "fullName": "PlanGeneratorService updatePlanProgress should detect off-track progress",
          "status": "passed",
          "title": "should detect off-track progress",
          "duration": 6.8987769999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "adjustPlan"],
          "fullName": "PlanGeneratorService adjustPlan should adjust daily target based on progress",
          "status": "passed",
          "title": "should adjust daily target based on progress",
          "duration": 3.76224000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "adjustPlan"],
          "fullName": "PlanGeneratorService adjustPlan should generate new plan if none exists",
          "status": "passed",
          "title": "should generate new plan if none exists",
          "duration": 1.9571910000000798,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "adjustPlan"],
          "fullName": "PlanGeneratorService adjustPlan should limit adjustment to 50% of original target",
          "status": "passed",
          "title": "should limit adjustment to 50% of original target",
          "duration": 6.415840000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "wordbookDistribution calculation"],
          "fullName": "PlanGeneratorService wordbookDistribution calculation should ensure percentages sum to 100",
          "status": "passed",
          "title": "should ensure percentages sum to 100",
          "duration": 1.8298190000000432,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "wordbookDistribution calculation"],
          "fullName": "PlanGeneratorService wordbookDistribution calculation should handle single wordbook",
          "status": "passed",
          "title": "should handle single wordbook",
          "duration": 1.7693590000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PlanGeneratorService", "wordbookDistribution calculation"],
          "fullName": "PlanGeneratorService wordbookDistribution calculation should handle empty wordbook list",
          "status": "passed",
          "title": "should handle empty wordbook list",
          "duration": 2.3084579999999733,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615906639,
      "endTime": 1765615906808.3083,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/plan-generator.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["PreferenceService", "getPreferences"],
          "fullName": "PreferenceService getPreferences 应该返回用户现有的偏好设置",
          "status": "passed",
          "title": "应该返回用户现有的偏好设置",
          "duration": 61.415344000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "getPreferences"],
          "fullName": "PreferenceService getPreferences 应该为新用户创建默认偏好设置",
          "status": "passed",
          "title": "应该为新用户创建默认偏好设置",
          "duration": 5.7655019999999695,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "getGroupedPreferences"],
          "fullName": "PreferenceService getGroupedPreferences 应该返回分组的偏好设置",
          "status": "passed",
          "title": "应该返回分组的偏好设置",
          "duration": 4.427655999999956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "updatePreferences"],
          "fullName": "PreferenceService updatePreferences 应该更新学习偏好",
          "status": "passed",
          "title": "应该更新学习偏好",
          "duration": 3.3801879999999755,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "updatePreferences"],
          "fullName": "PreferenceService updatePreferences 应该更新通知偏好",
          "status": "passed",
          "title": "应该更新通知偏好",
          "duration": 1.5751520000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "updatePreferences"],
          "fullName": "PreferenceService updatePreferences 应该更新界面偏好",
          "status": "passed",
          "title": "应该更新界面偏好",
          "duration": 2.1003990000000385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "updatePreferences"],
          "fullName": "PreferenceService updatePreferences 应该过滤undefined值",
          "status": "passed",
          "title": "应该过滤undefined值",
          "duration": 5.34245199999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "getLearningPreferences"],
          "fullName": "PreferenceService getLearningPreferences 应该返回学习偏好设置",
          "status": "passed",
          "title": "应该返回学习偏好设置",
          "duration": 1.432121000000052,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "getNotificationPreferences"],
          "fullName": "PreferenceService getNotificationPreferences 应该返回通知偏好设置",
          "status": "passed",
          "title": "应该返回通知偏好设置",
          "duration": 1.290444999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "getUIPreferences"],
          "fullName": "PreferenceService getUIPreferences 应该返回界面偏好设置",
          "status": "passed",
          "title": "应该返回界面偏好设置",
          "duration": 8.723622000000091,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "resetPreferences"],
          "fullName": "PreferenceService resetPreferences 应该重置偏好设置为默认值",
          "status": "passed",
          "title": "应该重置偏好设置为默认值",
          "duration": 2.027727000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "isInQuietHours"],
          "fullName": "PreferenceService isInQuietHours 应该正确判断是否在免打扰时间（跨天情况）",
          "status": "passed",
          "title": "应该正确判断是否在免打扰时间（跨天情况）",
          "duration": 5.854636000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "isInQuietHours"],
          "fullName": "PreferenceService isInQuietHours 应该正确判断是否在免打扰时间（非跨天情况）",
          "status": "passed",
          "title": "应该正确判断是否在免打扰时间（非跨天情况）",
          "duration": 8.606263000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "isInQuietHours"],
          "fullName": "PreferenceService isInQuietHours 应该在免打扰时间外返回false",
          "status": "passed",
          "title": "应该在免打扰时间外返回false",
          "duration": 2.0660329999999476,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["PreferenceService", "isInQuietHours"],
          "fullName": "PreferenceService isInQuietHours 应该在未设置免打扰时间时返回false",
          "status": "passed",
          "title": "应该在未设置免打扰时间时返回false",
          "duration": 1.6918600000000197,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907135,
      "endTime": 1765615907255.692,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/preference.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["RealAboutService", "getOverviewStats"],
          "fullName": "RealAboutService getOverviewStats should return overview statistics",
          "status": "passed",
          "title": "should return overview statistics",
          "duration": 137.50106500000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getOverviewStats"],
          "fullName": "RealAboutService getOverviewStats should return cached stats on second call",
          "status": "passed",
          "title": "should return cached stats on second call",
          "duration": 29.683462000000077,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getOverviewStats"],
          "fullName": "RealAboutService getOverviewStats should return default stats on error",
          "status": "passed",
          "title": "should return default stats on error",
          "duration": 21.510755000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getAlgorithmDistribution"],
          "fullName": "RealAboutService getAlgorithmDistribution should return algorithm distribution",
          "status": "passed",
          "title": "should return algorithm distribution",
          "duration": 12.672575999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getAlgorithmDistribution"],
          "fullName": "RealAboutService getAlgorithmDistribution should return default distribution when insufficient data",
          "status": "passed",
          "title": "should return default distribution when insufficient data",
          "duration": 15.631987999999978,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getStateDistribution"],
          "fullName": "RealAboutService getStateDistribution should return state distribution",
          "status": "passed",
          "title": "should return state distribution",
          "duration": 2.9924200000000383,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getStateDistribution"],
          "fullName": "RealAboutService getStateDistribution should return default distribution when insufficient data",
          "status": "passed",
          "title": "should return default distribution when insufficient data",
          "duration": 2.2699589999999716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getRecentDecisions"],
          "fullName": "RealAboutService getRecentDecisions should return anonymized recent decisions",
          "status": "passed",
          "title": "should return anonymized recent decisions",
          "duration": 8.66180600000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getRecentDecisions"],
          "fullName": "RealAboutService getRecentDecisions should return cached decisions",
          "status": "passed",
          "title": "should return cached decisions",
          "duration": 3.2337250000000495,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getPipelineSnapshot"],
          "fullName": "RealAboutService getPipelineSnapshot should return pipeline snapshot",
          "status": "passed",
          "title": "should return pipeline snapshot",
          "duration": 5.955286999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getPacketTrace"],
          "fullName": "RealAboutService getPacketTrace should return packet trace for existing decision",
          "status": "passed",
          "title": "should return packet trace for existing decision",
          "duration": 6.548575000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getPacketTrace"],
          "fullName": "RealAboutService getPacketTrace should return default trace for non-existent decision",
          "status": "passed",
          "title": "should return default trace for non-existent decision",
          "duration": 11.438004999999976,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getDecisionDetail"],
          "fullName": "RealAboutService getDecisionDetail should return null for empty decisionId",
          "status": "passed",
          "title": "should return null for empty decisionId",
          "duration": 2.4874399999999923,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getDecisionDetail"],
          "fullName": "RealAboutService getDecisionDetail should return null for non-existent decision",
          "status": "passed",
          "title": "should return null for non-existent decision",
          "duration": 1.9754410000000462,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "getDecisionDetail"],
          "fullName": "RealAboutService getDecisionDetail should return decision detail with pipeline stages",
          "status": "passed",
          "title": "should return decision detail with pipeline stages",
          "duration": 11.649425999999949,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RealAboutService", "cleanup"],
          "fullName": "RealAboutService cleanup should clear cleanup timer",
          "status": "passed",
          "title": "should clear cleanup timer",
          "duration": 4.254038000000037,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905040,
      "endTime": 1765615905319.2542,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/real-about.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["RecordService", "getRecordsByUserId"],
          "fullName": "RecordService getRecordsByUserId should return paginated records",
          "status": "passed",
          "title": "should return paginated records",
          "duration": 1.930052000000046,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "getRecordsByUserId"],
          "fullName": "RecordService getRecordsByUserId should use default pagination when not provided",
          "status": "passed",
          "title": "should use default pagination when not provided",
          "duration": 1.719381999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "getRecordsByUserId"],
          "fullName": "RecordService getRecordsByUserId should cap page size at 100",
          "status": "passed",
          "title": "should cap page size at 100",
          "duration": 0.44719499999996515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "getRecordsByUserId"],
          "fullName": "RecordService getRecordsByUserId should handle page number less than 1",
          "status": "passed",
          "title": "should handle page number less than 1",
          "duration": 0.5728219999999737,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "createRecord"],
          "fullName": "RecordService createRecord should create a new answer record",
          "status": "passed",
          "title": "should create a new answer record",
          "duration": 4.563266999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "createRecord"],
          "fullName": "RecordService createRecord should throw error for non-existent word",
          "status": "passed",
          "title": "should throw error for non-existent word",
          "duration": 1.5377340000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "createRecord"],
          "fullName": "RecordService createRecord should throw error for word from other users private wordbook",
          "status": "passed",
          "title": "should throw error for word from other users private wordbook",
          "duration": 0.8968800000000101,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "createRecord"],
          "fullName": "RecordService createRecord should reject timestamps too far in the future",
          "status": "passed",
          "title": "should reject timestamps too far in the future",
          "duration": 0.5057849999999462,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "createRecord"],
          "fullName": "RecordService createRecord should reject timestamps too far in the past",
          "status": "passed",
          "title": "should reject timestamps too far in the past",
          "duration": 0.4844190000000026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "batchCreateRecords"],
          "fullName": "RecordService batchCreateRecords should create multiple records",
          "status": "passed",
          "title": "should create multiple records",
          "duration": 1.409108999999944,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "batchCreateRecords"],
          "fullName": "RecordService batchCreateRecords should reject batch larger than MAX_BATCH_SIZE",
          "status": "passed",
          "title": "should reject batch larger than MAX_BATCH_SIZE",
          "duration": 0.7260550000000876,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "batchCreateRecords"],
          "fullName": "RecordService batchCreateRecords should throw error when all words are inaccessible",
          "status": "passed",
          "title": "should throw error when all words are inaccessible",
          "duration": 0.38575299999990875,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "getStatistics"],
          "fullName": "RecordService getStatistics should return user learning statistics",
          "status": "passed",
          "title": "should return user learning statistics",
          "duration": 2.09867399999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "getStatistics"],
          "fullName": "RecordService getStatistics should handle user with no records",
          "status": "passed",
          "title": "should handle user with no records",
          "duration": 0.7063369999999622,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "exports"],
          "fullName": "RecordService exports should export RecordService class",
          "status": "passed",
          "title": "should export RecordService class",
          "duration": 0.4076270000000477,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RecordService", "exports"],
          "fullName": "RecordService exports should export default singleton",
          "status": "passed",
          "title": "should export default singleton",
          "duration": 0.26399800000001505,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615914486,
      "endTime": 1765615914506.264,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/record.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["RedisCacheService", "get"],
          "fullName": "RedisCacheService get should return null for non-existent key",
          "status": "passed",
          "title": "should return null for non-existent key",
          "duration": 29.015277999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "get"],
          "fullName": "RedisCacheService get should return parsed JSON value",
          "status": "passed",
          "title": "should return parsed JSON value",
          "duration": 4.512206999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "get"],
          "fullName": "RedisCacheService get should handle JSON parse errors gracefully",
          "status": "passed",
          "title": "should handle JSON parse errors gracefully",
          "duration": 4.415037999999981,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "set"],
          "fullName": "RedisCacheService set should set value with default TTL",
          "status": "passed",
          "title": "should set value with default TTL",
          "duration": 6.315690000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "set"],
          "fullName": "RedisCacheService set should set value with custom TTL",
          "status": "passed",
          "title": "should set value with custom TTL",
          "duration": 8.438684999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "set"],
          "fullName": "RedisCacheService set should return true on success",
          "status": "passed",
          "title": "should return true on success",
          "duration": 2.0824350000000322,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "set"],
          "fullName": "RedisCacheService set should return false on error",
          "status": "passed",
          "title": "should return false on error",
          "duration": 2.0754180000000133,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "del"],
          "fullName": "RedisCacheService del should delete key",
          "status": "passed",
          "title": "should delete key",
          "duration": 3.602209000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "del"],
          "fullName": "RedisCacheService del should return false on error",
          "status": "passed",
          "title": "should return false on error",
          "duration": 5.439521000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "delByPrefix"],
          "fullName": "RedisCacheService delByPrefix should delete keys matching prefix using SCAN",
          "status": "passed",
          "title": "should delete keys matching prefix using SCAN",
          "duration": 3.904946999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "delByPrefix"],
          "fullName": "RedisCacheService delByPrefix should return 0 when no matching keys",
          "status": "passed",
          "title": "should return 0 when no matching keys",
          "duration": 2.610019999999963,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "user state operations"],
          "fullName": "RedisCacheService user state operations should get user state",
          "status": "passed",
          "title": "should get user state",
          "duration": 2.033298000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "user state operations"],
          "fullName": "RedisCacheService user state operations should set user state",
          "status": "passed",
          "title": "should set user state",
          "duration": 1.9501760000000559,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "user state operations"],
          "fullName": "RedisCacheService user state operations should delete user state",
          "status": "passed",
          "title": "should delete user state",
          "duration": 1.723971000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "user model operations"],
          "fullName": "RedisCacheService user model operations should get user model",
          "status": "passed",
          "title": "should get user model",
          "duration": 1.9982680000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "user model operations"],
          "fullName": "RedisCacheService user model operations should set user model",
          "status": "passed",
          "title": "should set user model",
          "duration": 5.4423269999999775,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "word state operations"],
          "fullName": "RedisCacheService word state operations should get word state",
          "status": "passed",
          "title": "should get word state",
          "duration": 1.8161039999999957,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "word state operations"],
          "fullName": "RedisCacheService word state operations should set word state",
          "status": "passed",
          "title": "should set word state",
          "duration": 1.6872419999999693,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "enable/disable"],
          "fullName": "RedisCacheService enable/disable should return null when disabled",
          "status": "passed",
          "title": "should return null when disabled",
          "duration": 2.223006000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "enable/disable"],
          "fullName": "RedisCacheService enable/disable should work after re-enabling",
          "status": "passed",
          "title": "should work after re-enabling",
          "duration": 14.020442000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "exports"],
          "fullName": "RedisCacheService exports should export redisCacheService singleton",
          "status": "passed",
          "title": "should export redisCacheService singleton",
          "duration": 1.6463340000000244,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "exports"],
          "fullName": "RedisCacheService exports should export REDIS_CACHE_KEYS",
          "status": "passed",
          "title": "should export REDIS_CACHE_KEYS",
          "duration": 1.2865219999999908,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSet - 缓存穿透防护"],
          "fullName": "RedisCacheService getOrSet - 缓存穿透防护 should return cached value when exists",
          "status": "passed",
          "title": "should return cached value when exists",
          "duration": 1.5288069999999152,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSet - 缓存穿透防护"],
          "fullName": "RedisCacheService getOrSet - 缓存穿透防护 should call fetcher and cache result when cache miss",
          "status": "passed",
          "title": "should call fetcher and cache result when cache miss",
          "duration": 1.425803999999971,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSet - 缓存穿透防护"],
          "fullName": "RedisCacheService getOrSet - 缓存穿透防护 should cache null marker when fetcher returns null (防穿透)",
          "status": "passed",
          "title": "should cache null marker when fetcher returns null (防穿透)",
          "duration": 2.913601999999969,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSet - 缓存穿透防护"],
          "fullName": "RedisCacheService getOrSet - 缓存穿透防护 should return null immediately when null marker is cached (防穿透命中)",
          "status": "passed",
          "title": "should return null immediately when null marker is cached (防穿透命中)",
          "duration": 1.1655749999999898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSet - 缓存穿透防护"],
          "fullName": "RedisCacheService getOrSet - 缓存穿透防护 should fallback to fetcher when service is disabled",
          "status": "passed",
          "title": "should fallback to fetcher when service is disabled",
          "duration": 1.2131060000000389,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSet - 缓存穿透防护"],
          "fullName": "RedisCacheService getOrSet - 缓存穿透防护 should fallback to fetcher on error",
          "status": "passed",
          "title": "should fallback to fetcher on error",
          "duration": 1.738397999999961,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSetWithLock - 缓存击穿防护"],
          "fullName": "RedisCacheService getOrSetWithLock - 缓存击穿防护 should return cached value without acquiring lock",
          "status": "passed",
          "title": "should return cached value without acquiring lock",
          "duration": 2.1604209999999284,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSetWithLock - 缓存击穿防护"],
          "fullName": "RedisCacheService getOrSetWithLock - 缓存击穿防护 should acquire lock and fetch data on cache miss",
          "status": "passed",
          "title": "should acquire lock and fetch data on cache miss",
          "duration": 9.703029000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSetWithLock - 缓存击穿防护"],
          "fullName": "RedisCacheService getOrSetWithLock - 缓存击穿防护 should use double-check after acquiring lock",
          "status": "passed",
          "title": "should use double-check after acquiring lock",
          "duration": 1.9699309999999741,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSetWithLock - 缓存击穿防护"],
          "fullName": "RedisCacheService getOrSetWithLock - 缓存击穿防护 should retry when lock acquisition fails",
          "status": "passed",
          "title": "should retry when lock acquisition fails",
          "duration": 102.54673300000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSetWithLock - 缓存击穿防护"],
          "fullName": "RedisCacheService getOrSetWithLock - 缓存击穿防护 should release lock even when fetcher throws",
          "status": "passed",
          "title": "should release lock even when fetcher throws",
          "duration": 4.426743999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "getOrSetWithLock - 缓存击穿防护"],
          "fullName": "RedisCacheService getOrSetWithLock - 缓存击穿防护 should fallback to fetcher when service is disabled",
          "status": "passed",
          "title": "should fallback to fetcher when service is disabled",
          "duration": 1.8350599999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "setWithJitter - 缓存雪崩防护"],
          "fullName": "RedisCacheService setWithJitter - 缓存雪崩防护 should set value with TTL jitter",
          "status": "passed",
          "title": "should set value with TTL jitter",
          "duration": 1.8185869999999795,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "setWithJitter - 缓存雪崩防护"],
          "fullName": "RedisCacheService setWithJitter - 缓存雪崩防护 should use default jitter percent of 10%",
          "status": "passed",
          "title": "should use default jitter percent of 10%",
          "duration": 1.9275680000000648,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "setWithJitter - 缓存雪崩防护"],
          "fullName": "RedisCacheService setWithJitter - 缓存雪崩防护 should ensure TTL is at least 1",
          "status": "passed",
          "title": "should ensure TTL is at least 1",
          "duration": 9.47331399999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "setWithJitter - 缓存雪崩防护"],
          "fullName": "RedisCacheService setWithJitter - 缓存雪崩防护 should return boolean indicating success",
          "status": "passed",
          "title": "should return boolean indicating success",
          "duration": 1.312767000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RedisCacheService", "setWithJitter - 缓存雪崩防护"],
          "fullName": "RedisCacheService setWithJitter - 缓存雪崩防护 should return false on error",
          "status": "passed",
          "title": "should return false on error",
          "duration": 1.6299400000000333,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615903972,
      "endTime": 1765615904235.63,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/redis-cache.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["StateHistoryService", "recordState"],
          "fullName": "StateHistoryService recordState should record state",
          "status": "passed",
          "title": "should record state",
          "duration": 18.74573200000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "recordState"],
          "fullName": "StateHistoryService recordState should include timestamp",
          "status": "passed",
          "title": "should include timestamp",
          "duration": 10.590685000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "getHistory"],
          "fullName": "StateHistoryService getHistory should return state history for user",
          "status": "passed",
          "title": "should return state history for user",
          "duration": 1.668284999999969,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "getHistory"],
          "fullName": "StateHistoryService getHistory should accept days parameter",
          "status": "passed",
          "title": "should accept days parameter",
          "duration": 1.1155189999999493,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "getLatestState"],
          "fullName": "StateHistoryService getLatestState should return latest state for user",
          "status": "passed",
          "title": "should return latest state for user",
          "duration": 1.1947170000000824,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "getLatestState"],
          "fullName": "StateHistoryService getLatestState should return null if no state exists",
          "status": "passed",
          "title": "should return null if no state exists",
          "duration": 1.6898360000000139,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "saveStateSnapshot"],
          "fullName": "StateHistoryService saveStateSnapshot should save state snapshot",
          "status": "passed",
          "title": "should save state snapshot",
          "duration": 2.620207999999934,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "getStateHistory"],
          "fullName": "StateHistoryService getStateHistory should return state history with date range",
          "status": "passed",
          "title": "should return state history with date range",
          "duration": 0.625026000000048,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "getCognitiveGrowth"],
          "fullName": "StateHistoryService getCognitiveGrowth should return cognitive growth data",
          "status": "passed",
          "title": "should return cognitive growth data",
          "duration": 0.9572670000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "deleteUserHistory"],
          "fullName": "StateHistoryService deleteUserHistory should delete user history",
          "status": "passed",
          "title": "should delete user history",
          "duration": 2.5108900000000176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StateHistoryService", "exports"],
          "fullName": "StateHistoryService exports should export stateHistoryService singleton",
          "status": "passed",
          "title": "should export stateHistoryService singleton",
          "duration": 0.36897700000008626,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913861,
      "endTime": 1765615913905.369,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/state-history.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["StudyConfigService", "getUserStudyConfig"],
          "fullName": "StudyConfigService getUserStudyConfig should return user config if exists",
          "status": "passed",
          "title": "should return user config if exists",
          "duration": 3.911905000000047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StudyConfigService", "getUserStudyConfig"],
          "fullName": "StudyConfigService getUserStudyConfig should create default config for new user",
          "status": "passed",
          "title": "should create default config for new user",
          "duration": 1.2439469999999346,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StudyConfigService", "updateStudyConfig"],
          "fullName": "StudyConfigService updateStudyConfig should update config with valid wordbooks",
          "status": "passed",
          "title": "should update config with valid wordbooks",
          "duration": 2.233885999999984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StudyConfigService", "getTodayWords"],
          "fullName": "StudyConfigService getTodayWords should return words for today study",
          "status": "passed",
          "title": "should return words for today study",
          "duration": 1.175198000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StudyConfigService", "getStudyProgress"],
          "fullName": "StudyConfigService getStudyProgress should return study progress",
          "status": "passed",
          "title": "should return study progress",
          "duration": 0.4409849999999551,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["StudyConfigService", "exports"],
          "fullName": "StudyConfigService exports should export StudyConfigService class",
          "status": "passed",
          "title": "should export StudyConfigService class",
          "duration": 0.21874000000002525,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615914343,
      "endTime": 1765615914355.2188,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/study-config.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["TimeRecommendService", "getTimePreferences"],
          "fullName": "TimeRecommendService getTimePreferences should return insufficient data result when session count is low",
          "status": "passed",
          "title": "should return insufficient data result when session count is low",
          "duration": 27.05786999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TimeRecommendService", "getTimePreferences"],
          "fullName": "TimeRecommendService getTimePreferences should return time preferences when sufficient data exists",
          "status": "passed",
          "title": "should return time preferences when sufficient data exists",
          "duration": 2.2519660000000385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TimeRecommendService", "getTimePreferences"],
          "fullName": "TimeRecommendService getTimePreferences should calculate time preferences from records when no habit profile",
          "status": "passed",
          "title": "should calculate time preferences from records when no habit profile",
          "duration": 0.8348129999999401,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TimeRecommendService", "isGoldenTime"],
          "fullName": "TimeRecommendService isGoldenTime should return golden time result",
          "status": "passed",
          "title": "should return golden time result",
          "duration": 1.4678569999999809,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TimeRecommendService", "isGoldenTime"],
          "fullName": "TimeRecommendService isGoldenTime should return non-golden time for new users with insufficient data",
          "status": "passed",
          "title": "should return non-golden time for new users with insufficient data",
          "duration": 6.841309000000024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TimeRecommendService", "service exports"],
          "fullName": "TimeRecommendService service exports should export timeRecommendService singleton",
          "status": "passed",
          "title": "should export timeRecommendService singleton",
          "duration": 0.8713410000000295,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TimeRecommendService", "type definitions"],
          "fullName": "TimeRecommendService type definitions should have TimeSlot interface with required properties",
          "status": "passed",
          "title": "should have TimeSlot interface with required properties",
          "duration": 0.9155960000000505,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909239,
      "endTime": 1765615909283.9155,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/time-recommend.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["TrackingService", "processBatch"],
          "fullName": "TrackingService processBatch should process batch of events and update stats",
          "status": "failed",
          "title": "should process batch of events and update stats",
          "duration": 10.739467999999988,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called with arguments: [ ObjectContaining{…} ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:63:50\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "processBatch"],
          "fullName": "TrackingService processBatch should store events in database",
          "status": "failed",
          "title": "should store events in database",
          "duration": 4.58366099999995,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called with arguments: [ ObjectContaining{…} ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:100:51\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "processBatch"],
          "fullName": "TrackingService processBatch should handle empty event batch",
          "status": "failed",
          "title": "should handle empty event batch",
          "duration": 1.1509810000000016,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called with arguments: [ ObjectContaining{…} ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:131:50\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "processBatch"],
          "fullName": "TrackingService processBatch should handle database errors gracefully for stats update",
          "status": "failed",
          "title": "should handle database errors gracefully for stats update",
          "duration": 0.7885739999999828,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called at least once\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1400:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:156:51\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "processBatch"],
          "fullName": "TrackingService processBatch should handle database errors gracefully for event storage",
          "status": "failed",
          "title": "should handle database errors gracefully for event storage",
          "duration": 0.7875829999999837,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called at least once\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1400:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:172:50\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "getUserInteractionStats"],
          "fullName": "TrackingService getUserInteractionStats should return user interaction stats",
          "status": "failed",
          "title": "should return user interaction stats",
          "duration": 8.210280000000012,
          "failureMessages": [
            "AssertionError: expected { pronunciationClicks: 2, …(5) } to deeply equal { pronunciationClicks: 50, …(5) }\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:190:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "getUserInteractionStats"],
          "fullName": "TrackingService getUserInteractionStats should return null for user with no stats",
          "status": "passed",
          "title": "should return null for user with no stats",
          "duration": 0.5416890000000194,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "getUserInteractionStats"],
          "fullName": "TrackingService getUserInteractionStats should handle database errors gracefully",
          "status": "failed",
          "title": "should handle database errors gracefully",
          "duration": 1.091466999999966,
          "failureMessages": [
            "AssertionError: expected { pronunciationClicks: +0, …(5) } to be null\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:213:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "calculateAuditoryPreference"],
          "fullName": "TrackingService calculateAuditoryPreference should return high preference for frequent pronunciation clicks",
          "status": "failed",
          "title": "should return high preference for frequent pronunciation clicks",
          "duration": 1.5154610000000162,
          "failureMessages": [
            "AssertionError: expected 0.5 to be 1 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:230:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "calculateAuditoryPreference"],
          "fullName": "TrackingService calculateAuditoryPreference should return low preference for rare pronunciation clicks",
          "status": "failed",
          "title": "should return low preference for rare pronunciation clicks",
          "duration": 1.3996820000000412,
          "failureMessages": [
            "AssertionError: expected 0.5 to be close to 0.083, received difference is 0.417, but expected 0.005\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:245:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "calculateAuditoryPreference"],
          "fullName": "TrackingService calculateAuditoryPreference should return default 0.5 for user with no stats",
          "status": "passed",
          "title": "should return default 0.5 for user with no stats",
          "duration": 0.4072479999999814,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "calculateAuditoryPreference"],
          "fullName": "TrackingService calculateAuditoryPreference should return default 0.5 for user with zero interactions",
          "status": "passed",
          "title": "should return default 0.5 for user with zero interactions",
          "duration": 0.2495209999999588,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "calculateAuditoryPreference"],
          "fullName": "TrackingService calculateAuditoryPreference should handle errors gracefully",
          "status": "failed",
          "title": "should handle errors gracefully",
          "duration": 0.4764669999999569,
          "failureMessages": [
            "AssertionError: expected +0 to be 0.5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:275:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "getRecentEvents"],
          "fullName": "TrackingService getRecentEvents should return recent tracking events",
          "status": "failed",
          "title": "should return recent tracking events",
          "duration": 1.1993850000000066,
          "failureMessages": [
            "AssertionError: expected [ { …(4) }, { …(4) }, { …(4) }, …(2) ] to have a length of 2 but got 5\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1322:20)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:304:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "getRecentEvents"],
          "fullName": "TrackingService getRecentEvents should use default limit of 100",
          "status": "failed",
          "title": "should use default limit of 100",
          "duration": 0.580018999999993,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called with arguments: [ ObjectContaining {\"take\": 100} ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:316:49\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "getRecentEvents"],
          "fullName": "TrackingService getRecentEvents should return empty array on error",
          "status": "failed",
          "title": "should return empty array on error",
          "duration": 1.4716040000000703,
          "failureMessages": [
            "AssertionError: expected [ { type: 'interaction', …(3) } ] to deeply equal []\n    at /home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts:328:22\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "exports"],
          "fullName": "TrackingService exports should export trackingService singleton",
          "status": "passed",
          "title": "should export trackingService singleton",
          "duration": 1.2915699999999788,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "exports"],
          "fullName": "TrackingService exports should export default",
          "status": "passed",
          "title": "should export default",
          "duration": 0.7964869999999564,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrackingService", "exports"],
          "fullName": "TrackingService exports should export TrackingEventType type",
          "status": "passed",
          "title": "should export TrackingEventType type",
          "duration": 0.7372889999999188,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901620,
      "endTime": 1765615901658.7964,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/tracking.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["TrendAnalysisService", "analyzeTrend"],
          "fullName": "TrendAnalysisService analyzeTrend should analyze user learning trend",
          "status": "passed",
          "title": "should analyze user learning trend",
          "duration": 41.52160600000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalysisService", "getCurrentTrend"],
          "fullName": "TrendAnalysisService getCurrentTrend should return current trend state",
          "status": "passed",
          "title": "should return current trend state",
          "duration": 1.208752000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalysisService", "getTrendHistory"],
          "fullName": "TrendAnalysisService getTrendHistory should return trend history",
          "status": "passed",
          "title": "should return trend history",
          "duration": 1.8491109999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalysisService", "generateTrendReport"],
          "fullName": "TrendAnalysisService generateTrendReport should generate trend report",
          "status": "passed",
          "title": "should generate trend report",
          "duration": 1.2417829999999412,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalysisService", "checkIntervention"],
          "fullName": "TrendAnalysisService checkIntervention should check if intervention is needed",
          "status": "passed",
          "title": "should check if intervention is needed",
          "duration": 1.0020969999999352,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalysisService", "getProgressReport"],
          "fullName": "TrendAnalysisService getProgressReport should return progress report",
          "status": "passed",
          "title": "should return progress report",
          "duration": 2.591965000000073,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalysisService", "exports"],
          "fullName": "TrendAnalysisService exports should export trendAnalysisService singleton",
          "status": "passed",
          "title": "should export trendAnalysisService singleton",
          "duration": 0.5260779999999841,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910274,
      "endTime": 1765615910329.5261,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/trend-analysis.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["WordContextService", "addContext"],
          "fullName": "WordContextService addContext 应该成功添加语境",
          "status": "passed",
          "title": "应该成功添加语境",
          "duration": 91.26154200000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "addContext"],
          "fullName": "WordContextService addContext 应该在单词不存在时抛出错误",
          "status": "passed",
          "title": "应该在单词不存在时抛出错误",
          "duration": 7.854155999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "addContext"],
          "fullName": "WordContextService addContext 应该支持添加元数据",
          "status": "passed",
          "title": "应该支持添加元数据",
          "duration": 2.3694110000000137,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "addContexts"],
          "fullName": "WordContextService addContexts 应该批量添加语境",
          "status": "passed",
          "title": "应该批量添加语境",
          "duration": 8.725593000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getContexts"],
          "fullName": "WordContextService getContexts 应该获取单词的语境列表",
          "status": "passed",
          "title": "应该获取单词的语境列表",
          "duration": 2.5099099999999908,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getContexts"],
          "fullName": "WordContextService getContexts 应该支持按类型过滤",
          "status": "passed",
          "title": "应该支持按类型过滤",
          "duration": 7.7066899999999805,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getContexts"],
          "fullName": "WordContextService getContexts 应该支持分页",
          "status": "passed",
          "title": "应该支持分页",
          "duration": 2.4106819999999516,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getRandomContext"],
          "fullName": "WordContextService getRandomContext 应该返回随机语境",
          "status": "passed",
          "title": "应该返回随机语境",
          "duration": 4.387172000000078,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getRandomContext"],
          "fullName": "WordContextService getRandomContext 应该在没有语境时返回 null",
          "status": "passed",
          "title": "应该在没有语境时返回 null",
          "duration": 3.332614999999919,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "updateContext"],
          "fullName": "WordContextService updateContext 应该更新语境内容",
          "status": "passed",
          "title": "应该更新语境内容",
          "duration": 2.0630709999999226,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "updateContextMetadata"],
          "fullName": "WordContextService updateContextMetadata 应该更新语境元数据",
          "status": "passed",
          "title": "应该更新语境元数据",
          "duration": 1.5741610000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "updateContextMetadata"],
          "fullName": "WordContextService updateContextMetadata 应该在语境不存在时抛出错误",
          "status": "passed",
          "title": "应该在语境不存在时抛出错误",
          "duration": 3.460070999999971,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "deleteContext"],
          "fullName": "WordContextService deleteContext 应该删除语境",
          "status": "passed",
          "title": "应该删除语境",
          "duration": 3.422235999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "deleteContexts"],
          "fullName": "WordContextService deleteContexts 应该批量删除语境",
          "status": "passed",
          "title": "应该批量删除语境",
          "duration": 2.1160340000000133,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getContextStats"],
          "fullName": "WordContextService getContextStats 应该返回语境统计数据",
          "status": "passed",
          "title": "应该返回语境统计数据",
          "duration": 2.2394579999998996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "recordContextUsage"],
          "fullName": "WordContextService recordContextUsage 应该记录语境使用",
          "status": "passed",
          "title": "应该记录语境使用",
          "duration": 4.8063079999999445,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "recordContextUsage"],
          "fullName": "WordContextService recordContextUsage 应该初始化使用计数",
          "status": "passed",
          "title": "应该初始化使用计数",
          "duration": 1.9465059999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "updateEffectivenessScore"],
          "fullName": "WordContextService updateEffectivenessScore 应该更新效果评分",
          "status": "passed",
          "title": "应该更新效果评分",
          "duration": 2.835523999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "updateEffectivenessScore"],
          "fullName": "WordContextService updateEffectivenessScore 应该在评分无效时抛出错误",
          "status": "passed",
          "title": "应该在评分无效时抛出错误",
          "duration": 5.96431999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getBestContext"],
          "fullName": "WordContextService getBestContext 应该返回最佳语境",
          "status": "passed",
          "title": "应该返回最佳语境",
          "duration": 2.039190000000076,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "getBestContext"],
          "fullName": "WordContextService getBestContext 应该在没有找到时返回 null",
          "status": "passed",
          "title": "应该在没有找到时返回 null",
          "duration": 1.1930179999999382,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordContextService", "recommendContextsForWords"],
          "fullName": "WordContextService recommendContextsForWords 应该为多个单词推荐语境",
          "status": "passed",
          "title": "应该为多个单词推荐语境",
          "duration": 1.5347789999999577,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905725,
      "endTime": 1765615905893.5347,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/word-context.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["WordService", "getWordsByUserId"],
          "fullName": "WordService getWordsByUserId should return words for user wordbooks",
          "status": "passed",
          "title": "should return words for user wordbooks",
          "duration": 60.30776300000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "getWords"],
          "fullName": "WordService getWords should return all words when no userId provided",
          "status": "passed",
          "title": "should return all words when no userId provided",
          "duration": 6.5652359999999135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "getWords"],
          "fullName": "WordService getWords should delegate to getWordsByUserId when userId provided",
          "status": "passed",
          "title": "should delegate to getWordsByUserId when userId provided",
          "duration": 1.3593900000000758,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "getWordById"],
          "fullName": "WordService getWordById should return word by id",
          "status": "passed",
          "title": "should return word by id",
          "duration": 1.3143029999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "getWordById"],
          "fullName": "WordService getWordById should return null for non-existent word",
          "status": "passed",
          "title": "should return null for non-existent word",
          "duration": 0.9643330000000105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "getWordById"],
          "fullName": "WordService getWordById should check permission when userId provided",
          "status": "passed",
          "title": "should check permission when userId provided",
          "duration": 4.927919999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "getWordById"],
          "fullName": "WordService getWordById should allow access to own words",
          "status": "passed",
          "title": "should allow access to own words",
          "duration": 1.1284850000000688,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "createWord"],
          "fullName": "WordService createWord should create word with wordBookId",
          "status": "passed",
          "title": "should create word with wordBookId",
          "duration": 0.5922309999999698,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "createWord"],
          "fullName": "WordService createWord should create default wordbook if needed",
          "status": "passed",
          "title": "should create default wordbook if needed",
          "duration": 0.7049130000000332,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "createWord"],
          "fullName": "WordService createWord should throw if no wordBookId and no userId",
          "status": "passed",
          "title": "should throw if no wordBookId and no userId",
          "duration": 0.6115670000000364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "updateWord"],
          "fullName": "WordService updateWord should update word",
          "status": "passed",
          "title": "should update word",
          "duration": 0.3653110000000197,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "updateWord"],
          "fullName": "WordService updateWord should check permission when userId provided",
          "status": "passed",
          "title": "should check permission when userId provided",
          "duration": 0.37506199999995715,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "deleteWord"],
          "fullName": "WordService deleteWord should delete word and update wordbook count",
          "status": "passed",
          "title": "should delete word and update wordbook count",
          "duration": 0.557337000000075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "deleteWord"],
          "fullName": "WordService deleteWord should do nothing if word not found",
          "status": "passed",
          "title": "should do nothing if word not found",
          "duration": 0.5724589999999807,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "batchCreateWords"],
          "fullName": "WordService batchCreateWords should create multiple words",
          "status": "passed",
          "title": "should create multiple words",
          "duration": 1.1259320000000343,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "batchCreateWords"],
          "fullName": "WordService batchCreateWords should create default wordbook if needed",
          "status": "passed",
          "title": "should create default wordbook if needed",
          "duration": 0.9790760000000773,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "exports"],
          "fullName": "WordService exports should export WordService class",
          "status": "passed",
          "title": "should export WordService class",
          "duration": 1.5563439999999673,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordService", "exports"],
          "fullName": "WordService exports should export default singleton",
          "status": "passed",
          "title": "should export default singleton",
          "duration": 2.2749730000000454,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907791,
      "endTime": 1765615907879.275,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/word.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["WordbookService", "getWordbooks"],
          "fullName": "WordbookService getWordbooks should return all wordbooks when called without userId",
          "status": "passed",
          "title": "should return all wordbooks when called without userId",
          "duration": 38.93043499999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "getWordbooks"],
          "fullName": "WordbookService getWordbooks should return user-related wordbooks when called with userId",
          "status": "passed",
          "title": "should return user-related wordbooks when called with userId",
          "duration": 1.8337240000000747,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "getWordbookById"],
          "fullName": "WordbookService getWordbookById should return wordbook with words",
          "status": "passed",
          "title": "should return wordbook with words",
          "duration": 3.9906049999999595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "getWordbookById"],
          "fullName": "WordbookService getWordbookById should return null for non-existent wordbook",
          "status": "passed",
          "title": "should return null for non-existent wordbook",
          "duration": 6.470130999999924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "createWordbook"],
          "fullName": "WordbookService createWordbook should create wordbook with correct data",
          "status": "passed",
          "title": "should create wordbook with correct data",
          "duration": 1.3508550000000241,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "createWordbook"],
          "fullName": "WordbookService createWordbook should set type to SYSTEM when no userId provided",
          "status": "passed",
          "title": "should set type to SYSTEM when no userId provided",
          "duration": 1.2658719999999448,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "createWordbook"],
          "fullName": "WordbookService createWordbook should set type to USER when userId provided",
          "status": "passed",
          "title": "should set type to USER when userId provided",
          "duration": 1.1697719999999663,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "addWordsToWordbook"],
          "fullName": "WordbookService addWordsToWordbook should add words to wordbook",
          "status": "passed",
          "title": "should add words to wordbook",
          "duration": 4.91853100000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "removeWordFromWordbook"],
          "fullName": "WordbookService removeWordFromWordbook should remove word from wordbook",
          "status": "passed",
          "title": "should remove word from wordbook",
          "duration": 1.6405829999999924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "deleteWordbook"],
          "fullName": "WordbookService deleteWordbook should delete wordbook",
          "status": "passed",
          "title": "should delete wordbook",
          "duration": 1.6685979999999745,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "getUserWordBooks"],
          "fullName": "WordbookService getUserWordBooks should return user wordbooks only",
          "status": "passed",
          "title": "should return user wordbooks only",
          "duration": 1.858628000000067,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "getSystemWordBooks"],
          "fullName": "WordbookService getSystemWordBooks should return system wordbooks only",
          "status": "passed",
          "title": "should return system wordbooks only",
          "duration": 4.6730890000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "exports"],
          "fullName": "WordbookService exports should export WordBookService class",
          "status": "passed",
          "title": "should export WordBookService class",
          "duration": 2.847332999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordbookService", "exports"],
          "fullName": "WordbookService exports should export default singleton",
          "status": "passed",
          "title": "should export default singleton",
          "duration": 0.898633000000018,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908854,
      "endTime": 1765615908928.8987,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/services/wordbook.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartManager state serialization"],
          "fullName": "ColdStart State Persistence ColdStartManager state serialization should serialize state after completing probes",
          "status": "passed",
          "title": "should serialize state after completing probes",
          "duration": 6.911684000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartManager state serialization"],
          "fullName": "ColdStart State Persistence ColdStartManager state serialization should restore state correctly after serialization",
          "status": "passed",
          "title": "should restore state correctly after serialization",
          "duration": 2.8357050000000754,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartManager state serialization"],
          "fullName": "ColdStart State Persistence ColdStartManager state serialization should restore normal phase state correctly",
          "status": "passed",
          "title": "should restore normal phase state correctly",
          "duration": 0.9010540000000447,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartStateData format"],
          "fullName": "ColdStart State Persistence ColdStartStateData format should convert to ColdStartStateData format for persistence",
          "status": "passed",
          "title": "should convert to ColdStartStateData format for persistence",
          "duration": 1.3211330000000316,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartStateData format"],
          "fullName": "ColdStart State Persistence ColdStartStateData format should restore from ColdStartStateData format",
          "status": "passed",
          "title": "should restore from ColdStartStateData format",
          "duration": 4.993867000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartManager direct restoration"],
          "fullName": "ColdStart State Persistence ColdStartManager direct restoration should restore cold start state correctly",
          "status": "passed",
          "title": "should restore cold start state correctly",
          "duration": 1.1315620000000308,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartManager direct restoration"],
          "fullName": "ColdStart State Persistence ColdStartManager direct restoration should create fresh cold start without saved state",
          "status": "passed",
          "title": "should create fresh cold start without saved state",
          "duration": 0.7634850000000597,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "ColdStartManager direct restoration"],
          "fullName": "ColdStart State Persistence ColdStartManager direct restoration should not share state between different instances",
          "status": "passed",
          "title": "should not share state between different instances",
          "duration": 0.8120949999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "edge cases"],
          "fullName": "ColdStart State Persistence edge cases should handle invalid phase gracefully",
          "status": "passed",
          "title": "should handle invalid phase gracefully",
          "duration": 1.517233000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "edge cases"],
          "fullName": "ColdStart State Persistence edge cases should handle invalid userType gracefully",
          "status": "passed",
          "title": "should handle invalid userType gracefully",
          "duration": 6.534036000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "edge cases"],
          "fullName": "ColdStart State Persistence edge cases should handle negative updateCount gracefully",
          "status": "passed",
          "title": "should handle negative updateCount gracefully",
          "duration": 0.672036999999932,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "edge cases"],
          "fullName": "ColdStart State Persistence edge cases should handle corrupted settledStrategy gracefully",
          "status": "passed",
          "title": "should handle corrupted settledStrategy gracefully",
          "duration": 0.5630149999999503,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "complete persistence flow simulation"],
          "fullName": "ColdStart State Persistence complete persistence flow simulation should survive simulated service restart",
          "status": "passed",
          "title": "should survive simulated service restart",
          "duration": 1.4274609999999939,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "complete persistence flow simulation"],
          "fullName": "ColdStart State Persistence complete persistence flow simulation should eventually transition to normal phase",
          "status": "passed",
          "title": "should eventually transition to normal phase",
          "duration": 5.151862000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStart State Persistence", "complete persistence flow simulation"],
          "fullName": "ColdStart State Persistence complete persistence flow simulation should not reset state after persistence simulation",
          "status": "passed",
          "title": "should not reset state after persistence simulation",
          "duration": 1.682188999999994,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908919,
      "endTime": 1765615908961.6821,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/coldstart-persistence.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "valid matrices"],
          "fullName": "MatrixUtils choleskyDecompose valid matrices should decompose a 2x2 identity matrix",
          "status": "passed",
          "title": "should decompose a 2x2 identity matrix",
          "duration": 2.827893999999901,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "valid matrices"],
          "fullName": "MatrixUtils choleskyDecompose valid matrices should decompose a 3x3 positive definite matrix",
          "status": "passed",
          "title": "should decompose a 3x3 positive definite matrix",
          "duration": 5.495438000000036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "valid matrices"],
          "fullName": "MatrixUtils choleskyDecompose valid matrices should handle a diagonal matrix",
          "status": "passed",
          "title": "should handle a diagonal matrix",
          "duration": 0.9769250000000511,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "valid matrices"],
          "fullName": "MatrixUtils choleskyDecompose valid matrices should not modify the original matrix",
          "status": "passed",
          "title": "should not modify the original matrix",
          "duration": 0.4606029999999919,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "symmetrization"],
          "fullName": "MatrixUtils choleskyDecompose symmetrization should symmetrize an asymmetric matrix",
          "status": "passed",
          "title": "should symmetrize an asymmetric matrix",
          "duration": 0.3434109999999464,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "symmetrization"],
          "fullName": "MatrixUtils choleskyDecompose symmetrization should handle NaN in off-diagonal elements during symmetrization",
          "status": "passed",
          "title": "should handle NaN in off-diagonal elements during symmetrization",
          "duration": 0.19095099999992726,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "symmetrization"],
          "fullName": "MatrixUtils choleskyDecompose symmetrization should handle Infinity in off-diagonal elements during symmetrization",
          "status": "passed",
          "title": "should handle Infinity in off-diagonal elements during symmetrization",
          "duration": 0.15139099999998962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "regularization"],
          "fullName": "MatrixUtils choleskyDecompose regularization should apply regularization when diagonal is too small",
          "status": "passed",
          "title": "should apply regularization when diagonal is too small",
          "duration": 0.32595500000002176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "regularization"],
          "fullName": "MatrixUtils choleskyDecompose regularization should apply regularization when diagonal is negative",
          "status": "passed",
          "title": "should apply regularization when diagonal is negative",
          "duration": 0.46713099999999486,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "regularization"],
          "fullName": "MatrixUtils choleskyDecompose regularization should apply regularization when diagonal is NaN",
          "status": "passed",
          "title": "should apply regularization when diagonal is NaN",
          "duration": 0.25061699999992015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "regularization"],
          "fullName": "MatrixUtils choleskyDecompose regularization should apply regularization when diagonal is Infinity",
          "status": "passed",
          "title": "should apply regularization when diagonal is Infinity",
          "duration": 0.24824899999998706,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "regularization"],
          "fullName": "MatrixUtils choleskyDecompose regularization should use default lambda value of 1.0",
          "status": "passed",
          "title": "should use default lambda value of 1.0",
          "duration": 0.2061909999999898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "numerical stability"],
          "fullName": "MatrixUtils choleskyDecompose numerical stability should handle sum <= epsilon case for diagonal elements",
          "status": "passed",
          "title": "should handle sum <= epsilon case for diagonal elements",
          "duration": 0.34426200000007157,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "numerical stability"],
          "fullName": "MatrixUtils choleskyDecompose numerical stability should handle non-finite values in non-diagonal elements",
          "status": "passed",
          "title": "should handle non-finite values in non-diagonal elements",
          "duration": 0.34481700000003457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "numerical stability"],
          "fullName": "MatrixUtils choleskyDecompose numerical stability should return null when final matrix contains invalid values",
          "status": "passed",
          "title": "should return null when final matrix contains invalid values",
          "duration": 0.13190500000007432,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "edge cases"],
          "fullName": "MatrixUtils choleskyDecompose edge cases should handle 1x1 matrix",
          "status": "passed",
          "title": "should handle 1x1 matrix",
          "duration": 0.1862390000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "edge cases"],
          "fullName": "MatrixUtils choleskyDecompose edge cases should handle larger matrices",
          "status": "passed",
          "title": "should handle larger matrices",
          "duration": 0.35163399999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "choleskyDecompose", "edge cases"],
          "fullName": "MatrixUtils choleskyDecompose edge cases should handle zero matrix with regularization",
          "status": "passed",
          "title": "should handle zero matrix with regularization",
          "duration": 0.2074479999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "createRegularizedIdentity"],
          "fullName": "MatrixUtils createRegularizedIdentity should create a 2x2 regularized identity matrix",
          "status": "passed",
          "title": "should create a 2x2 regularized identity matrix",
          "duration": 0.3784329999999727,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "createRegularizedIdentity"],
          "fullName": "MatrixUtils createRegularizedIdentity should create a 3x3 regularized identity matrix",
          "status": "passed",
          "title": "should create a 3x3 regularized identity matrix",
          "duration": 0.5247510000000375,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "createRegularizedIdentity"],
          "fullName": "MatrixUtils createRegularizedIdentity should handle lambda = 0",
          "status": "passed",
          "title": "should handle lambda = 0",
          "duration": 0.4233769999999595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "createRegularizedIdentity"],
          "fullName": "MatrixUtils createRegularizedIdentity should handle large lambda values",
          "status": "passed",
          "title": "should handle large lambda values",
          "duration": 0.4582839999999351,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "createRegularizedIdentity"],
          "fullName": "MatrixUtils createRegularizedIdentity should handle d = 1",
          "status": "passed",
          "title": "should handle d = 1",
          "duration": 6.404198999999949,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "createRegularizedIdentity"],
          "fullName": "MatrixUtils createRegularizedIdentity should handle larger dimensions",
          "status": "passed",
          "title": "should handle larger dimensions",
          "duration": 7.763062999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should return false for valid Float32Array",
          "status": "passed",
          "title": "should return false for valid Float32Array",
          "duration": 0.3774119999999357,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should return true for Float32Array with NaN",
          "status": "passed",
          "title": "should return true for Float32Array with NaN",
          "duration": 0.19560200000000805,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should return true for Float32Array with Infinity",
          "status": "passed",
          "title": "should return true for Float32Array with Infinity",
          "duration": 0.17986199999995733,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should return true for Float32Array with -Infinity",
          "status": "passed",
          "title": "should return true for Float32Array with -Infinity",
          "duration": 0.1295590000000857,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should return false for empty Float32Array",
          "status": "passed",
          "title": "should return false for empty Float32Array",
          "duration": 0.11350300000003699,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should return true for Float32Array with only NaN",
          "status": "passed",
          "title": "should return true for Float32Array with only NaN",
          "duration": 0.11544200000003002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should handle Float32Array with zero values",
          "status": "passed",
          "title": "should handle Float32Array with zero values",
          "duration": 0.0913189999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "Float32Array input"],
          "fullName": "MatrixUtils hasInvalidValues Float32Array input should handle Float32Array with negative values",
          "status": "passed",
          "title": "should handle Float32Array with negative values",
          "duration": 4.278754000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "number[] input"],
          "fullName": "MatrixUtils hasInvalidValues number[] input should return false for valid number array",
          "status": "passed",
          "title": "should return false for valid number array",
          "duration": 4.62920900000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "number[] input"],
          "fullName": "MatrixUtils hasInvalidValues number[] input should return true for number array with NaN",
          "status": "passed",
          "title": "should return true for number array with NaN",
          "duration": 0.24419799999998304,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "number[] input"],
          "fullName": "MatrixUtils hasInvalidValues number[] input should return true for number array with Infinity",
          "status": "passed",
          "title": "should return true for number array with Infinity",
          "duration": 0.15131800000006024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "number[] input"],
          "fullName": "MatrixUtils hasInvalidValues number[] input should return true for number array with -Infinity",
          "status": "passed",
          "title": "should return true for number array with -Infinity",
          "duration": 0.2295360000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "number[] input"],
          "fullName": "MatrixUtils hasInvalidValues number[] input should return false for empty number array",
          "status": "passed",
          "title": "should return false for empty number array",
          "duration": 0.14389500000004318,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "hasInvalidValues", "number[] input"],
          "fullName": "MatrixUtils hasInvalidValues number[] input should handle multiple invalid values",
          "status": "passed",
          "title": "should handle multiple invalid values",
          "duration": 0.2228699999999435,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should return a new array without modifying the original",
          "status": "passed",
          "title": "should return a new array without modifying the original",
          "duration": 1.5029020000000628,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should replace NaN with 0",
          "status": "passed",
          "title": "should replace NaN with 0",
          "duration": 0.2890260000000353,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should replace Infinity with 0",
          "status": "passed",
          "title": "should replace Infinity with 0",
          "duration": 0.24240000000008877,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should replace -Infinity with 0",
          "status": "passed",
          "title": "should replace -Infinity with 0",
          "duration": 2.0691329999999653,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should not modify valid values",
          "status": "passed",
          "title": "should not modify valid values",
          "duration": 0.3324770000000399,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should handle empty array",
          "status": "passed",
          "title": "should handle empty array",
          "duration": 0.1572280000000319,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should handle array with all invalid values",
          "status": "passed",
          "title": "should handle array with all invalid values",
          "duration": 0.17173400000001493,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should handle array with all valid values",
          "status": "passed",
          "title": "should handle array with all valid values",
          "duration": 0.20026300000006358,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeFloat32Array"],
          "fullName": "MatrixUtils sanitizeFloat32Array should preserve array length",
          "status": "passed",
          "title": "should preserve array length",
          "duration": 0.11683800000002975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should return a new array without modifying the original",
          "status": "passed",
          "title": "should return a new array without modifying the original",
          "duration": 0.6697580000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should replace NaN with 0",
          "status": "passed",
          "title": "should replace NaN with 0",
          "duration": 0.6585719999999355,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should replace Infinity with 0",
          "status": "passed",
          "title": "should replace Infinity with 0",
          "duration": 0.3627159999999776,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should replace -Infinity with 0",
          "status": "passed",
          "title": "should replace -Infinity with 0",
          "duration": 0.7318189999999731,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should not modify valid values",
          "status": "passed",
          "title": "should not modify valid values",
          "duration": 0.4884580000000369,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should handle empty array",
          "status": "passed",
          "title": "should handle empty array",
          "duration": 0.29061400000000503,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should handle array with all invalid values",
          "status": "passed",
          "title": "should handle array with all invalid values",
          "duration": 0.21869100000003527,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should handle array with all valid values",
          "status": "passed",
          "title": "should handle array with all valid values",
          "duration": 1.1470070000000305,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should preserve array length",
          "status": "passed",
          "title": "should preserve array length",
          "duration": 0.41848700000002736,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MatrixUtils", "sanitizeNumberArray"],
          "fullName": "MatrixUtils sanitizeNumberArray should handle very large numbers",
          "status": "passed",
          "title": "should handle very large numbers",
          "duration": 0.24647400000003472,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911264,
      "endTime": 1765615911317.4185,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/common/matrix-utils.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for thompson.getExpectedReward",
          "status": "passed",
          "title": "should use TypeScript for thompson.getExpectedReward",
          "duration": 2.2970840000000408,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for thompson.sampleBeta",
          "status": "passed",
          "title": "should use TypeScript for thompson.sampleBeta",
          "duration": 0.6747560000000021,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for actr.retrievalProbability",
          "status": "passed",
          "title": "should use TypeScript for actr.retrievalProbability",
          "duration": 0.27498100000002523,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for actr.computeRecallProbability",
          "status": "passed",
          "title": "should use TypeScript for actr.computeRecallProbability",
          "duration": 0.41849100000001727,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for causal.getPropensityScore",
          "status": "passed",
          "title": "should use TypeScript for causal.getPropensityScore",
          "duration": 0.2522790000000441,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for thompson.update",
          "status": "passed",
          "title": "should use TypeScript for thompson.update",
          "duration": 0.1912289999999075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "simple operations (should use TypeScript)"],
          "fullName": "SmartRouter decide simple operations (should use TypeScript) should use TypeScript for actr.update",
          "status": "passed",
          "title": "should use TypeScript for actr.update",
          "duration": 2.455921999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for causal.bootstrapSE",
          "status": "passed",
          "title": "should use Native for causal.bootstrapSE",
          "duration": 0.3689679999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for causal.fitPropensity",
          "status": "passed",
          "title": "should use Native for causal.fitPropensity",
          "duration": 0.5070869999999559,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for causal.fit",
          "status": "passed",
          "title": "should use Native for causal.fit",
          "duration": 0.2696049999999559,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for actr.computeOptimalInterval",
          "status": "passed",
          "title": "should use Native for actr.computeOptimalInterval",
          "duration": 0.24145399999997608,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for actr.predictOptimalInterval",
          "status": "passed",
          "title": "should use Native for actr.predictOptimalInterval",
          "duration": 0.15432299999997667,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for linucb.update",
          "status": "passed",
          "title": "should use Native for linucb.update",
          "duration": 0.1319100000000617,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "complex operations (should use Native)"],
          "fullName": "SmartRouter decide complex operations (should use Native) should use Native for linucb.updateBatch",
          "status": "passed",
          "title": "should use Native for linucb.updateBatch",
          "duration": 0.14981199999999717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use TypeScript for actr.computeActivation with small data",
          "status": "passed",
          "title": "should use TypeScript for actr.computeActivation with small data",
          "duration": 0.16450700000007146,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use Native for actr.computeActivation with large data",
          "status": "passed",
          "title": "should use Native for actr.computeActivation with large data",
          "duration": 0.14544499999999516,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use TypeScript for actr.computeActivation at threshold boundary (below)",
          "status": "passed",
          "title": "should use TypeScript for actr.computeActivation at threshold boundary (below)",
          "duration": 0.18096700000000965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use Native for actr.computeActivation at threshold boundary (at)",
          "status": "passed",
          "title": "should use Native for actr.computeActivation at threshold boundary (at)",
          "duration": 0.24836900000002515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use TypeScript for thompson.selectAction with few actions",
          "status": "passed",
          "title": "should use TypeScript for thompson.selectAction with few actions",
          "duration": 0.17861600000003364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use Native for thompson.selectAction with many actions",
          "status": "passed",
          "title": "should use Native for thompson.selectAction with many actions",
          "duration": 0.2266419999999698,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use TypeScript for thompson.batchSample with small batch",
          "status": "passed",
          "title": "should use TypeScript for thompson.batchSample with small batch",
          "duration": 0.20553099999995084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use Native for thompson.batchSample with large batch",
          "status": "passed",
          "title": "should use Native for thompson.batchSample with large batch",
          "duration": 0.18255499999997937,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use TypeScript for causal.estimateATE with small sample",
          "status": "passed",
          "title": "should use TypeScript for causal.estimateATE with small sample",
          "duration": 0.1580860000000257,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "medium operations (threshold-based)"],
          "fullName": "SmartRouter decide medium operations (threshold-based) should use Native for causal.estimateATE with large sample",
          "status": "passed",
          "title": "should use Native for causal.estimateATE with large sample",
          "duration": 0.1584940000000188,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "native availability handling"],
          "fullName": "SmartRouter decide native availability handling should use TypeScript when native is not available",
          "status": "passed",
          "title": "should use TypeScript when native is not available",
          "duration": 0.2480840000000626,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "native availability handling"],
          "fullName": "SmartRouter decide native availability handling should use Native when native is available for complex operations",
          "status": "passed",
          "title": "should use Native when native is available for complex operations",
          "duration": 0.2177630000001045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "native availability handling"],
          "fullName": "SmartRouter decide native availability handling should still use TypeScript for simple operations even when native is available",
          "status": "passed",
          "title": "should still use TypeScript for simple operations even when native is available",
          "duration": 0.1721900000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "unconfigured operations"],
          "fullName": "SmartRouter decide unconfigured operations should default to Native for unconfigured operations",
          "status": "passed",
          "title": "should default to Native for unconfigured operations",
          "duration": 0.25079200000004676,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decide", "unconfigured operations"],
          "fullName": "SmartRouter decide unconfigured operations should use TypeScript for unconfigured operations when native unavailable",
          "status": "passed",
          "title": "should use TypeScript for unconfigured operations when native unavailable",
          "duration": 0.3618770000000495,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "shouldUseNative"],
          "fullName": "SmartRouter shouldUseNative should return true for complex operations",
          "status": "passed",
          "title": "should return true for complex operations",
          "duration": 0.2675540000000183,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "shouldUseNative"],
          "fullName": "SmartRouter shouldUseNative should return false for simple operations",
          "status": "passed",
          "title": "should return false for simple operations",
          "duration": 0.14720500000009906,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "shouldUseTypeScript"],
          "fullName": "SmartRouter shouldUseTypeScript should return false for complex operations",
          "status": "passed",
          "title": "should return false for complex operations",
          "duration": 0.16452300000003106,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "shouldUseTypeScript"],
          "fullName": "SmartRouter shouldUseTypeScript should return true for simple operations",
          "status": "passed",
          "title": "should return true for simple operations",
          "duration": 0.1417149999999765,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "decideBatch"],
          "fullName": "SmartRouter decideBatch should return correct decisions for multiple operations",
          "status": "passed",
          "title": "should return correct decisions for multiple operations",
          "duration": 0.2865269999999782,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "registerOperation"],
          "fullName": "SmartRouter configuration registerOperation should register a new operation",
          "status": "passed",
          "title": "should register a new operation",
          "duration": 0.3678429999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "registerOperation"],
          "fullName": "SmartRouter configuration registerOperation should override existing operation config",
          "status": "passed",
          "title": "should override existing operation config",
          "duration": 1.5929529999999659,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "registerOperations"],
          "fullName": "SmartRouter configuration registerOperations should register multiple operations from array",
          "status": "passed",
          "title": "should register multiple operations from array",
          "duration": 0.9108150000000705,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "registerOperations"],
          "fullName": "SmartRouter configuration registerOperations should register multiple operations from Map",
          "status": "passed",
          "title": "should register multiple operations from Map",
          "duration": 0.6589699999999539,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "unregisterOperation"],
          "fullName": "SmartRouter configuration unregisterOperation should remove an operation",
          "status": "passed",
          "title": "should remove an operation",
          "duration": 0.7401849999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "unregisterOperation"],
          "fullName": "SmartRouter configuration unregisterOperation should return false for non-existent operation",
          "status": "passed",
          "title": "should return false for non-existent operation",
          "duration": 0.17863199999999324,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "getConfig"],
          "fullName": "SmartRouter configuration getConfig should return config for existing operation",
          "status": "passed",
          "title": "should return config for existing operation",
          "duration": 0.2265140000000656,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "getConfig"],
          "fullName": "SmartRouter configuration getConfig should return undefined for non-existent operation",
          "status": "passed",
          "title": "should return undefined for non-existent operation",
          "duration": 0.1834440000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "hasConfig"],
          "fullName": "SmartRouter configuration hasConfig should return true for configured operations",
          "status": "passed",
          "title": "should return true for configured operations",
          "duration": 0.146521000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "hasConfig"],
          "fullName": "SmartRouter configuration hasConfig should return false for unconfigured operations",
          "status": "passed",
          "title": "should return false for unconfigured operations",
          "duration": 0.12018299999999726,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "getAllConfigs"],
          "fullName": "SmartRouter configuration getAllConfigs should return a copy of all configurations",
          "status": "passed",
          "title": "should return a copy of all configurations",
          "duration": 0.3218019999999342,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "getAllConfigs"],
          "fullName": "SmartRouter configuration getAllConfigs should not affect original when modifying returned map",
          "status": "passed",
          "title": "should not affect original when modifying returned map",
          "duration": 0.38172099999997045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "getOperationNames"],
          "fullName": "SmartRouter configuration getOperationNames should return array of operation names",
          "status": "passed",
          "title": "should return array of operation names",
          "duration": 3.159560000000056,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "configuration", "resetToDefaults"],
          "fullName": "SmartRouter configuration resetToDefaults should restore default configuration",
          "status": "passed",
          "title": "should restore default configuration",
          "duration": 0.37502699999993183,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "statistics"],
          "fullName": "SmartRouter statistics should track decisions when stats enabled",
          "status": "passed",
          "title": "should track decisions when stats enabled",
          "duration": 4.210844999999949,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "statistics"],
          "fullName": "SmartRouter statistics should track per-operation decisions",
          "status": "passed",
          "title": "should track per-operation decisions",
          "duration": 0.5310080000000426,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "statistics"],
          "fullName": "SmartRouter statistics should not track decisions when stats disabled",
          "status": "passed",
          "title": "should not track decisions when stats disabled",
          "duration": 0.278707000000054,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "statistics"],
          "fullName": "SmartRouter statistics should reset stats correctly",
          "status": "passed",
          "title": "should reset stats correctly",
          "duration": 0.3412779999999884,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "explainDecision"],
          "fullName": "SmartRouter explainDecision should explain forced route decisions",
          "status": "passed",
          "title": "should explain forced route decisions",
          "duration": 1.0654030000000603,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "explainDecision"],
          "fullName": "SmartRouter explainDecision should explain threshold-based decisions",
          "status": "passed",
          "title": "should explain threshold-based decisions",
          "duration": 0.28770299999996496,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "explainDecision"],
          "fullName": "SmartRouter explainDecision should indicate unconfigured operations",
          "status": "passed",
          "title": "should indicate unconfigured operations",
          "duration": 0.5964470000000119,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "exportConfig"],
          "fullName": "SmartRouter exportConfig should export configuration as JSON object",
          "status": "passed",
          "title": "should export configuration as JSON object",
          "duration": 1.0939219999999068,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "importConfig"],
          "fullName": "SmartRouter importConfig should import configuration and merge by default",
          "status": "passed",
          "title": "should import configuration and merge by default",
          "duration": 0.5475460000000112,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "importConfig"],
          "fullName": "SmartRouter importConfig should replace all configuration when merge=false",
          "status": "passed",
          "title": "should replace all configuration when merge=false",
          "duration": 0.37185299999998733,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "edge cases"],
          "fullName": "SmartRouter edge cases should handle zero dataSize",
          "status": "passed",
          "title": "should handle zero dataSize",
          "duration": 0.2575120000000197,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "edge cases"],
          "fullName": "SmartRouter edge cases should handle negative dataSize",
          "status": "passed",
          "title": "should handle negative dataSize",
          "duration": 0.3347549999999728,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "edge cases"],
          "fullName": "SmartRouter edge cases should handle very large dataSize",
          "status": "passed",
          "title": "should handle very large dataSize",
          "duration": 0.1735439999999926,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "edge cases"],
          "fullName": "SmartRouter edge cases should handle undefined options",
          "status": "passed",
          "title": "should handle undefined options",
          "duration": 0.1569650000000138,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "edge cases"],
          "fullName": "SmartRouter edge cases should handle empty string operation",
          "status": "passed",
          "title": "should handle empty string operation",
          "duration": 0.15411599999993086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "performance routing table"],
          "fullName": "SmartRouter performance routing table should route Bootstrap (3318x speedup) to Native",
          "status": "passed",
          "title": "should route Bootstrap (3318x speedup) to Native",
          "duration": 0.1594479999999976,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "performance routing table"],
          "fullName": "SmartRouter performance routing table should route fitPropensity (107x speedup) to Native",
          "status": "passed",
          "title": "should route fitPropensity (107x speedup) to Native",
          "duration": 0.1561379999999417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "performance routing table"],
          "fullName": "SmartRouter performance routing table should route getExpectedValue (14x slower in Native) to TypeScript",
          "status": "passed",
          "title": "should route getExpectedValue (14x slower in Native) to TypeScript",
          "duration": 0.15642800000000534,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["SmartRouter", "performance routing table"],
          "fullName": "SmartRouter performance routing table should route retrievalProbability (11x slower in Native) to TypeScript",
          "status": "passed",
          "title": "should route retrievalProbability (11x slower in Native) to TypeScript",
          "duration": 0.241704000000027,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913659,
      "endTime": 1765615913701.2417,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/common/smart-router.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "record"],
          "fullName": "Telemetry AggregateTelemetry record should record an event without error",
          "status": "passed",
          "title": "should record an event without error",
          "duration": 1.9818850000000339,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "record"],
          "fullName": "Telemetry AggregateTelemetry record should record multiple events",
          "status": "passed",
          "title": "should record multiple events",
          "duration": 0.4680829999999787,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "record"],
          "fullName": "Telemetry AggregateTelemetry record should accept various data formats",
          "status": "passed",
          "title": "should accept various data formats",
          "duration": 0.3144270000000233,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "increment"],
          "fullName": "Telemetry AggregateTelemetry increment should increment counter for an event",
          "status": "passed",
          "title": "should increment counter for an event",
          "duration": 0.7922330000000102,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "increment"],
          "fullName": "Telemetry AggregateTelemetry increment should increment counter multiple times",
          "status": "passed",
          "title": "should increment counter multiple times",
          "duration": 0.3031180000000404,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "increment"],
          "fullName": "Telemetry AggregateTelemetry increment should track counters with different labels separately",
          "status": "passed",
          "title": "should track counters with different labels separately",
          "duration": 0.35938999999996213,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "increment"],
          "fullName": "Telemetry AggregateTelemetry increment should track counters for different events separately",
          "status": "passed",
          "title": "should track counters for different events separately",
          "duration": 0.3146480000000338,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "increment"],
          "fullName": "Telemetry AggregateTelemetry increment should return 0 for non-existent counter",
          "status": "passed",
          "title": "should return 0 for non-existent counter",
          "duration": 0.22417800000005172,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "increment"],
          "fullName": "Telemetry AggregateTelemetry increment should handle multiple label combinations",
          "status": "passed",
          "title": "should handle multiple label combinations",
          "duration": 10.274107999999956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "histogram"],
          "fullName": "Telemetry AggregateTelemetry histogram should record histogram values",
          "status": "passed",
          "title": "should record histogram values",
          "duration": 0.5607549999999719,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "histogram"],
          "fullName": "Telemetry AggregateTelemetry histogram should track histograms with labels separately",
          "status": "passed",
          "title": "should track histograms with labels separately",
          "duration": 0.22756500000002688,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "histogram"],
          "fullName": "Telemetry AggregateTelemetry histogram should return null for non-existent histogram",
          "status": "passed",
          "title": "should return null for non-existent histogram",
          "duration": 0.1912680000000364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should calculate correct mean",
          "status": "passed",
          "title": "should calculate correct mean",
          "duration": 0.1841229999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should calculate correct p95",
          "status": "passed",
          "title": "should calculate correct p95",
          "duration": 2.182890999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should calculate correct p99",
          "status": "passed",
          "title": "should calculate correct p99",
          "duration": 0.3626370000000634,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should handle single value",
          "status": "passed",
          "title": "should handle single value",
          "duration": 0.5077329999999165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should handle unsorted input values",
          "status": "passed",
          "title": "should handle unsorted input values",
          "duration": 0.5132909999999811,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should handle negative values",
          "status": "passed",
          "title": "should handle negative values",
          "duration": 0.48225300000001425,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "getHistogramStats"],
          "fullName": "Telemetry AggregateTelemetry getHistogramStats should handle decimal values",
          "status": "passed",
          "title": "should handle decimal values",
          "duration": 0.2616319999999632,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "histogram size limit"],
          "fullName": "Telemetry AggregateTelemetry histogram size limit should limit histogram size to 1000 values",
          "status": "passed",
          "title": "should limit histogram size to 1000 values",
          "duration": 1.3706389999999828,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "histogram size limit"],
          "fullName": "Telemetry AggregateTelemetry histogram size limit should remove oldest values when limit exceeded",
          "status": "passed",
          "title": "should remove oldest values when limit exceeded",
          "duration": 3.600832999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "reset"],
          "fullName": "Telemetry AggregateTelemetry reset should clear all counters",
          "status": "passed",
          "title": "should clear all counters",
          "duration": 0.5014240000000427,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "reset"],
          "fullName": "Telemetry AggregateTelemetry reset should clear all histograms",
          "status": "passed",
          "title": "should clear all histograms",
          "duration": 0.9814850000000206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "reset"],
          "fullName": "Telemetry AggregateTelemetry reset should allow new values after reset",
          "status": "passed",
          "title": "should allow new values after reset",
          "duration": 0.653650999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "makeKey (label handling)"],
          "fullName": "Telemetry AggregateTelemetry makeKey (label handling) should create consistent keys regardless of label order",
          "status": "passed",
          "title": "should create consistent keys regardless of label order",
          "duration": 0.5078880000000936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "makeKey (label handling)"],
          "fullName": "Telemetry AggregateTelemetry makeKey (label handling) should handle empty labels",
          "status": "passed",
          "title": "should handle empty labels",
          "duration": 0.2536450000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "AggregateTelemetry", "makeKey (label handling)"],
          "fullName": "Telemetry AggregateTelemetry makeKey (label handling) should handle special characters in label values",
          "status": "passed",
          "title": "should handle special characters in label values",
          "duration": 0.16560099999992417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.circuit.event",
          "status": "passed",
          "title": "should accept amas.circuit.event",
          "duration": 0.37158099999999195,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.circuit.transition",
          "status": "passed",
          "title": "should accept amas.circuit.transition",
          "duration": 0.42626800000005005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.degradation",
          "status": "passed",
          "title": "should accept amas.degradation",
          "duration": 0.2968519999999444,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.timeout",
          "status": "passed",
          "title": "should accept amas.timeout",
          "duration": 0.22405099999991762,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.decision.latency",
          "status": "passed",
          "title": "should accept amas.decision.latency",
          "duration": 0.22241799999994782,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.model.update.latency",
          "status": "passed",
          "title": "should accept amas.model.update.latency",
          "duration": 0.5088990000000422,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "TelemetryEvent types"],
          "fullName": "Telemetry TelemetryEvent types should accept amas.exception",
          "status": "passed",
          "title": "should accept amas.exception",
          "duration": 0.28623399999992216,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "createTestTelemetry"],
          "fullName": "Telemetry createTestTelemetry should create a new AggregateTelemetry instance",
          "status": "passed",
          "title": "should create a new AggregateTelemetry instance",
          "duration": 0.19929600000000391,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "createTestTelemetry"],
          "fullName": "Telemetry createTestTelemetry should implement Telemetry interface",
          "status": "passed",
          "title": "should implement Telemetry interface",
          "duration": 0.17761699999994107,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "integration"],
          "fullName": "Telemetry integration should handle mixed operations",
          "status": "passed",
          "title": "should handle mixed operations",
          "duration": 0.4847949999999628,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "integration"],
          "fullName": "Telemetry integration should handle high-frequency operations",
          "status": "passed",
          "title": "should handle high-frequency operations",
          "duration": 4.364215000000058,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "integration"],
          "fullName": "Telemetry integration should handle concurrent-like operations on different events",
          "status": "passed",
          "title": "should handle concurrent-like operations on different events",
          "duration": 0.4482110000000148,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "edge cases"],
          "fullName": "Telemetry edge cases should handle very large counter values",
          "status": "passed",
          "title": "should handle very large counter values",
          "duration": 7.825656999999978,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "edge cases"],
          "fullName": "Telemetry edge cases should handle very small histogram values",
          "status": "passed",
          "title": "should handle very small histogram values",
          "duration": 0.2861449999999195,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "edge cases"],
          "fullName": "Telemetry edge cases should handle very large histogram values",
          "status": "passed",
          "title": "should handle very large histogram values",
          "duration": 0.23690700000008746,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "edge cases"],
          "fullName": "Telemetry edge cases should handle zero histogram values",
          "status": "passed",
          "title": "should handle zero histogram values",
          "duration": 0.2646459999999706,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "edge cases"],
          "fullName": "Telemetry edge cases should handle empty data object in record",
          "status": "passed",
          "title": "should handle empty data object in record",
          "duration": 0.38286199999993187,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Telemetry", "edge cases"],
          "fullName": "Telemetry edge cases should handle complex nested data in record",
          "status": "passed",
          "title": "should handle complex nested data in record",
          "duration": 0.3561539999999468,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909646,
      "endTime": 1765615909695.3562,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/common/telemetry.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ActionSpace Configuration", "threshold constants"],
          "fullName": "ActionSpace Configuration threshold constants should define attention thresholds",
          "status": "passed",
          "title": "should define attention thresholds",
          "duration": 2.9923929999999928,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "threshold constants"],
          "fullName": "ActionSpace Configuration threshold constants should define fatigue thresholds",
          "status": "passed",
          "title": "should define fatigue thresholds",
          "duration": 2.6762109999999666,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "threshold constants"],
          "fullName": "ActionSpace Configuration threshold constants should define motivation thresholds",
          "status": "passed",
          "title": "should define motivation thresholds",
          "duration": 0.7915959999999131,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "LinUCB parameters"],
          "fullName": "ActionSpace Configuration LinUCB parameters should define default alpha",
          "status": "passed",
          "title": "should define default alpha",
          "duration": 5.353448999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "LinUCB parameters"],
          "fullName": "ActionSpace Configuration LinUCB parameters should define default lambda",
          "status": "passed",
          "title": "should define default lambda",
          "duration": 4.434573,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "LinUCB parameters"],
          "fullName": "ActionSpace Configuration LinUCB parameters should define feature dimension",
          "status": "passed",
          "title": "should define feature dimension",
          "duration": 0.2748899999999139,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "cold start thresholds"],
          "fullName": "ActionSpace Configuration cold start thresholds should define classify phase threshold",
          "status": "passed",
          "title": "should define classify phase threshold",
          "duration": 0.18135099999994964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "cold start thresholds"],
          "fullName": "ActionSpace Configuration cold start thresholds should define explore phase threshold",
          "status": "passed",
          "title": "should define explore phase threshold",
          "duration": 0.2206619999999475,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "cold start thresholds"],
          "fullName": "ActionSpace Configuration cold start thresholds should define classify trigger",
          "status": "passed",
          "title": "should define classify trigger",
          "duration": 0.3497099999999591,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "cold start thresholds"],
          "fullName": "ActionSpace Configuration cold start thresholds should define early stop config",
          "status": "passed",
          "title": "should define early stop config",
          "duration": 6.971733000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "attention weights"],
          "fullName": "ActionSpace Configuration attention weights should define all attention weight factors",
          "status": "passed",
          "title": "should define all attention weight factors",
          "duration": 0.6741180000000213,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "attention weights"],
          "fullName": "ActionSpace Configuration attention weights should have focus_loss as highest positive weight",
          "status": "passed",
          "title": "should have focus_loss as highest positive weight",
          "duration": 0.4965539999999464,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "fatigue parameters"],
          "fullName": "ActionSpace Configuration fatigue parameters should define all fatigue model parameters",
          "status": "passed",
          "title": "should define all fatigue model parameters",
          "duration": 0.3154710000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "fatigue parameters"],
          "fullName": "ActionSpace Configuration fatigue parameters should have reasonable parameter ranges",
          "status": "passed",
          "title": "should have reasonable parameter ranges",
          "duration": 0.29026999999996406,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "motivation parameters"],
          "fullName": "ActionSpace Configuration motivation parameters should define all motivation model parameters",
          "status": "passed",
          "title": "should define all motivation model parameters",
          "duration": 0.24299100000007456,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "motivation parameters"],
          "fullName": "ActionSpace Configuration motivation parameters should have rho in valid decay range",
          "status": "passed",
          "title": "should have rho in valid decay range",
          "duration": 0.2645949999999857,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "perception config"],
          "fullName": "ActionSpace Configuration perception config should define RT statistics",
          "status": "passed",
          "title": "should define RT statistics",
          "duration": 0.20787399999994705,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "perception config"],
          "fullName": "ActionSpace Configuration perception config should define max limits",
          "status": "passed",
          "title": "should define max limits",
          "duration": 0.203995999999961,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "reward weights"],
          "fullName": "ActionSpace Configuration reward weights should define all reward weight factors",
          "status": "passed",
          "title": "should define all reward weight factors",
          "duration": 0.3128120000000081,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "reward weights"],
          "fullName": "ActionSpace Configuration reward weights should have correct as highest weight",
          "status": "passed",
          "title": "should have correct as highest weight",
          "duration": 0.26304400000003625,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "DEFAULT_STRATEGY"],
          "fullName": "ActionSpace Configuration DEFAULT_STRATEGY should define all strategy parameters",
          "status": "passed",
          "title": "should define all strategy parameters",
          "duration": 0.29318100000000413,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "DEFAULT_STRATEGY"],
          "fullName": "ActionSpace Configuration DEFAULT_STRATEGY should have balanced default values",
          "status": "passed",
          "title": "should have balanced default values",
          "duration": 0.35757300000000214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "COLD_START_STRATEGY"],
          "fullName": "ActionSpace Configuration COLD_START_STRATEGY should define all strategy parameters",
          "status": "passed",
          "title": "should define all strategy parameters",
          "duration": 0.6515889999999445,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "COLD_START_STRATEGY"],
          "fullName": "ActionSpace Configuration COLD_START_STRATEGY should be more conservative than default",
          "status": "passed",
          "title": "should be more conservative than default",
          "duration": 0.566063999999983,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should contain expected number of actions",
          "status": "passed",
          "title": "should contain expected number of actions",
          "duration": 0.2751190000000179,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should have valid action structure for all actions",
          "status": "passed",
          "title": "should have valid action structure for all actions",
          "duration": 16.81770700000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should include conservative actions for low attention",
          "status": "passed",
          "title": "should include conservative actions for low attention",
          "duration": 0.2685700000000679,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should include challenging actions for high performers",
          "status": "passed",
          "title": "should include challenging actions for high performers",
          "duration": 0.17288599999994858,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should have diverse interval scales",
          "status": "passed",
          "title": "should have diverse interval scales",
          "duration": 0.14440200000001369,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should have diverse batch sizes",
          "status": "passed",
          "title": "should have diverse batch sizes",
          "duration": 0.140892000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "ACTION_SPACE"],
          "fullName": "ActionSpace Configuration ACTION_SPACE should have all difficulty levels",
          "status": "passed",
          "title": "should have all difficulty levels",
          "duration": 0.205180999999925,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getActionIndex"],
          "fullName": "ActionSpace Configuration getActionIndex should return correct index for existing action",
          "status": "passed",
          "title": "should return correct index for existing action",
          "duration": 0.2476410000000442,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getActionIndex"],
          "fullName": "ActionSpace Configuration getActionIndex should return -1 for non-existing action",
          "status": "passed",
          "title": "should return -1 for non-existing action",
          "duration": 0.1621189999999615,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getActionIndex"],
          "fullName": "ActionSpace Configuration getActionIndex should match exact action properties",
          "status": "passed",
          "title": "should match exact action properties",
          "duration": 1.8995199999999386,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getActionIndex"],
          "fullName": "ActionSpace Configuration getActionIndex should work for all actions in space",
          "status": "passed",
          "title": "should work for all actions in space",
          "duration": 10.325784999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getPriorAlpha"],
          "fullName": "ActionSpace Configuration getPriorAlpha should return lower alpha for classify phase",
          "status": "passed",
          "title": "should return lower alpha for classify phase",
          "duration": 0.20532800000000861,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getPriorAlpha"],
          "fullName": "ActionSpace Configuration getPriorAlpha should return higher alpha for explore phase with good performance",
          "status": "passed",
          "title": "should return higher alpha for explore phase with good performance",
          "duration": 0.1008439999999382,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getPriorAlpha"],
          "fullName": "ActionSpace Configuration getPriorAlpha should return lower alpha for explore phase with poor performance",
          "status": "passed",
          "title": "should return lower alpha for explore phase with poor performance",
          "duration": 0.09808199999997669,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getPriorAlpha"],
          "fullName": "ActionSpace Configuration getPriorAlpha should return moderate alpha for normal phase",
          "status": "passed",
          "title": "should return moderate alpha for normal phase",
          "duration": 0.10846400000002632,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getPriorAlpha"],
          "fullName": "ActionSpace Configuration getPriorAlpha should return default for unknown phase",
          "status": "passed",
          "title": "should return default for unknown phase",
          "duration": 1.0352639999999838,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "getPriorAlpha"],
          "fullName": "ActionSpace Configuration getPriorAlpha should encourage more exploration in explore phase with good performance",
          "status": "passed",
          "title": "should encourage more exploration in explore phase with good performance",
          "duration": 0.7771640000000843,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "action space coverage"],
          "fullName": "ActionSpace Configuration action space coverage should cover low to high interval scales",
          "status": "passed",
          "title": "should cover low to high interval scales",
          "duration": 1.557341000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "action space coverage"],
          "fullName": "ActionSpace Configuration action space coverage should cover conservative to aggressive new ratios",
          "status": "passed",
          "title": "should cover conservative to aggressive new ratios",
          "duration": 0.2979880000000321,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ActionSpace Configuration", "action space coverage"],
          "fullName": "ActionSpace Configuration action space coverage should include actions with hints enabled and disabled",
          "status": "passed",
          "title": "should include actions with hints enabled and disabled",
          "duration": 0.3697589999999309,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909937,
      "endTime": 1765615910004.3699,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/config/action-space.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["FeatureFlags", "DEFAULT_FEATURE_FLAGS"],
          "fullName": "FeatureFlags DEFAULT_FEATURE_FLAGS should have all features enabled by default",
          "status": "passed",
          "title": "should have all features enabled by default",
          "duration": 8.725769000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "initializeFeatureFlags"],
          "fullName": "FeatureFlags initializeFeatureFlags should initialize with default values",
          "status": "passed",
          "title": "should initialize with default values",
          "duration": 1.773535000000038,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "initializeFeatureFlags"],
          "fullName": "FeatureFlags initializeFeatureFlags should accept overrides",
          "status": "passed",
          "title": "should accept overrides",
          "duration": 0.3941179999999349,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "initializeFeatureFlags"],
          "fullName": "FeatureFlags initializeFeatureFlags should load from environment variables",
          "status": "passed",
          "title": "should load from environment variables",
          "duration": 2.0493609999999762,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "initializeFeatureFlags"],
          "fullName": "FeatureFlags initializeFeatureFlags should prioritize overrides over environment variables",
          "status": "passed",
          "title": "should prioritize overrides over environment variables",
          "duration": 2.0328269999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "initializeFeatureFlags"],
          "fullName": "FeatureFlags initializeFeatureFlags should parse various boolean string formats",
          "status": "passed",
          "title": "should parse various boolean string formats",
          "duration": 0.9744010000000571,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "initializeFeatureFlags"],
          "fullName": "FeatureFlags initializeFeatureFlags should ignore invalid environment variable values",
          "status": "passed",
          "title": "should ignore invalid environment variable values",
          "duration": 0.2913810000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getFeatureFlags"],
          "fullName": "FeatureFlags getFeatureFlags should return current feature flags",
          "status": "passed",
          "title": "should return current feature flags",
          "duration": 0.5210140000000365,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getFeatureFlags"],
          "fullName": "FeatureFlags getFeatureFlags should reflect updates",
          "status": "passed",
          "title": "should reflect updates",
          "duration": 0.4762029999999413,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getFeatureFlags"],
          "fullName": "FeatureFlags getFeatureFlags should return readonly object",
          "status": "passed",
          "title": "should return readonly object",
          "duration": 1.230886000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "isFeatureEnabled"],
          "fullName": "FeatureFlags isFeatureEnabled should return true for enabled features",
          "status": "passed",
          "title": "should return true for enabled features",
          "duration": 0.28900500000008833,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "isFeatureEnabled"],
          "fullName": "FeatureFlags isFeatureEnabled should return false for disabled features",
          "status": "passed",
          "title": "should return false for disabled features",
          "duration": 0.18066500000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "isFeatureEnabled"],
          "fullName": "FeatureFlags isFeatureEnabled should work for all feature keys",
          "status": "passed",
          "title": "should work for all feature keys",
          "duration": 0.5867789999999786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "updateFeatureFlags"],
          "fullName": "FeatureFlags updateFeatureFlags should update single flag",
          "status": "passed",
          "title": "should update single flag",
          "duration": 0.19195400000000973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "updateFeatureFlags"],
          "fullName": "FeatureFlags updateFeatureFlags should update multiple flags",
          "status": "passed",
          "title": "should update multiple flags",
          "duration": 0.24026900000001206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "updateFeatureFlags"],
          "fullName": "FeatureFlags updateFeatureFlags should preserve unchanged flags",
          "status": "passed",
          "title": "should preserve unchanged flags",
          "duration": 0.20362600000009934,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "updateFeatureFlags"],
          "fullName": "FeatureFlags updateFeatureFlags should return new state",
          "status": "passed",
          "title": "should return new state",
          "duration": 0.18751000000008844,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "resetFeatureFlags"],
          "fullName": "FeatureFlags resetFeatureFlags should reset to default values",
          "status": "passed",
          "title": "should reset to default values",
          "duration": 0.27189799999996467,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isEnsembleEnabled should return correct value",
          "status": "passed",
          "title": "isEnsembleEnabled should return correct value",
          "duration": 0.2375809999999774,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isColdStartEnabled should return correct value",
          "status": "passed",
          "title": "isColdStartEnabled should return correct value",
          "duration": 0.19412899999997535,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isDelayedRewardAggregatorEnabled should return correct value",
          "status": "passed",
          "title": "isDelayedRewardAggregatorEnabled should return correct value",
          "duration": 5.622914999999921,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isCausalInferenceEnabled should return correct value",
          "status": "passed",
          "title": "isCausalInferenceEnabled should return correct value",
          "duration": 0.410570000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isBayesianOptimizerEnabled should return correct value",
          "status": "passed",
          "title": "isBayesianOptimizerEnabled should return correct value",
          "duration": 0.25248800000008487,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isTrendAnalyzerEnabled should return correct value",
          "status": "passed",
          "title": "isTrendAnalyzerEnabled should return correct value",
          "duration": 0.2664600000000519,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "convenience functions"],
          "fullName": "FeatureFlags convenience functions isUserParamsManagerEnabled should return correct value",
          "status": "passed",
          "title": "isUserParamsManagerEnabled should return correct value",
          "duration": 0.7214109999999891,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getEnsembleLearnerFlags"],
          "fullName": "FeatureFlags getEnsembleLearnerFlags should return ensemble learner states",
          "status": "passed",
          "title": "should return ensemble learner states",
          "duration": 0.43827600000008715,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getEnsembleLearnerFlags"],
          "fullName": "FeatureFlags getEnsembleLearnerFlags should reflect individual learner settings",
          "status": "passed",
          "title": "should reflect individual learner settings",
          "duration": 0.2171730000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "hasEvaluationModulesEnabled"],
          "fullName": "FeatureFlags hasEvaluationModulesEnabled should return true when any evaluation module is enabled",
          "status": "passed",
          "title": "should return true when any evaluation module is enabled",
          "duration": 0.15721100000007482,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "hasEvaluationModulesEnabled"],
          "fullName": "FeatureFlags hasEvaluationModulesEnabled should return true when only one is enabled",
          "status": "passed",
          "title": "should return true when only one is enabled",
          "duration": 0.13282500000002528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "hasEvaluationModulesEnabled"],
          "fullName": "FeatureFlags hasEvaluationModulesEnabled should return false when both are disabled",
          "status": "passed",
          "title": "should return false when both are disabled",
          "duration": 0.13277700000003279,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "hasAdvancedOptimizationEnabled"],
          "fullName": "FeatureFlags hasAdvancedOptimizationEnabled should return true when any advanced module is enabled",
          "status": "passed",
          "title": "should return true when any advanced module is enabled",
          "duration": 0.20862299999998868,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "hasAdvancedOptimizationEnabled"],
          "fullName": "FeatureFlags hasAdvancedOptimizationEnabled should return true when only one is enabled",
          "status": "passed",
          "title": "should return true when only one is enabled",
          "duration": 0.8383450000000039,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "hasAdvancedOptimizationEnabled"],
          "fullName": "FeatureFlags hasAdvancedOptimizationEnabled should return false when both are disabled",
          "status": "passed",
          "title": "should return false when both are disabled",
          "duration": 0.2375210000000152,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getFeatureFlagsSummary"],
          "fullName": "FeatureFlags getFeatureFlagsSummary should return formatted summary string",
          "status": "passed",
          "title": "should return formatted summary string",
          "duration": 0.42578900000000885,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getFeatureFlagsSummary"],
          "fullName": "FeatureFlags getFeatureFlagsSummary should list disabled features",
          "status": "passed",
          "title": "should list disabled features",
          "duration": 0.25456199999996443,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "getFeatureFlagsSummary"],
          "fullName": "FeatureFlags getFeatureFlagsSummary should count enabled and disabled correctly",
          "status": "passed",
          "title": "should count enabled and disabled correctly",
          "duration": 0.3922340000000304,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "exportFeatureFlagsAsJSON"],
          "fullName": "FeatureFlags exportFeatureFlagsAsJSON should export valid JSON",
          "status": "passed",
          "title": "should export valid JSON",
          "duration": 0.7272020000000339,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "exportFeatureFlagsAsJSON"],
          "fullName": "FeatureFlags exportFeatureFlagsAsJSON should reflect current state",
          "status": "passed",
          "title": "should reflect current state",
          "duration": 4.216209000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "exportFeatureFlagsAsJSON"],
          "fullName": "FeatureFlags exportFeatureFlagsAsJSON should be properly formatted",
          "status": "passed",
          "title": "should be properly formatted",
          "duration": 0.2734980000000178,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "edge cases"],
          "fullName": "FeatureFlags edge cases should handle empty overrides",
          "status": "passed",
          "title": "should handle empty overrides",
          "duration": 3.975221999999917,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "edge cases"],
          "fullName": "FeatureFlags edge cases should handle empty update",
          "status": "passed",
          "title": "should handle empty update",
          "duration": 0.2283509999999751,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureFlags", "edge cases"],
          "fullName": "FeatureFlags edge cases should handle empty environment variable",
          "status": "passed",
          "title": "should handle empty environment variable",
          "duration": 0.14236700000003566,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912490,
      "endTime": 1765615912534.1423,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/config/feature-flags.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["RewardProfiles", "REWARD_PROFILES"],
          "fullName": "RewardProfiles REWARD_PROFILES should define standard profile",
          "status": "passed",
          "title": "should define standard profile",
          "duration": 2.0734229999999343,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "REWARD_PROFILES"],
          "fullName": "RewardProfiles REWARD_PROFILES should define cram profile",
          "status": "passed",
          "title": "should define cram profile",
          "duration": 0.5301809999999705,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "REWARD_PROFILES"],
          "fullName": "RewardProfiles REWARD_PROFILES should define relaxed profile",
          "status": "passed",
          "title": "should define relaxed profile",
          "duration": 0.5134519999999156,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "REWARD_PROFILES"],
          "fullName": "RewardProfiles REWARD_PROFILES should have all required weight properties for each profile",
          "status": "passed",
          "title": "should have all required weight properties for each profile",
          "duration": 1.5833549999999832,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "REWARD_PROFILES"],
          "fullName": "RewardProfiles REWARD_PROFILES should have description for each profile",
          "status": "passed",
          "title": "should have description for each profile",
          "duration": 1.1151810000000069,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "standard profile"],
          "fullName": "RewardProfiles profile characteristics standard profile should balance all factors",
          "status": "passed",
          "title": "should balance all factors",
          "duration": 1.3478549999999814,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "cram profile"],
          "fullName": "RewardProfiles profile characteristics cram profile should emphasize correctness",
          "status": "passed",
          "title": "should emphasize correctness",
          "duration": 0.5106339999999818,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "cram profile"],
          "fullName": "RewardProfiles profile characteristics cram profile should reduce fatigue penalty",
          "status": "passed",
          "title": "should reduce fatigue penalty",
          "duration": 0.4227689999999029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "cram profile"],
          "fullName": "RewardProfiles profile characteristics cram profile should increase speed bonus",
          "status": "passed",
          "title": "should increase speed bonus",
          "duration": 0.3873119999999517,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "cram profile"],
          "fullName": "RewardProfiles profile characteristics cram profile should tolerate more frustration",
          "status": "passed",
          "title": "should tolerate more frustration",
          "duration": 0.4716610000000401,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "cram profile"],
          "fullName": "RewardProfiles profile characteristics cram profile should de-prioritize engagement",
          "status": "passed",
          "title": "should de-prioritize engagement",
          "duration": 0.16099099999996724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "relaxed profile"],
          "fullName": "RewardProfiles profile characteristics relaxed profile should reduce correctness pressure",
          "status": "passed",
          "title": "should reduce correctness pressure",
          "duration": 0.14468599999997878,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "relaxed profile"],
          "fullName": "RewardProfiles profile characteristics relaxed profile should maximize fatigue awareness",
          "status": "passed",
          "title": "should maximize fatigue awareness",
          "duration": 0.15341399999999794,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "relaxed profile"],
          "fullName": "RewardProfiles profile characteristics relaxed profile should minimize speed pressure",
          "status": "passed",
          "title": "should minimize speed pressure",
          "duration": 0.10636399999998503,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "relaxed profile"],
          "fullName": "RewardProfiles profile characteristics relaxed profile should maximize frustration avoidance",
          "status": "passed",
          "title": "should maximize frustration avoidance",
          "duration": 0.07697199999995519,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile characteristics", "relaxed profile"],
          "fullName": "RewardProfiles profile characteristics relaxed profile should prioritize engagement",
          "status": "passed",
          "title": "should prioritize engagement",
          "duration": 0.06854599999996935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return standard profile by default",
          "status": "passed",
          "title": "should return standard profile by default",
          "duration": 0.10539100000005419,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return standard profile for undefined",
          "status": "passed",
          "title": "should return standard profile for undefined",
          "duration": 0.070671999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return standard profile by name",
          "status": "passed",
          "title": "should return standard profile by name",
          "duration": 0.5045470000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return cram profile by name",
          "status": "passed",
          "title": "should return cram profile by name",
          "duration": 0.12002600000005259,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return relaxed profile by name",
          "status": "passed",
          "title": "should return relaxed profile by name",
          "duration": 0.08866100000000188,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return standard profile for invalid id",
          "status": "passed",
          "title": "should return standard profile for invalid id",
          "duration": 0.06337399999995341,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "getRewardProfile"],
          "fullName": "RewardProfiles getRewardProfile should return standard profile for empty string",
          "status": "passed",
          "title": "should return standard profile for empty string",
          "duration": 0.19910400000003392,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "isValidProfileId"],
          "fullName": "RewardProfiles isValidProfileId should return true for standard",
          "status": "passed",
          "title": "should return true for standard",
          "duration": 0.43715099999997165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "isValidProfileId"],
          "fullName": "RewardProfiles isValidProfileId should return true for cram",
          "status": "passed",
          "title": "should return true for cram",
          "duration": 0.3238929999999982,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "isValidProfileId"],
          "fullName": "RewardProfiles isValidProfileId should return true for relaxed",
          "status": "passed",
          "title": "should return true for relaxed",
          "duration": 1.328775999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "isValidProfileId"],
          "fullName": "RewardProfiles isValidProfileId should return false for invalid id",
          "status": "passed",
          "title": "should return false for invalid id",
          "duration": 0.2856050000000323,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "isValidProfileId"],
          "fullName": "RewardProfiles isValidProfileId should return false for empty string",
          "status": "passed",
          "title": "should return false for empty string",
          "duration": 0.20141499999999724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "isValidProfileId"],
          "fullName": "RewardProfiles isValidProfileId should return false for similar but incorrect ids",
          "status": "passed",
          "title": "should return false for similar but incorrect ids",
          "duration": 0.4742880000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "weight constraints"],
          "fullName": "RewardProfiles weight constraints should have all positive weights",
          "status": "passed",
          "title": "should have all positive weights",
          "duration": 0.8873300000000199,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "weight constraints"],
          "fullName": "RewardProfiles weight constraints should have weights in reasonable range",
          "status": "passed",
          "title": "should have weights in reasonable range",
          "duration": 1.0964109999999891,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "use cases"],
          "fullName": "RewardProfiles use cases cram profile should optimize for exam preparation",
          "status": "passed",
          "title": "cram profile should optimize for exam preparation",
          "duration": 0.23595299999999497,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "use cases"],
          "fullName": "RewardProfiles use cases relaxed profile should optimize for sustainable learning",
          "status": "passed",
          "title": "relaxed profile should optimize for sustainable learning",
          "duration": 0.15009499999996478,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "use cases"],
          "fullName": "RewardProfiles use cases standard profile should be balanced",
          "status": "passed",
          "title": "standard profile should be balanced",
          "duration": 0.18511499999999614,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile comparison"],
          "fullName": "RewardProfiles profile comparison profiles should have different characteristics",
          "status": "passed",
          "title": "profiles should have different characteristics",
          "duration": 0.5282610000000432,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["RewardProfiles", "profile comparison"],
          "fullName": "RewardProfiles profile comparison cram and relaxed should be opposite in key aspects",
          "status": "passed",
          "title": "cram and relaxed should be opposite in key aspects",
          "duration": 0.21756699999991724,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615914024,
      "endTime": 1765615914045.5283,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/config/reward-profiles.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["UserParamsManager", "initialization"],
          "fullName": "UserParamsManager initialization should initialize with empty user map",
          "status": "passed",
          "title": "should initialize with empty user map",
          "duration": 4.730521999999951,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "initialization"],
          "fullName": "UserParamsManager initialization should accept custom config",
          "status": "passed",
          "title": "should accept custom config",
          "duration": 8.730096000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getParams"],
          "fullName": "UserParamsManager getParams should return default params for new user",
          "status": "passed",
          "title": "should return default params for new user",
          "duration": 0.9260359999999537,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getParams"],
          "fullName": "UserParamsManager getParams should return stored params for existing user",
          "status": "passed",
          "title": "should return stored params for existing user",
          "duration": 0.9606160000000727,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getParams"],
          "fullName": "UserParamsManager getParams should return copy of params",
          "status": "passed",
          "title": "should return copy of params",
          "duration": 1.1510529999999335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getState"],
          "fullName": "UserParamsManager getState should return null for new user",
          "status": "passed",
          "title": "should return null for new user",
          "duration": 1.343533999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getState"],
          "fullName": "UserParamsManager getState should return state for existing user",
          "status": "passed",
          "title": "should return state for existing user",
          "duration": 3.1017460000000483,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "setParams"],
          "fullName": "UserParamsManager setParams should set single parameter",
          "status": "passed",
          "title": "should set single parameter",
          "duration": 1.8015980000000127,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "setParams"],
          "fullName": "UserParamsManager setParams should set multiple parameters",
          "status": "passed",
          "title": "should set multiple parameters",
          "duration": 0.8922249999999394,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "setParams"],
          "fullName": "UserParamsManager setParams should clamp values to valid range",
          "status": "passed",
          "title": "should clamp values to valid range",
          "duration": 0.44899199999997563,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "setParams"],
          "fullName": "UserParamsManager setParams should create new user if not exists",
          "status": "passed",
          "title": "should create new user if not exists",
          "duration": 0.3148520000000872,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "updateParams"],
          "fullName": "UserParamsManager updateParams should update based on feedback",
          "status": "passed",
          "title": "should update based on feedback",
          "duration": 0.45120300000007774,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "updateParams"],
          "fullName": "UserParamsManager updateParams should update performance tracker",
          "status": "passed",
          "title": "should update performance tracker",
          "duration": 0.4188850000000457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "updateParams"],
          "fullName": "UserParamsManager updateParams should respect minUpdateInterval",
          "status": "passed",
          "title": "should respect minUpdateInterval",
          "duration": 0.40004799999996976,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "updateParams"],
          "fullName": "UserParamsManager updateParams should allow update after interval passes",
          "status": "passed",
          "title": "should allow update after interval passes",
          "duration": 0.8202479999999923,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "auto-adjustment"],
          "fullName": "UserParamsManager auto-adjustment should increase difficulty when accuracy is high and fatigue is recovering",
          "status": "passed",
          "title": "should increase difficulty when accuracy is high and fatigue is recovering",
          "duration": 0.8996210000000247,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "auto-adjustment"],
          "fullName": "UserParamsManager auto-adjustment should decrease difficulty when accuracy is low",
          "status": "passed",
          "title": "should decrease difficulty when accuracy is low",
          "duration": 0.6820370000000366,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "auto-adjustment"],
          "fullName": "UserParamsManager auto-adjustment should not adjust when auto-adjust is disabled",
          "status": "passed",
          "title": "should not adjust when auto-adjust is disabled",
          "duration": 0.623644000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "resetParams"],
          "fullName": "UserParamsManager resetParams should reset user to default params",
          "status": "passed",
          "title": "should reset user to default params",
          "duration": 1.6340759999999364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "batchUpdate"],
          "fullName": "UserParamsManager batchUpdate should update multiple users",
          "status": "passed",
          "title": "should update multiple users",
          "duration": 12.314684000000057,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "removeUser"],
          "fullName": "UserParamsManager removeUser should remove user data",
          "status": "passed",
          "title": "should remove user data",
          "duration": 0.8199779999999919,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "removeUser"],
          "fullName": "UserParamsManager removeUser should return false for non-existing user",
          "status": "passed",
          "title": "should return false for non-existing user",
          "duration": 0.5757620000000543,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "user management"],
          "fullName": "UserParamsManager user management should return all user IDs",
          "status": "passed",
          "title": "should return all user IDs",
          "duration": 1.653071999999952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "user management"],
          "fullName": "UserParamsManager user management should return correct user count",
          "status": "passed",
          "title": "should return correct user count",
          "duration": 0.6953159999999343,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "export and import"],
          "fullName": "UserParamsManager export and import should export all state",
          "status": "passed",
          "title": "should export all state",
          "duration": 0.5665840000000344,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "export and import"],
          "fullName": "UserParamsManager export and import should import all state",
          "status": "passed",
          "title": "should import all state",
          "duration": 0.738495999999941,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "export and import"],
          "fullName": "UserParamsManager export and import should export single user",
          "status": "passed",
          "title": "should export single user",
          "duration": 0.5848439999999755,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "export and import"],
          "fullName": "UserParamsManager export and import should return null for non-existing user export",
          "status": "passed",
          "title": "should return null for non-existing user export",
          "duration": 0.6187459999999874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "export and import"],
          "fullName": "UserParamsManager export and import should import single user",
          "status": "passed",
          "title": "should import single user",
          "duration": 1.2306300000000192,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "export and import"],
          "fullName": "UserParamsManager export and import should reject invalid state on import",
          "status": "passed",
          "title": "should reject invalid state on import",
          "duration": 3.0017970000000105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getStatsSummary"],
          "fullName": "UserParamsManager getStatsSummary should return empty stats when no users",
          "status": "passed",
          "title": "should return empty stats when no users",
          "duration": 0.7527169999999614,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getStatsSummary"],
          "fullName": "UserParamsManager getStatsSummary should return aggregate statistics",
          "status": "passed",
          "title": "should return aggregate statistics",
          "duration": 0.600639000000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "getStatsSummary"],
          "fullName": "UserParamsManager getStatsSummary should calculate standard deviation",
          "status": "passed",
          "title": "should calculate standard deviation",
          "duration": 0.5061449999999468,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "cleanup"],
          "fullName": "UserParamsManager cleanup should remove expired users on cleanup",
          "status": "passed",
          "title": "should remove expired users on cleanup",
          "duration": 0.8089650000000574,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "cleanup"],
          "fullName": "UserParamsManager cleanup should enforce maxUsers limit",
          "status": "passed",
          "title": "should enforce maxUsers limit",
          "duration": 0.6937110000000075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "async methods"],
          "fullName": "UserParamsManager async methods should update params asynchronously",
          "status": "passed",
          "title": "should update params asynchronously",
          "duration": 0.7951499999999214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["UserParamsManager", "async methods"],
          "fullName": "UserParamsManager async methods should set params asynchronously",
          "status": "passed",
          "title": "should set params asynchronously",
          "duration": 0.5612429999999904,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getParamBounds"],
          "fullName": "getParamBounds should return parameter bounds",
          "status": "passed",
          "title": "should return parameter bounds",
          "duration": 5.146346000000108,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getParamBounds"],
          "fullName": "getParamBounds should have valid ranges",
          "status": "passed",
          "title": "should have valid ranges",
          "duration": 0.34926800000005187,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getDefaultParams"],
          "fullName": "getDefaultParams should return default parameters",
          "status": "passed",
          "title": "should return default parameters",
          "duration": 0.348165999999992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getDefaultParams"],
          "fullName": "getDefaultParams should have default alpha of 1.0",
          "status": "passed",
          "title": "should have default alpha of 1.0",
          "duration": 0.16108799999994972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validateParams"],
          "fullName": "validateParams should return empty array for valid params",
          "status": "passed",
          "title": "should return empty array for valid params",
          "duration": 0.26089300000001003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validateParams"],
          "fullName": "validateParams should return error for out-of-range alpha",
          "status": "passed",
          "title": "should return error for out-of-range alpha",
          "duration": 0.19740899999999328,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validateParams"],
          "fullName": "validateParams should return error for out-of-range fatigueK",
          "status": "passed",
          "title": "should return error for out-of-range fatigueK",
          "duration": 0.20815700000002835,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validateParams"],
          "fullName": "validateParams should return multiple errors for multiple violations",
          "status": "passed",
          "title": "should return multiple errors for multiple violations",
          "duration": 0.16119599999990442,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["validateParams"],
          "fullName": "validateParams should ignore undefined params",
          "status": "passed",
          "title": "should ignore undefined params",
          "duration": 0.16512300000010782,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908142,
      "endTime": 1765615908212.165,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/config/user-params.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该返回有效的决策结果",
          "status": "passed",
          "title": "应该返回有效的决策结果",
          "duration": 9.156496999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该在多个动作中选择最优的",
          "status": "passed",
          "title": "应该在多个动作中选择最优的",
          "duration": 2.9367260000000215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该缓存 UserState 用于后续更新",
          "status": "passed",
          "title": "应该缓存 UserState 用于后续更新",
          "duration": 6.739512999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该包含当前阶段信息",
          "status": "passed",
          "title": "应该包含当前阶段信息",
          "duration": 2.7706909999999425,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该包含学习器权重信息",
          "status": "passed",
          "title": "应该包含学习器权重信息",
          "duration": 0.5625799999999117,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该处理算法异常并返回默认动作",
          "status": "passed",
          "title": "应该处理算法异常并返回默认动作",
          "duration": 1.5542829999999412,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "selectAction"],
          "fullName": "EnsembleAdapter selectAction 应该基于用户状态生成合理的解释",
          "status": "passed",
          "title": "应该基于用户状态生成合理的解释",
          "duration": 1.0487100000000282,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "updateModel"],
          "fullName": "EnsembleAdapter updateModel 应该使用缓存的 UserState 进行更新",
          "status": "passed",
          "title": "应该使用缓存的 UserState 进行更新",
          "duration": 8.635752000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "updateModel"],
          "fullName": "EnsembleAdapter updateModel 应该正确处理不同的 reward 值",
          "status": "passed",
          "title": "应该正确处理不同的 reward 值",
          "duration": 12.083814000000075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "updateModel"],
          "fullName": "EnsembleAdapter updateModel 应该在没有缓存状态时使用虚拟状态",
          "status": "passed",
          "title": "应该在没有缓存状态时使用虚拟状态",
          "duration": 6.829063999999903,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "updateModel"],
          "fullName": "EnsembleAdapter updateModel 应该在更新后清空缓存的状态",
          "status": "passed",
          "title": "应该在更新后清空缓存的状态",
          "duration": 1.893560999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "updateModel"],
          "fullName": "EnsembleAdapter updateModel 应该处理更新错误并记录日志",
          "status": "passed",
          "title": "应该处理更新错误并记录日志",
          "duration": 1.5511439999999084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "集成测试：选择和更新循环"],
          "fullName": "EnsembleAdapter 集成测试：选择和更新循环 应该能够完成完整的选择-更新循环",
          "status": "passed",
          "title": "应该能够完成完整的选择-更新循环",
          "duration": 4.408755999999926,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "集成测试：选择和更新循环"],
          "fullName": "EnsembleAdapter 集成测试：选择和更新循环 多次更新应该影响冷启动进度",
          "status": "passed",
          "title": "多次更新应该影响冷启动进度",
          "duration": 15.314323000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "集成测试：选择和更新循环"],
          "fullName": "EnsembleAdapter 集成测试：选择和更新循环 应该正确处理多种动作的探索和利用",
          "status": "passed",
          "title": "应该正确处理多种动作的探索和利用",
          "duration": 3.102739999999926,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "集成测试：选择和更新循环"],
          "fullName": "EnsembleAdapter 集成测试：选择和更新循环 应该在冷启动阶段使用不同的策略",
          "status": "passed",
          "title": "应该在冷启动阶段使用不同的策略",
          "duration": 18.674121000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "冷启动管理"],
          "fullName": "EnsembleAdapter 冷启动管理 应该正确报告冷启动阶段",
          "status": "passed",
          "title": "应该正确报告冷启动阶段",
          "duration": 0.6135510000000295,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "冷启动管理"],
          "fullName": "EnsembleAdapter 冷启动管理 应该跟踪冷启动进度",
          "status": "passed",
          "title": "应该跟踪冷启动进度",
          "duration": 0.44195299999989857,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "冷启动管理"],
          "fullName": "EnsembleAdapter 冷启动管理 应该正确报告是否完成冷启动",
          "status": "passed",
          "title": "应该正确报告是否完成冷启动",
          "duration": 0.343625999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "冷启动管理"],
          "fullName": "EnsembleAdapter 冷启动管理 应该在足够的交互后完成冷启动",
          "status": "passed",
          "title": "应该在足够的交互后完成冷启动",
          "duration": 10.16578699999991,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "学习器权重管理"],
          "fullName": "EnsembleAdapter 学习器权重管理 应该能够获取当前权重",
          "status": "passed",
          "title": "应该能够获取当前权重",
          "duration": 1.0192690000000084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "学习器权重管理"],
          "fullName": "EnsembleAdapter 学习器权重管理 权重应该随着学习而变化",
          "status": "passed",
          "title": "权重应该随着学习而变化",
          "duration": 2.1198850000000675,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "配置和状态管理"],
          "fullName": "EnsembleAdapter 配置和状态管理 应该支持复用现有的 Ensemble 实例",
          "status": "passed",
          "title": "应该支持复用现有的 Ensemble 实例",
          "duration": 1.046961999999894,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "配置和状态管理"],
          "fullName": "EnsembleAdapter 配置和状态管理 应该能够重置模型",
          "status": "passed",
          "title": "应该能够重置模型",
          "duration": 1.6240040000000135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "配置和状态管理"],
          "fullName": "EnsembleAdapter 配置和状态管理 应该在重置时清空缓存的状态",
          "status": "passed",
          "title": "应该在重置时清空缓存的状态",
          "duration": 3.694697000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "接口实现"],
          "fullName": "EnsembleAdapter 接口实现 应该返回正确的策略名称和版本",
          "status": "passed",
          "title": "应该返回正确的策略名称和版本",
          "duration": 0.6625880000000279,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "接口实现"],
          "fullName": "EnsembleAdapter 接口实现 应该提供对底层 Ensemble 实例的访问",
          "status": "passed",
          "title": "应该提供对底层 Ensemble 实例的访问",
          "duration": 0.6068649999999707,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "边界情况"],
          "fullName": "EnsembleAdapter 边界情况 应该处理空的 features 数组",
          "status": "passed",
          "title": "应该处理空的 features 数组",
          "duration": 0.46139800000003106,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "边界情况"],
          "fullName": "EnsembleAdapter 边界情况 应该处理单个动作的情况",
          "status": "passed",
          "title": "应该处理单个动作的情况",
          "duration": 0.4453280000000177,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "边界情况"],
          "fullName": "EnsembleAdapter 边界情况 应该处理极端的用户状态值",
          "status": "passed",
          "title": "应该处理极端的用户状态值",
          "duration": 0.4646260000000666,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "边界情况"],
          "fullName": "EnsembleAdapter 边界情况 应该处理极端的上下文值",
          "status": "passed",
          "title": "应该处理极端的上下文值",
          "duration": 0.37635999999997694,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "边界情况"],
          "fullName": "EnsembleAdapter 边界情况 应该处理极端的奖励值",
          "status": "passed",
          "title": "应该处理极端的奖励值",
          "duration": 8.199873000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "解释生成"],
          "fullName": "EnsembleAdapter 解释生成 应该基于阶段生成合适的解释",
          "status": "passed",
          "title": "应该基于阶段生成合适的解释",
          "duration": 0.69036600000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleAdapter", "解释生成"],
          "fullName": "EnsembleAdapter 解释生成 应该在解释中包含动作参数信息",
          "status": "passed",
          "title": "应该在解释中包含动作参数信息",
          "duration": 0.6577829999999949,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907034,
      "endTime": 1765615907167.6904,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/adapters/ensemble-adapter.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LinUCBAdapter", "updateModel"],
          "fullName": "LinUCBAdapter updateModel 应该使用传入的 features 参数而不是重新构建",
          "status": "failed",
          "title": "应该使用传入的 features 参数而不是重新构建",
          "duration": 10.411144000000036,
          "failureMessages": [
            "AssertionError: expected \"updateWithFeatureVector\" to be called with arguments: [ …(2) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st updateWithFeatureVector call:\n\n\u001b[22m\u001b[33m@@ -1,7 +1,7 @@\u001b[90m\n\u001b[2m  [\u001b[22m\n\u001b[32m-   [\u001b[90m\n\u001b[31m+   Float32Array [\u001b[90m\n\u001b[2m      0.5,\u001b[22m\n\u001b[2m      0.5,\u001b[22m\n\u001b[2m      0.5,\u001b[22m\n\u001b[2m      0.5,\u001b[22m\n\u001b[2m      0.5,\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/adapters/linucb-adapter.test.ts:66:25\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "updateModel"],
          "fullName": "LinUCBAdapter updateModel 应该正确处理不同的 reward 值",
          "status": "failed",
          "title": "应该正确处理不同的 reward 值",
          "duration": 2.2465779999999995,
          "failureMessages": [
            "AssertionError: expected last \"updateWithFeatureVector\" call to have been called with [ …(2) ]\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/adapters/linucb-adapter.test.ts:78:25\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "updateModel"],
          "fullName": "LinUCBAdapter updateModel 应该处理更新错误并记录日志",
          "status": "passed",
          "title": "应该处理更新错误并记录日志",
          "duration": 2.0600200000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "selectAction"],
          "fullName": "LinUCBAdapter selectAction 应该返回有效的决策结果",
          "status": "passed",
          "title": "应该返回有效的决策结果",
          "duration": 1.9229350000000522,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "selectAction"],
          "fullName": "LinUCBAdapter selectAction 应该在多个动作中选择最优的",
          "status": "passed",
          "title": "应该在多个动作中选择最优的",
          "duration": 0.8555479999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "集成测试：选择和更新循环"],
          "fullName": "LinUCBAdapter 集成测试：选择和更新循环 应该能够完成完整的选择-更新循环",
          "status": "passed",
          "title": "应该能够完成完整的选择-更新循环",
          "duration": 2.5585820000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "集成测试：选择和更新循环"],
          "fullName": "LinUCBAdapter 集成测试：选择和更新循环 更新应该影响后续的动作选择",
          "status": "passed",
          "title": "更新应该影响后续的动作选择",
          "duration": 2.4748969999999417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "模型状态管理"],
          "fullName": "LinUCBAdapter 模型状态管理 应该能够获取和设置探索系数",
          "status": "passed",
          "title": "应该能够获取和设置探索系数",
          "duration": 0.4199709999999186,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "模型状态管理"],
          "fullName": "LinUCBAdapter 模型状态管理 应该能够重置模型",
          "status": "passed",
          "title": "应该能够重置模型",
          "duration": 2.8402429999999868,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "接口实现"],
          "fullName": "LinUCBAdapter 接口实现 应该返回正确的策略名称和版本",
          "status": "passed",
          "title": "应该返回正确的策略名称和版本",
          "duration": 0.4526050000000623,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAdapter", "接口实现"],
          "fullName": "LinUCBAdapter 接口实现 应该提供对底层 LinUCB 实例的访问",
          "status": "passed",
          "title": "应该提供对底层 LinUCB 实例的访问",
          "duration": 0.4294840000000022,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901036,
      "endTime": 1765615901063.4526,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/adapters/linucb-adapter.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ThompsonAdapter", "selectAction"],
          "fullName": "ThompsonAdapter selectAction 应该返回有效的决策结果",
          "status": "passed",
          "title": "应该返回有效的决策结果",
          "duration": 5.570132000000058,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "selectAction"],
          "fullName": "ThompsonAdapter selectAction 应该在多个动作中选择最优的",
          "status": "passed",
          "title": "应该在多个动作中选择最优的",
          "duration": 0.7846490000000585,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "selectAction"],
          "fullName": "ThompsonAdapter selectAction 应该缓存 UserState 用于后续更新",
          "status": "passed",
          "title": "应该缓存 UserState 用于后续更新",
          "duration": 0.8443549999999505,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "selectAction"],
          "fullName": "ThompsonAdapter selectAction 应该处理算法异常并返回默认动作",
          "status": "passed",
          "title": "应该处理算法异常并返回默认动作",
          "duration": 4.815449999999942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "selectAction"],
          "fullName": "ThompsonAdapter selectAction 应该基于用户状态生成合理的解释",
          "status": "passed",
          "title": "应该基于用户状态生成合理的解释",
          "duration": 1.1147059999999556,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "updateModel"],
          "fullName": "ThompsonAdapter updateModel 应该使用缓存的 UserState 进行更新",
          "status": "passed",
          "title": "应该使用缓存的 UserState 进行更新",
          "duration": 4.506849999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "updateModel"],
          "fullName": "ThompsonAdapter updateModel 应该正确处理不同的 reward 值",
          "status": "passed",
          "title": "应该正确处理不同的 reward 值",
          "duration": 1.1050290000000587,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "updateModel"],
          "fullName": "ThompsonAdapter updateModel 应该在没有缓存状态时使用默认状态",
          "status": "passed",
          "title": "应该在没有缓存状态时使用默认状态",
          "duration": 6.741252000000031,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "updateModel"],
          "fullName": "ThompsonAdapter updateModel 应该处理更新错误并记录日志",
          "status": "passed",
          "title": "应该处理更新错误并记录日志",
          "duration": 1.7304050000000188,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "集成测试：选择和更新循环"],
          "fullName": "ThompsonAdapter 集成测试：选择和更新循环 应该能够完成完整的选择-更新循环",
          "status": "passed",
          "title": "应该能够完成完整的选择-更新循环",
          "duration": 0.6670329999999467,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "集成测试：选择和更新循环"],
          "fullName": "ThompsonAdapter 集成测试：选择和更新循环 多次更新应该影响后续的动作选择",
          "status": "passed",
          "title": "多次更新应该影响后续的动作选择",
          "duration": 0.889363000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "集成测试：选择和更新循环"],
          "fullName": "ThompsonAdapter 集成测试：选择和更新循环 应该正确处理多种动作的探索和利用",
          "status": "passed",
          "title": "应该正确处理多种动作的探索和利用",
          "duration": 0.7804859999999962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "配置和状态管理"],
          "fullName": "ThompsonAdapter 配置和状态管理 应该支持自定义 Thompson Sampling 选项",
          "status": "passed",
          "title": "应该支持自定义 Thompson Sampling 选项",
          "duration": 0.28539899999998397,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "配置和状态管理"],
          "fullName": "ThompsonAdapter 配置和状态管理 应该支持复用现有的 Thompson Sampling 实例",
          "status": "passed",
          "title": "应该支持复用现有的 Thompson Sampling 实例",
          "duration": 8.14489900000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "配置和状态管理"],
          "fullName": "ThompsonAdapter 配置和状态管理 应该能够获取动作的期望奖励",
          "status": "passed",
          "title": "应该能够获取动作的期望奖励",
          "duration": 0.46745900000007623,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "配置和状态管理"],
          "fullName": "ThompsonAdapter 配置和状态管理 应该能够获取动作的样本量",
          "status": "passed",
          "title": "应该能够获取动作的样本量",
          "duration": 0.3286200000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "配置和状态管理"],
          "fullName": "ThompsonAdapter 配置和状态管理 应该能够重置模型",
          "status": "passed",
          "title": "应该能够重置模型",
          "duration": 0.38233200000001943,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "接口实现"],
          "fullName": "ThompsonAdapter 接口实现 应该返回正确的策略名称和版本",
          "status": "passed",
          "title": "应该返回正确的策略名称和版本",
          "duration": 0.23196999999993295,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "接口实现"],
          "fullName": "ThompsonAdapter 接口实现 应该提供对底层 ThompsonSampling 实例的访问",
          "status": "passed",
          "title": "应该提供对底层 ThompsonSampling 实例的访问",
          "duration": 0.24026100000003225,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "边界情况"],
          "fullName": "ThompsonAdapter 边界情况 应该处理空的 features 数组",
          "status": "passed",
          "title": "应该处理空的 features 数组",
          "duration": 0.18808799999999337,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "边界情况"],
          "fullName": "ThompsonAdapter 边界情况 应该处理单个动作的情况",
          "status": "passed",
          "title": "应该处理单个动作的情况",
          "duration": 0.1431719999999359,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "边界情况"],
          "fullName": "ThompsonAdapter 边界情况 应该处理极端的用户状态值",
          "status": "passed",
          "title": "应该处理极端的用户状态值",
          "duration": 0.2721010000000206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonAdapter", "边界情况"],
          "fullName": "ThompsonAdapter 边界情况 应该处理极端的上下文值",
          "status": "passed",
          "title": "应该处理极端的上下文值",
          "duration": 0.27906499999994594,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907402,
      "endTime": 1765615907444.279,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/adapters/thompson-adapter.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["OfflineLoop", "initialization"],
          "fullName": "OfflineLoop initialization 应该成功创建实例",
          "status": "passed",
          "title": "应该成功创建实例",
          "duration": 2.493421000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "initialization"],
          "fullName": "OfflineLoop initialization 应该接受自定义配置",
          "status": "passed",
          "title": "应该接受自定义配置",
          "duration": 0.6251039999999648,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "initialization"],
          "fullName": "OfflineLoop initialization 应该初始化时队列为空",
          "status": "passed",
          "title": "应该初始化时队列为空",
          "duration": 1.2510320000000092,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "addReward"],
          "fullName": "OfflineLoop addReward 应该成功添加奖励到队列",
          "status": "passed",
          "title": "应该成功添加奖励到队列",
          "duration": 3.8395140000000083,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "addReward"],
          "fullName": "OfflineLoop addReward 应该能添加多个奖励",
          "status": "passed",
          "title": "应该能添加多个奖励",
          "duration": 2.635210000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "addReward"],
          "fullName": "OfflineLoop addReward 应该支持添加带有特征向量的奖励",
          "status": "passed",
          "title": "应该支持添加带有特征向量的奖励",
          "duration": 1.0292309999999816,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "addReward"],
          "fullName": "OfflineLoop addReward 应该支持添加带有时间戳的奖励",
          "status": "passed",
          "title": "应该支持添加带有时间戳的奖励",
          "duration": 0.6119660000000522,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "queue management"],
          "fullName": "OfflineLoop queue management 应该能获取队列状态",
          "status": "passed",
          "title": "应该能获取队列状态",
          "duration": 0.658828000000085,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "queue management"],
          "fullName": "OfflineLoop queue management 应该能清空整个队列",
          "status": "passed",
          "title": "应该能清空整个队列",
          "duration": 6.236283999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "queue management"],
          "fullName": "OfflineLoop queue management 应该能清空特定用户的队列",
          "status": "passed",
          "title": "应该能清空特定用户的队列",
          "duration": 0.8157600000000684,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "processOnce"],
          "fullName": "OfflineLoop processOnce 队列为空时应该返回零统计",
          "status": "passed",
          "title": "队列为空时应该返回零统计",
          "duration": 1.0278129999999237,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "processOnce"],
          "fullName": "OfflineLoop processOnce 应该成功处理队列中的奖励",
          "status": "passed",
          "title": "应该成功处理队列中的奖励",
          "duration": 2.6421609999999873,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "processOnce"],
          "fullName": "OfflineLoop processOnce 应该过滤低质量奖励",
          "status": "passed",
          "title": "应该过滤低质量奖励",
          "duration": 0.7596509999999626,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "processOnce"],
          "fullName": "OfflineLoop processOnce 应该接受负奖励（学习信号）",
          "status": "passed",
          "title": "应该接受负奖励（学习信号）",
          "duration": 5.615827999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "processOnce"],
          "fullName": "OfflineLoop processOnce 应该过滤高疲劳度用户",
          "status": "passed",
          "title": "应该过滤高疲劳度用户",
          "duration": 0.6663529999999582,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "processOnce"],
          "fullName": "OfflineLoop processOnce 应该能处理多个用户的奖励",
          "status": "passed",
          "title": "应该能处理多个用户的奖励",
          "duration": 0.8443160000000489,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "DelayedRewardProcessor"],
          "fullName": "OfflineLoop DelayedRewardProcessor 应该成功添加奖励",
          "status": "passed",
          "title": "应该成功添加奖励",
          "duration": 0.31568700000002536,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "DelayedRewardProcessor"],
          "fullName": "OfflineLoop DelayedRewardProcessor 应该能聚合即将发放的奖励",
          "status": "passed",
          "title": "应该能聚合即将发放的奖励",
          "duration": 0.3233710000000656,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "DelayedRewardProcessor"],
          "fullName": "OfflineLoop DelayedRewardProcessor 应该能获取待处理事件数",
          "status": "passed",
          "title": "应该能获取待处理事件数",
          "duration": 0.1986379999999599,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "DelayedRewardProcessor"],
          "fullName": "OfflineLoop DelayedRewardProcessor 应该能获取特定用户的待处理事件数",
          "status": "passed",
          "title": "应该能获取特定用户的待处理事件数",
          "duration": 0.20058899999992263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "DelayedRewardProcessor"],
          "fullName": "OfflineLoop DelayedRewardProcessor 应该能清空队列",
          "status": "passed",
          "title": "应该能清空队列",
          "duration": 0.21776999999997315,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "DelayedRewardProcessor"],
          "fullName": "OfflineLoop DelayedRewardProcessor 应该支持状态持久化和恢复",
          "status": "passed",
          "title": "应该支持状态持久化和恢复",
          "duration": 0.5403519999999844,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "RewardEvaluator"],
          "fullName": "OfflineLoop RewardEvaluator 应该通过高质量正奖励",
          "status": "passed",
          "title": "应该通过高质量正奖励",
          "duration": 0.4009130000000596,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "RewardEvaluator"],
          "fullName": "OfflineLoop RewardEvaluator 应该拒绝低质量正奖励",
          "status": "passed",
          "title": "应该拒绝低质量正奖励",
          "duration": 0.30465700000002016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "RewardEvaluator"],
          "fullName": "OfflineLoop RewardEvaluator 应该接受所有负奖励（学习信号）",
          "status": "passed",
          "title": "应该接受所有负奖励（学习信号）",
          "duration": 0.39434300000004896,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "RewardEvaluator"],
          "fullName": "OfflineLoop RewardEvaluator 应该拒绝零奖励",
          "status": "passed",
          "title": "应该拒绝零奖励",
          "duration": 0.28250900000000456,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "RewardEvaluator"],
          "fullName": "OfflineLoop RewardEvaluator 禁用质量控制时应该通过所有奖励",
          "status": "passed",
          "title": "禁用质量控制时应该通过所有奖励",
          "duration": 0.3919140000000425,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "RewardEvaluator"],
          "fullName": "OfflineLoop RewardEvaluator 应该考虑用户疲劳度调整置信度",
          "status": "passed",
          "title": "应该考虑用户疲劳度调整置信度",
          "duration": 0.3147040000000061,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "ParamUpdater"],
          "fullName": "OfflineLoop ParamUpdater 应该成功更新用户参数",
          "status": "passed",
          "title": "应该成功更新用户参数",
          "duration": 0.48500300000000607,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "ParamUpdater"],
          "fullName": "OfflineLoop ParamUpdater 应该跳过无效奖励",
          "status": "passed",
          "title": "应该跳过无效奖励",
          "duration": 0.8109909999999445,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "ParamUpdater"],
          "fullName": "OfflineLoop ParamUpdater 应该处理多个奖励",
          "status": "passed",
          "title": "应该处理多个奖励",
          "duration": 1.2820169999999962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "ParamUpdater"],
          "fullName": "OfflineLoop ParamUpdater 应该批量更新多个用户",
          "status": "passed",
          "title": "应该批量更新多个用户",
          "duration": 0.8347380000000157,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "scheduled tasks"],
          "fullName": "OfflineLoop scheduled tasks 应该能启动定时任务",
          "status": "passed",
          "title": "应该能启动定时任务",
          "duration": 37.72791899999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "scheduled tasks"],
          "fullName": "OfflineLoop scheduled tasks 应该能停止定时任务",
          "status": "passed",
          "title": "应该能停止定时任务",
          "duration": 8.695300000000088,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "scheduled tasks"],
          "fullName": "OfflineLoop scheduled tasks 重复启动应该记录警告",
          "status": "passed",
          "title": "重复启动应该记录警告",
          "duration": 3.364146000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "scheduled tasks"],
          "fullName": "OfflineLoop scheduled tasks 停止未启动的任务应该记录警告",
          "status": "passed",
          "title": "停止未启动的任务应该记录警告",
          "duration": 0.49380200000007335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "state persistence"],
          "fullName": "OfflineLoop state persistence 应该能获取持久化状态",
          "status": "passed",
          "title": "应该能获取持久化状态",
          "duration": 0.4356159999999818,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "state persistence"],
          "fullName": "OfflineLoop state persistence 应该能恢复持久化状态",
          "status": "passed",
          "title": "应该能恢复持久化状态",
          "duration": 0.7024129999999786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "error handling"],
          "fullName": "OfflineLoop error handling 应该处理奖励应用失败",
          "status": "passed",
          "title": "应该处理奖励应用失败",
          "duration": 2.4945920000000115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "error handling"],
          "fullName": "OfflineLoop error handling 应该处理用户状态获取失败",
          "status": "passed",
          "title": "应该处理用户状态获取失败",
          "duration": 29.738132999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "error handling"],
          "fullName": "OfflineLoop error handling 应该处理无用户状态提供器的情况",
          "status": "passed",
          "title": "应该处理无用户状态提供器的情况",
          "duration": 8.023633000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "reward schedule"],
          "fullName": "OfflineLoop reward schedule 应该返回配置的奖励时间表",
          "status": "passed",
          "title": "应该返回配置的奖励时间表",
          "duration": 0.8616339999998672,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "reward schedule"],
          "fullName": "OfflineLoop reward schedule 应该支持自定义奖励时间表",
          "status": "passed",
          "title": "应该支持自定义奖励时间表",
          "duration": 0.19921599999997852,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "integration scenarios"],
          "fullName": "OfflineLoop integration scenarios 应该正确处理完整的奖励分发流程",
          "status": "passed",
          "title": "应该正确处理完整的奖励分发流程",
          "duration": 0.5234639999998763,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "integration scenarios"],
          "fullName": "OfflineLoop integration scenarios 应该正确处理混合质量的奖励",
          "status": "passed",
          "title": "应该正确处理混合质量的奖励",
          "duration": 3.606813000000102,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OfflineLoop", "performance"],
          "fullName": "OfflineLoop performance 应该能处理大量奖励",
          "status": "passed",
          "title": "应该能处理大量奖励",
          "duration": 1.540585000000192,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615906142,
      "endTime": 1765615906283.5405,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/core/offline-loop.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["OnlineLoop", "initialization"],
          "fullName": "OnlineLoop initialization 应该成功创建默认实例",
          "status": "passed",
          "title": "应该成功创建默认实例",
          "duration": 4.068834000000152,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "initialization"],
          "fullName": "OnlineLoop initialization 应该接受自定义配置",
          "status": "passed",
          "title": "应该接受自定义配置",
          "duration": 1.162452999999914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "initialization"],
          "fullName": "OnlineLoop initialization 应该初始化时活跃用户数为0",
          "status": "passed",
          "title": "应该初始化时活跃用户数为0",
          "duration": 0.6670070000000123,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "initialization"],
          "fullName": "OnlineLoop initialization 应该返回性能统计信息",
          "status": "passed",
          "title": "应该返回性能统计信息",
          "duration": 1.5861110000000735,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "process - core workflow"],
          "fullName": "OnlineLoop process - core workflow 应该成功处理单个学习事件",
          "status": "passed",
          "title": "应该成功处理单个学习事件",
          "duration": 7.132605000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "process - core workflow"],
          "fullName": "OnlineLoop process - core workflow 应该返回更新后的用户状态",
          "status": "passed",
          "title": "应该返回更新后的用户状态",
          "duration": 4.059036999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "process - core workflow"],
          "fullName": "OnlineLoop process - core workflow 应该返回决策结果",
          "status": "failed",
          "title": "应该返回决策结果",
          "duration": 14.524168000000145,
          "failureMessages": [
            "AssertionError: expected 3.181482045179825 to be less than or equal to 1\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/core/online-loop.test.ts:193:42\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "process - core workflow"],
          "fullName": "OnlineLoop process - core workflow 应该返回即时奖励",
          "status": "passed",
          "title": "应该返回即时奖励",
          "duration": 1.7816559999998844,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "process - core workflow"],
          "fullName": "OnlineLoop process - core workflow 应该返回特征向量",
          "status": "passed",
          "title": "应该返回特征向量",
          "duration": 7.525937000000113,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "process - core workflow"],
          "fullName": "OnlineLoop process - core workflow 应该返回性能元信息",
          "status": "passed",
          "title": "应该返回性能元信息",
          "duration": 1.7316430000000764,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "performance"],
          "fullName": "OnlineLoop performance 应该在50ms内完成处理（性能要求）",
          "status": "passed",
          "title": "应该在50ms内完成处理（性能要求）",
          "duration": 1.3468740000000707,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "performance"],
          "fullName": "OnlineLoop performance 返回的elapsedTime应该准确反映实际耗时",
          "status": "passed",
          "title": "返回的elapsedTime应该准确反映实际耗时",
          "duration": 1.4899810000001708,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "performance"],
          "fullName": "OnlineLoop performance 应该能快速处理连续事件（压力测试）",
          "status": "passed",
          "title": "应该能快速处理连续事件（压力测试）",
          "duration": 16.689926999999898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "performance"],
          "fullName": "OnlineLoop performance 元信息中各步骤耗时之和应该接近总耗时",
          "status": "passed",
          "title": "元信息中各步骤耗时之和应该接近总耗时",
          "duration": 0.5735510000001796,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "cognitive model updates"],
          "fullName": "OnlineLoop cognitive model updates 注意力应该根据答题情况更新",
          "status": "passed",
          "title": "注意力应该根据答题情况更新",
          "duration": 0.5199410000000171,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "cognitive model updates"],
          "fullName": "OnlineLoop cognitive model updates 疲劳度应该随着交互增加",
          "status": "passed",
          "title": "疲劳度应该随着交互增加",
          "duration": 0.6495429999999942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "cognitive model updates"],
          "fullName": "OnlineLoop cognitive model updates 答对应该提升动机",
          "status": "passed",
          "title": "答对应该提升动机",
          "duration": 0.4784270000000106,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "cognitive model updates"],
          "fullName": "OnlineLoop cognitive model updates 答错应该降低动机",
          "status": "passed",
          "title": "答错应该降低动机",
          "duration": 0.4293729999999414,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "cognitive model updates"],
          "fullName": "OnlineLoop cognitive model updates 认知能力应该根据表现更新",
          "status": "passed",
          "title": "认知能力应该根据表现更新",
          "duration": 0.4502509999999802,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "cognitive model updates"],
          "fullName": "OnlineLoop cognitive model updates 置信度应该随着交互次数增加",
          "status": "passed",
          "title": "置信度应该随着交互次数增加",
          "duration": 0.8262460000000829,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "user isolation"],
          "fullName": "OnlineLoop user isolation 应该为不同用户维护独立的认知模型",
          "status": "passed",
          "title": "应该为不同用户维护独立的认知模型",
          "duration": 1.1954379999999674,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "user isolation"],
          "fullName": "OnlineLoop user isolation 应该能独立追踪多个用户",
          "status": "passed",
          "title": "应该能独立追踪多个用户",
          "duration": 5.859026999999969,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "user isolation"],
          "fullName": "OnlineLoop user isolation 同一用户的多次交互应该保持状态连续性",
          "status": "passed",
          "title": "同一用户的多次交互应该保持状态连续性",
          "duration": 1.9419199999999819,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "user isolation"],
          "fullName": "OnlineLoop user isolation 应该能重置特定用户的模型",
          "status": "passed",
          "title": "应该能重置特定用户的模型",
          "duration": 0.9471470000000863,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "user isolation"],
          "fullName": "OnlineLoop user isolation 应该能清理不活跃用户",
          "status": "passed",
          "title": "应该能清理不活跃用户",
          "duration": 2.6668879999999717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "model updates"],
          "fullName": "OnlineLoop model updates 应该支持单次模型更新",
          "status": "passed",
          "title": "应该支持单次模型更新",
          "duration": 1.4088259999998627,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "model updates"],
          "fullName": "OnlineLoop model updates 应该支持批量模型更新",
          "status": "passed",
          "title": "应该支持批量模型更新",
          "duration": 0.507998999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "error handling"],
          "fullName": "OnlineLoop error handling 应该处理缺少可选字段的输入",
          "status": "passed",
          "title": "应该处理缺少可选字段的输入",
          "duration": 1.9407819999998992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "error handling"],
          "fullName": "OnlineLoop error handling 应该处理极端的用户状态值",
          "status": "passed",
          "title": "应该处理极端的用户状态值",
          "duration": 0.9053510000001097,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "error handling"],
          "fullName": "OnlineLoop error handling 应该处理异常快的反应时间",
          "status": "passed",
          "title": "应该处理异常快的反应时间",
          "duration": 0.7127379999999448,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "error handling"],
          "fullName": "OnlineLoop error handling 应该处理异常慢的反应时间",
          "status": "passed",
          "title": "应该处理异常慢的反应时间",
          "duration": 2.405420999999933,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "error handling"],
          "fullName": "OnlineLoop error handling 应该处理高重试次数",
          "status": "passed",
          "title": "应该处理高重试次数",
          "duration": 1.2422159999998712,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "performance monitoring"],
          "fullName": "OnlineLoop performance monitoring 性能超过阈值时应该记录警告（通过日志spy验证）",
          "status": "passed",
          "title": "性能超过阈值时应该记录警告（通过日志spy验证）",
          "duration": 2.736988999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "performance monitoring"],
          "fullName": "OnlineLoop performance monitoring 禁用性能监控时不应该记录警告",
          "status": "passed",
          "title": "禁用性能监控时不应该记录警告",
          "duration": 1.2684540000000197,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "resource management"],
          "fullName": "OnlineLoop resource management destroy应该清理所有用户模型",
          "status": "passed",
          "title": "destroy应该清理所有用户模型",
          "duration": 1.7162359999999808,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "resource management"],
          "fullName": "OnlineLoop resource management 应该能在销毁后重新创建",
          "status": "passed",
          "title": "应该能在销毁后重新创建",
          "duration": 0.535464999999931,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "custom components"],
          "fullName": "OnlineLoop custom components 应该支持自定义决策策略",
          "status": "passed",
          "title": "应该支持自定义决策策略",
          "duration": 0.9102809999999408,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "custom components"],
          "fullName": "OnlineLoop custom components 应该支持自定义奖励评估器",
          "status": "passed",
          "title": "应该支持自定义奖励评估器",
          "duration": 1.4056330000000798,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "custom components"],
          "fullName": "OnlineLoop custom components 应该支持自定义动作空间",
          "status": "passed",
          "title": "应该支持自定义动作空间",
          "duration": 7.377375999999913,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "integration scenarios"],
          "fullName": "OnlineLoop integration scenarios 应该正确处理完整的学习会话",
          "status": "passed",
          "title": "应该正确处理完整的学习会话",
          "duration": 3.4486369999999624,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "integration scenarios"],
          "fullName": "OnlineLoop integration scenarios 应该处理多用户并发场景",
          "status": "passed",
          "title": "应该处理多用户并发场景",
          "duration": 1.9758479999998144,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "state consistency"],
          "fullName": "OnlineLoop state consistency 更新后的状态timestamp应该是最新的",
          "status": "passed",
          "title": "更新后的状态timestamp应该是最新的",
          "duration": 0.8569220000001678,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["OnlineLoop", "state consistency"],
          "fullName": "OnlineLoop state consistency 状态中的所有数值应该在合理范围内",
          "status": "passed",
          "title": "状态中的所有数值应该在合理范围内",
          "duration": 1.5876140000000305,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901369,
      "endTime": 1765615901484.5876,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/core/online-loop.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "extreme user state values"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions extreme user state values should handle UserState with all values at maximum (1.0)",
          "status": "passed",
          "title": "should handle UserState with all values at maximum (1.0)",
          "duration": 14.306893999999943,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "extreme user state values"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions extreme user state values should handle UserState with all values at minimum (0.0)",
          "status": "passed",
          "title": "should handle UserState with all values at minimum (0.0)",
          "duration": 3.3359140000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "extreme user state values"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions extreme user state values should handle UserState with negative motivation",
          "status": "passed",
          "title": "should handle UserState with negative motivation",
          "duration": 3.6646690000000035,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "extreme user state values"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions extreme user state values should handle UserState with values beyond normal range",
          "status": "passed",
          "title": "should handle UserState with values beyond normal range",
          "duration": 2.067633999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "extreme user state values"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions extreme user state values should handle UserState with very small float values",
          "status": "passed",
          "title": "should handle UserState with very small float values",
          "duration": 1.4709270000000743,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "extreme user state values"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions extreme user state values should handle UserState with very large float values",
          "status": "passed",
          "title": "should handle UserState with very large float values",
          "duration": 4.441802999999936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions empty and missing data handling should throw error for empty actions array",
          "status": "passed",
          "title": "should throw error for empty actions array",
          "duration": 1.654924000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions empty and missing data handling should handle single action array",
          "status": "passed",
          "title": "should handle single action array",
          "duration": 1.196442999999931,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions empty and missing data handling should handle minimal context",
          "status": "passed",
          "title": "should handle minimal context",
          "duration": 1.1650730000000067,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions empty and missing data handling should handle context with undefined learner contexts",
          "status": "passed",
          "title": "should handle context with undefined learner contexts",
          "duration": 1.231002999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions empty and missing data handling should handle null state restoration gracefully",
          "status": "passed",
          "title": "should handle null state restoration gracefully",
          "duration": 1.742650000000026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions empty and missing data handling should handle empty state object restoration",
          "status": "passed",
          "title": "should handle empty state object restoration",
          "duration": 1.2601210000000265,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "algorithm convergence"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions algorithm convergence should converge weights after many updates with consistent rewards",
          "status": "passed",
          "title": "should converge weights after many updates with consistent rewards",
          "duration": 37.76391699999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "algorithm convergence"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions algorithm convergence should maintain weight bounds after many negative rewards",
          "status": "passed",
          "title": "should maintain weight bounds after many negative rewards",
          "duration": 22.92040700000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "algorithm convergence"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions algorithm convergence should handle alternating positive and negative rewards",
          "status": "passed",
          "title": "should handle alternating positive and negative rewards",
          "duration": 54.71412800000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "algorithm convergence"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions algorithm convergence should stabilize action selection after sufficient training",
          "status": "passed",
          "title": "should stabilize action selection after sufficient training",
          "duration": 3.8412569999999278,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework - Boundary Conditions", "error recovery"],
          "fullName": "EnsembleLearningFramework - Boundary Conditions error recovery should recover from corrupted weights through state restoration",
          "status": "passed",
          "title": "should recover from corrupted weights through state restoration",
          "duration": 12.03982300000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework - Boundary Conditions", "error recovery"],
          "fullName": "EnsembleLearningFramework - Boundary Conditions error recovery should handle NaN in update gracefully",
          "status": "passed",
          "title": "should handle NaN in update gracefully",
          "duration": 0.9819390000000112,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework - Boundary Conditions", "error recovery"],
          "fullName": "EnsembleLearningFramework - Boundary Conditions error recovery should handle Infinity in update gracefully",
          "status": "passed",
          "title": "should handle Infinity in update gracefully",
          "duration": 8.564413999999942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework - Boundary Conditions", "error recovery"],
          "fullName": "EnsembleLearningFramework - Boundary Conditions error recovery should handle negative Infinity in update gracefully",
          "status": "passed",
          "title": "should handle negative Infinity in update gracefully",
          "duration": 2.5064419999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework - Boundary Conditions", "error recovery"],
          "fullName": "EnsembleLearningFramework - Boundary Conditions error recovery should reset cleanly after corrupted state",
          "status": "passed",
          "title": "should reset cleanly after corrupted state",
          "duration": 3.1755619999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework - Boundary Conditions", "error recovery"],
          "fullName": "EnsembleLearningFramework - Boundary Conditions error recovery should handle state restoration with missing sub-learner states",
          "status": "passed",
          "title": "should handle state restoration with missing sub-learner states",
          "duration": 2.260091999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "numerical stability"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions numerical stability should maintain weight precision after thousands of updates",
          "status": "passed",
          "title": "should maintain weight precision after thousands of updates",
          "duration": 34.42901600000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "numerical stability"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions numerical stability should handle rapid successive updates without numerical overflow",
          "status": "passed",
          "title": "should handle rapid successive updates without numerical overflow",
          "duration": 27.75385300000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "numerical stability"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions numerical stability should produce finite scores for extreme user states",
          "status": "passed",
          "title": "should produce finite scores for extreme user states",
          "duration": 1.064164000000119,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "phase transitions"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions phase transitions should handle cold start to normal phase transition",
          "status": "passed",
          "title": "should handle cold start to normal phase transition",
          "duration": 2.637115999999878,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "phase transitions"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions phase transitions should auto-transition from non-normal when cold start is complete",
          "status": "passed",
          "title": "should auto-transition from non-normal when cold start is complete",
          "duration": 1.6981650000000172,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "context normalization"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions context normalization should clamp extreme error rates in context",
          "status": "passed",
          "title": "should clamp extreme error rates in context",
          "duration": 4.360121000000163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "context normalization"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions context normalization should clamp negative response times",
          "status": "passed",
          "title": "should clamp negative response times",
          "duration": 0.579385000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "EnsembleLearningFramework - Boundary Conditions",
            "context normalization"
          ],
          "fullName": "EnsembleLearningFramework - Boundary Conditions context normalization should handle out-of-range time bucket",
          "status": "passed",
          "title": "should handle out-of-range time bucket",
          "duration": 0.48545800000010786,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615905052,
      "endTime": 1765615905320.4854,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/decision/ensemble-boundary.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EnsembleLearningFramework", "initialization"],
          "fullName": "EnsembleLearningFramework initialization should initialize with correct initial weights",
          "status": "passed",
          "title": "should initialize with correct initial weights",
          "duration": 7.525743999999918,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "initialization"],
          "fullName": "EnsembleLearningFramework initialization should have weights summing to 1.0",
          "status": "passed",
          "title": "should have weights summing to 1.0",
          "duration": 4.783592999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "initialization"],
          "fullName": "EnsembleLearningFramework initialization should initialize updateCount to 0",
          "status": "passed",
          "title": "should initialize updateCount to 0",
          "duration": 2.2659720000000334,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "initialization"],
          "fullName": "EnsembleLearningFramework initialization should contain sub-learner states",
          "status": "passed",
          "title": "should contain sub-learner states",
          "duration": 5.751831999999922,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "selectAction"],
          "fullName": "EnsembleLearningFramework selectAction should return ActionSelection with action, score, and confidence",
          "status": "passed",
          "title": "should return ActionSelection with action, score, and confidence",
          "duration": 5.93530300000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "selectAction"],
          "fullName": "EnsembleLearningFramework selectAction should delegate to ColdStart in classify phase",
          "status": "passed",
          "title": "should delegate to ColdStart in classify phase",
          "duration": 3.0533550000000105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "selectAction"],
          "fullName": "EnsembleLearningFramework selectAction should use weighted voting in normal phase",
          "status": "passed",
          "title": "should use weighted voting in normal phase",
          "duration": 1.9692340000000286,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "selectAction"],
          "fullName": "EnsembleLearningFramework selectAction should throw error for empty actions",
          "status": "passed",
          "title": "should throw error for empty actions",
          "duration": 2.5193950000000314,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "selectAction"],
          "fullName": "EnsembleLearningFramework selectAction should include voting details in meta",
          "status": "passed",
          "title": "should include voting details in meta",
          "duration": 3.535818000000063,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "vote aggregation"],
          "fullName": "EnsembleLearningFramework vote aggregation should aggregate votes with weighted scoring",
          "status": "passed",
          "title": "should aggregate votes with weighted scoring",
          "duration": 2.823965000000044,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "vote aggregation"],
          "fullName": "EnsembleLearningFramework vote aggregation should compute aggregated confidence",
          "status": "passed",
          "title": "should compute aggregated confidence",
          "duration": 1.317058999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "vote aggregation"],
          "fullName": "EnsembleLearningFramework vote aggregation should select action with highest weighted score",
          "status": "passed",
          "title": "should select action with highest weighted score",
          "duration": 17.550540999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "weight updates"],
          "fullName": "EnsembleLearningFramework weight updates should increment updateCount after update",
          "status": "passed",
          "title": "should increment updateCount after update",
          "duration": 1.8912769999999455,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "weight updates"],
          "fullName": "EnsembleLearningFramework weight updates should update weights based on reward and alignment",
          "status": "passed",
          "title": "should update weights based on reward and alignment",
          "duration": 2.12304400000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "weight updates"],
          "fullName": "EnsembleLearningFramework weight updates should maintain weights sum to 1.0 after updates",
          "status": "passed",
          "title": "should maintain weights sum to 1.0 after updates",
          "duration": 21.259709999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "weight updates"],
          "fullName": "EnsembleLearningFramework weight updates should enforce MIN_WEIGHT floor",
          "status": "passed",
          "title": "should enforce MIN_WEIGHT floor",
          "duration": 11.468951000000061,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "weight updates"],
          "fullName": "EnsembleLearningFramework weight updates should apply exponential weight update",
          "status": "passed",
          "title": "should apply exponential weight update",
          "duration": 1.3886029999999892,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "cold start delegation"],
          "fullName": "EnsembleLearningFramework cold start delegation should delegate to ColdStartManager in classify phase",
          "status": "passed",
          "title": "should delegate to ColdStartManager in classify phase",
          "duration": 2.4001340000000937,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "cold start delegation"],
          "fullName": "EnsembleLearningFramework cold start delegation should use ColdStart for explore phase",
          "status": "passed",
          "title": "should use ColdStart for explore phase",
          "duration": 1.9004189999999426,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "cold start delegation"],
          "fullName": "EnsembleLearningFramework cold start delegation should switch to ensemble voting in normal phase",
          "status": "passed",
          "title": "should switch to ensemble voting in normal phase",
          "duration": 1.8544620000000123,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "state persistence"],
          "fullName": "EnsembleLearningFramework state persistence should get/set state roundtrip",
          "status": "passed",
          "title": "should get/set state roundtrip",
          "duration": 3.7458780000000615,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "state persistence"],
          "fullName": "EnsembleLearningFramework state persistence should restore sub-learner states",
          "status": "passed",
          "title": "should restore sub-learner states",
          "duration": 2.6481390000000147,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "state persistence"],
          "fullName": "EnsembleLearningFramework state persistence should preserve lastVotes and lastConfidence",
          "status": "passed",
          "title": "should preserve lastVotes and lastConfidence",
          "duration": 3.7006699999999455,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "reset"],
          "fullName": "EnsembleLearningFramework reset should reset all state including weights",
          "status": "passed",
          "title": "should reset all state including weights",
          "duration": 1.567474000000061,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "reset"],
          "fullName": "EnsembleLearningFramework reset should reset sub-learners",
          "status": "passed",
          "title": "should reset sub-learners",
          "duration": 0.9422280000000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "BaseLearner interface"],
          "fullName": "EnsembleLearningFramework BaseLearner interface should return correct name",
          "status": "passed",
          "title": "should return correct name",
          "duration": 0.44056399999999485,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "BaseLearner interface"],
          "fullName": "EnsembleLearningFramework BaseLearner interface should return correct version",
          "status": "passed",
          "title": "should return correct version",
          "duration": 0.3267560000000458,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "BaseLearner interface"],
          "fullName": "EnsembleLearningFramework BaseLearner interface should return capabilities",
          "status": "passed",
          "title": "should return capabilities",
          "duration": 0.4479559999999765,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "learner access"],
          "fullName": "EnsembleLearningFramework learner access should provide access to current weights",
          "status": "passed",
          "title": "should provide access to current weights",
          "duration": 0.4163350000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "learner access"],
          "fullName": "EnsembleLearningFramework learner access should allow setting individual learner weights",
          "status": "passed",
          "title": "should allow setting individual learner weights",
          "duration": 0.40741399999990335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "learner access"],
          "fullName": "EnsembleLearningFramework learner access should normalize weights after setting",
          "status": "passed",
          "title": "should normalize weights after setting",
          "duration": 0.40066699999999855,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "fallback behavior"],
          "fullName": "EnsembleLearningFramework fallback behavior should handle missing context gracefully",
          "status": "passed",
          "title": "should handle missing context gracefully",
          "duration": 0.6206649999999172,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "fallback behavior"],
          "fullName": "EnsembleLearningFramework fallback behavior should use heuristic as fallback when other learners fail",
          "status": "passed",
          "title": "should use heuristic as fallback when other learners fail",
          "duration": 0.5886530000000221,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "feature flags"],
          "fullName": "EnsembleLearningFramework feature flags should zero weight for disabled learners",
          "status": "passed",
          "title": "should zero weight for disabled learners",
          "duration": 0.5236019999999826,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "edge cases"],
          "fullName": "EnsembleLearningFramework edge cases should handle extreme user state values",
          "status": "passed",
          "title": "should handle extreme user state values",
          "duration": 1.5376180000000659,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "edge cases"],
          "fullName": "EnsembleLearningFramework edge cases should handle negative motivation",
          "status": "passed",
          "title": "should handle negative motivation",
          "duration": 1.695344000000091,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnsembleLearningFramework", "edge cases"],
          "fullName": "EnsembleLearningFramework edge cases should handle single action",
          "status": "passed",
          "title": "should handle single action",
          "duration": 0.8252710000000434,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907994,
      "endTime": 1765615908121.8252,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/decision/ensemble.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should return default message when state is good and no changes",
          "status": "passed",
          "title": "should return default message when state is good and no changes",
          "duration": 7.987862000000064,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should identify low attention contribution",
          "status": "passed",
          "title": "should identify low attention contribution",
          "duration": 5.057521000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should identify high fatigue contribution",
          "status": "passed",
          "title": "should identify high fatigue contribution",
          "duration": 0.7873720000000048,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should identify low motivation contribution",
          "status": "passed",
          "title": "should identify low motivation contribution",
          "duration": 1.0324729999999818,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should identify low memory contribution",
          "status": "passed",
          "title": "should identify low memory contribution",
          "duration": 0.3775989999999183,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should identify low stability contribution",
          "status": "passed",
          "title": "should identify low stability contribution",
          "duration": 0.1996239999999716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe new_ratio decrease",
          "status": "passed",
          "title": "should describe new_ratio decrease",
          "duration": 0.22323499999993146,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe new_ratio increase",
          "status": "passed",
          "title": "should describe new_ratio increase",
          "duration": 0.36044300000003204,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe batch_size decrease",
          "status": "passed",
          "title": "should describe batch_size decrease",
          "duration": 0.5435759999999163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe batch_size increase",
          "status": "passed",
          "title": "should describe batch_size increase",
          "duration": 0.33682199999998375,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe hint_level increase",
          "status": "passed",
          "title": "should describe hint_level increase",
          "duration": 0.24126599999999598,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe hint_level decrease",
          "status": "passed",
          "title": "should describe hint_level decrease",
          "duration": 0.13685199999997621,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe interval_scale increase (>5% delta)",
          "status": "passed",
          "title": "should describe interval_scale increase (>5% delta)",
          "duration": 0.14693799999997736,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe interval_scale decrease (>5% delta)",
          "status": "passed",
          "title": "should describe interval_scale decrease (>5% delta)",
          "duration": 4.4413110000000415,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should not describe interval_scale change when delta <= 5%",
          "status": "passed",
          "title": "should not describe interval_scale change when delta <= 5%",
          "duration": 1.6254999999999882,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe difficulty change",
          "status": "passed",
          "title": "should describe difficulty change",
          "duration": 0.28955900000005386,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should describe difficulty change to hard",
          "status": "passed",
          "title": "should describe difficulty change to hard",
          "duration": 0.16984400000001187,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateExplanation"],
          "fullName": "ExplainabilityEngine generateExplanation should handle combined state issues and strategy changes",
          "status": "passed",
          "title": "should handle combined state issues and strategy changes",
          "duration": 0.3281769999999824,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should return DecisionExplanation with factors, changes, and text",
          "status": "passed",
          "title": "should return DecisionExplanation with factors, changes, and text",
          "duration": 1.5915820000000167,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should include attention factor when low",
          "status": "passed",
          "title": "should include attention factor when low",
          "duration": 2.272640000000024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should include fatigue factor when high",
          "status": "passed",
          "title": "should include fatigue factor when high",
          "duration": 0.2553069999999025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should include motivation factor when low",
          "status": "passed",
          "title": "should include motivation factor when low",
          "duration": 0.19150299999989784,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should include changes list when params changed",
          "status": "passed",
          "title": "should include changes list when params changed",
          "duration": 0.2029690000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should return empty changes when no params changed",
          "status": "passed",
          "title": "should return empty changes when no params changed",
          "duration": 0.850851999999918,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateDetailedExplanation"],
          "fullName": "ExplainabilityEngine generateDetailedExplanation should sort factors by percentage descending",
          "status": "passed",
          "title": "should sort factors by percentage descending",
          "duration": 0.5851490000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateShortExplanation"],
          "fullName": "ExplainabilityEngine generateShortExplanation should return \"状态良好\" for good state",
          "status": "passed",
          "title": "should return \"状态良好\" for good state",
          "duration": 0.2557689999999866,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateShortExplanation"],
          "fullName": "ExplainabilityEngine generateShortExplanation should return \"注意力低\" for low attention",
          "status": "passed",
          "title": "should return \"注意力低\" for low attention",
          "duration": 0.20727099999999155,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateShortExplanation"],
          "fullName": "ExplainabilityEngine generateShortExplanation should return \"疲劳度高\" for high fatigue",
          "status": "passed",
          "title": "should return \"疲劳度高\" for high fatigue",
          "duration": 0.17044499999997242,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateShortExplanation"],
          "fullName": "ExplainabilityEngine generateShortExplanation should return \"动机不足\" for low motivation",
          "status": "passed",
          "title": "should return \"动机不足\" for low motivation",
          "duration": 0.1381179999999631,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateShortExplanation"],
          "fullName": "ExplainabilityEngine generateShortExplanation should combine multiple issues with \"、\"",
          "status": "passed",
          "title": "should combine multiple issues with \"、\"",
          "duration": 0.29572300000006635,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateSuggestion"],
          "fullName": "ExplainabilityEngine generateSuggestion should return null for good state",
          "status": "passed",
          "title": "should return null for good state",
          "duration": 0.2705980000000636,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateSuggestion"],
          "fullName": "ExplainabilityEngine generateSuggestion should suggest rest for high fatigue",
          "status": "passed",
          "title": "should suggest rest for high fatigue",
          "duration": 0.15462999999999738,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateSuggestion"],
          "fullName": "ExplainabilityEngine generateSuggestion should suggest reduced difficulty for low motivation",
          "status": "passed",
          "title": "should suggest reduced difficulty for low motivation",
          "duration": 0.14508299999999963,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateSuggestion"],
          "fullName": "ExplainabilityEngine generateSuggestion should suggest reduced content for low attention",
          "status": "passed",
          "title": "should suggest reduced content for low attention",
          "duration": 0.15905800000007275,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateSuggestion"],
          "fullName": "ExplainabilityEngine generateSuggestion should prioritize high fatigue over other issues",
          "status": "passed",
          "title": "should prioritize high fatigue over other issues",
          "duration": 0.18085600000006252,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateSuggestion"],
          "fullName": "ExplainabilityEngine generateSuggestion should prioritize low motivation over low attention",
          "status": "passed",
          "title": "should prioritize low motivation over low attention",
          "duration": 0.20197700000005625,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should return EnhancedExplanation with all required fields",
          "status": "passed",
          "title": "should return EnhancedExplanation with all required fields",
          "duration": 0.707685999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include algorithm info from context",
          "status": "passed",
          "title": "should include algorithm info from context",
          "duration": 0.3145449999999528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should use default confidence when not provided",
          "status": "passed",
          "title": "should use default confidence when not provided",
          "duration": 0.28334000000006654,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for low attention",
          "status": "passed",
          "title": "should include factor contributions for low attention",
          "duration": 1.8262829999999894,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for high attention",
          "status": "passed",
          "title": "should include factor contributions for high attention",
          "duration": 0.4170050000000174,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for high fatigue",
          "status": "passed",
          "title": "should include factor contributions for high fatigue",
          "duration": 0.2988750000000664,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for low motivation",
          "status": "passed",
          "title": "should include factor contributions for low motivation",
          "duration": 0.25797399999999016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for high motivation",
          "status": "passed",
          "title": "should include factor contributions for high motivation",
          "duration": 0.2716209999999819,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for low memory",
          "status": "passed",
          "title": "should include factor contributions for low memory",
          "duration": 0.3508630000000039,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include factor contributions for high memory",
          "status": "passed",
          "title": "should include factor contributions for high memory",
          "duration": 0.31384299999990617,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should include alternative actions when provided",
          "status": "passed",
          "title": "should include alternative actions when provided",
          "duration": 0.4855079999999816,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should generate correct alternative reasons",
          "status": "passed",
          "title": "should generate correct alternative reasons",
          "duration": 0.29143999999996595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should return default primary reason when no factors",
          "status": "passed",
          "title": "should return default primary reason when no factors",
          "duration": 0.3513510000000224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should limit factor contributions to 5",
          "status": "passed",
          "title": "should limit factor contributions to 5",
          "duration": 0.40330600000004324,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "generateEnhancedExplanation"],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation should sort factor contributions by percentage",
          "status": "passed",
          "title": "should sort factor contributions by percentage",
          "duration": 2.7485260000000835,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityEngine",
            "generateEnhancedExplanation",
            "time-based factors"
          ],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation time-based factors should include positive time factor for morning hours (6-9)",
          "status": "passed",
          "title": "should include positive time factor for morning hours (6-9)",
          "duration": 6.121960999999942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityEngine",
            "generateEnhancedExplanation",
            "time-based factors"
          ],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation time-based factors should include negative time factor for late night hours (22-5)",
          "status": "passed",
          "title": "should include negative time factor for late night hours (22-5)",
          "duration": 1.4977229999999508,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ExplainabilityEngine",
            "generateEnhancedExplanation",
            "time-based factors"
          ],
          "fullName": "ExplainabilityEngine generateEnhancedExplanation time-based factors should include negative time factor for early morning hours (0-5)",
          "status": "passed",
          "title": "should include negative time factor for early morning hours (0-5)",
          "duration": 1.075872000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "edge cases"],
          "fullName": "ExplainabilityEngine edge cases should handle extreme user state values",
          "status": "passed",
          "title": "should handle extreme user state values",
          "duration": 7.389969999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "edge cases"],
          "fullName": "ExplainabilityEngine edge cases should handle perfect user state",
          "status": "passed",
          "title": "should handle perfect user state",
          "duration": 0.35338899999999285,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "edge cases"],
          "fullName": "ExplainabilityEngine edge cases should handle boundary values correctly",
          "status": "passed",
          "title": "should handle boundary values correctly",
          "duration": 0.23335400000007667,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ExplainabilityEngine", "edge cases"],
          "fullName": "ExplainabilityEngine edge cases should handle missing stability in CognitiveProfile",
          "status": "passed",
          "title": "should handle missing stability in CognitiveProfile",
          "duration": 0.37445900000000165,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910570,
      "endTime": 1765615910631.3745,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/decision/explain.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["Guardrails", "applyFatigueProtection"],
          "fullName": "Guardrails applyFatigueProtection should not modify params when fatigue is low",
          "status": "passed",
          "title": "should not modify params when fatigue is low",
          "duration": 3.4563779999999724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyFatigueProtection"],
          "fullName": "Guardrails applyFatigueProtection should apply high fatigue protection when F > HIGH_FATIGUE",
          "status": "passed",
          "title": "should apply high fatigue protection when F > HIGH_FATIGUE",
          "duration": 0.6675300000000561,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyFatigueProtection"],
          "fullName": "Guardrails applyFatigueProtection should apply critical fatigue protection when F > CRITICAL_FATIGUE",
          "status": "passed",
          "title": "should apply critical fatigue protection when F > CRITICAL_FATIGUE",
          "duration": 0.6520890000000463,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyFatigueProtection"],
          "fullName": "Guardrails applyFatigueProtection should apply both high and critical protections when F > CRITICAL_FATIGUE",
          "status": "passed",
          "title": "should apply both high and critical protections when F > CRITICAL_FATIGUE",
          "duration": 0.65768300000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyFatigueProtection"],
          "fullName": "Guardrails applyFatigueProtection should not mutate the original params object",
          "status": "passed",
          "title": "should not mutate the original params object",
          "duration": 1.2873599999999215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyMotivationProtection"],
          "fullName": "Guardrails applyMotivationProtection should not modify params when motivation is normal",
          "status": "passed",
          "title": "should not modify params when motivation is normal",
          "duration": 0.3544839999999567,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyMotivationProtection"],
          "fullName": "Guardrails applyMotivationProtection should apply low motivation protection when M < LOW_MOTIVATION",
          "status": "passed",
          "title": "should apply low motivation protection when M < LOW_MOTIVATION",
          "duration": 0.36132599999996273,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyMotivationProtection"],
          "fullName": "Guardrails applyMotivationProtection should apply critical motivation protection when M < CRITICAL_MOTIVATION",
          "status": "passed",
          "title": "should apply critical motivation protection when M < CRITICAL_MOTIVATION",
          "duration": 0.24036500000011074,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyMotivationProtection"],
          "fullName": "Guardrails applyMotivationProtection should apply both low and critical protections when M < CRITICAL_MOTIVATION",
          "status": "passed",
          "title": "should apply both low and critical protections when M < CRITICAL_MOTIVATION",
          "duration": 0.44034400000009555,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyAttentionProtection"],
          "fullName": "Guardrails applyAttentionProtection should not modify params when attention is high",
          "status": "passed",
          "title": "should not modify params when attention is high",
          "duration": 0.3476220000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyAttentionProtection"],
          "fullName": "Guardrails applyAttentionProtection should apply low attention protection when A < MIN_ATTENTION",
          "status": "passed",
          "title": "should apply low attention protection when A < MIN_ATTENTION",
          "duration": 0.21361500000000433,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyAttentionProtection"],
          "fullName": "Guardrails applyAttentionProtection should keep already-constrained values",
          "status": "passed",
          "title": "should keep already-constrained values",
          "duration": 0.24497600000006514,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyTrendProtection"],
          "fullName": "Guardrails applyTrendProtection should not modify params when T is undefined",
          "status": "passed",
          "title": "should not modify params when T is undefined",
          "duration": 0.3693040000000565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyTrendProtection"],
          "fullName": "Guardrails applyTrendProtection should not modify params when T is null",
          "status": "passed",
          "title": "should not modify params when T is null",
          "duration": 0.17919499999993604,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyTrendProtection"],
          "fullName": "Guardrails applyTrendProtection should not modify params when T is \"up\"",
          "status": "passed",
          "title": "should not modify params when T is \"up\"",
          "duration": 0.37907799999993586,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyTrendProtection"],
          "fullName": "Guardrails applyTrendProtection should not modify params when T is \"flat\"",
          "status": "passed",
          "title": "should not modify params when T is \"flat\"",
          "duration": 0.21156500000006417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyTrendProtection"],
          "fullName": "Guardrails applyTrendProtection should apply down trend protection when T is \"down\"",
          "status": "passed",
          "title": "should apply down trend protection when T is \"down\"",
          "duration": 0.2236879999999246,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyTrendProtection"],
          "fullName": "Guardrails applyTrendProtection should apply stuck trend protection when T is \"stuck\"",
          "status": "passed",
          "title": "should apply stuck trend protection when T is \"stuck\"",
          "duration": 0.31110400000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyGuardrails"],
          "fullName": "Guardrails applyGuardrails should apply all protections in order",
          "status": "passed",
          "title": "should apply all protections in order",
          "duration": 0.30622700000003533,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyGuardrails"],
          "fullName": "Guardrails applyGuardrails should return unchanged params when user state is good",
          "status": "passed",
          "title": "should return unchanged params when user state is good",
          "duration": 0.15993700000001354,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "applyGuardrails"],
          "fullName": "Guardrails applyGuardrails should combine multiple protections correctly",
          "status": "passed",
          "title": "should combine multiple protections correctly",
          "duration": 0.12913900000000922,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "shouldSuggestBreak"],
          "fullName": "Guardrails shouldSuggestBreak should return true when F > HIGH_FATIGUE",
          "status": "passed",
          "title": "should return true when F > HIGH_FATIGUE",
          "duration": 0.20380599999998594,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "shouldSuggestBreak"],
          "fullName": "Guardrails shouldSuggestBreak should return false when F <= HIGH_FATIGUE",
          "status": "passed",
          "title": "should return false when F <= HIGH_FATIGUE",
          "duration": 0.12470500000006268,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "shouldSuggestBreak"],
          "fullName": "Guardrails shouldSuggestBreak should return false when F is low",
          "status": "passed",
          "title": "should return false when F is low",
          "duration": 0.14622899999994843,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "shouldForceBreak"],
          "fullName": "Guardrails shouldForceBreak should return true when F > CRITICAL_FATIGUE",
          "status": "passed",
          "title": "should return true when F > CRITICAL_FATIGUE",
          "duration": 0.4650769999999511,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "shouldForceBreak"],
          "fullName": "Guardrails shouldForceBreak should return false when F <= CRITICAL_FATIGUE",
          "status": "passed",
          "title": "should return false when F <= CRITICAL_FATIGUE",
          "duration": 0.3365839999999025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "shouldForceBreak"],
          "fullName": "Guardrails shouldForceBreak should return false when F is moderate",
          "status": "passed",
          "title": "should return false when F is moderate",
          "duration": 0.28383899999994355,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "isInDangerZone"],
          "fullName": "Guardrails isInDangerZone should return true when F > CRITICAL_FATIGUE",
          "status": "passed",
          "title": "should return true when F > CRITICAL_FATIGUE",
          "duration": 0.24041799999997693,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "isInDangerZone"],
          "fullName": "Guardrails isInDangerZone should return true when M < CRITICAL_MOTIVATION",
          "status": "passed",
          "title": "should return true when M < CRITICAL_MOTIVATION",
          "duration": 0.13517299999989518,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "isInDangerZone"],
          "fullName": "Guardrails isInDangerZone should return true when A < MIN_ATTENTION",
          "status": "passed",
          "title": "should return true when A < MIN_ATTENTION",
          "duration": 0.33107700000005025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "isInDangerZone"],
          "fullName": "Guardrails isInDangerZone should return false when all metrics are safe",
          "status": "passed",
          "title": "should return false when all metrics are safe",
          "duration": 0.7505499999999756,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "isInDangerZone"],
          "fullName": "Guardrails isInDangerZone should return true when multiple danger conditions are met",
          "status": "passed",
          "title": "should return true when multiple danger conditions are met",
          "duration": 0.23281299999996463,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return empty array when no protections are active",
          "status": "passed",
          "title": "should return empty array when no protections are active",
          "duration": 2.8751640000000407,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return fatigue when F > HIGH_FATIGUE",
          "status": "passed",
          "title": "should return fatigue when F > HIGH_FATIGUE",
          "duration": 5.465368000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return motivation when M < LOW_MOTIVATION",
          "status": "passed",
          "title": "should return motivation when M < LOW_MOTIVATION",
          "duration": 0.4252760000000535,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return attention when A < MIN_ATTENTION",
          "status": "passed",
          "title": "should return attention when A < MIN_ATTENTION",
          "duration": 0.2862290000000485,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return trend when T is \"down\"",
          "status": "passed",
          "title": "should return trend when T is \"down\"",
          "duration": 0.2145349999999553,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return trend when T is \"stuck\"",
          "status": "passed",
          "title": "should return trend when T is \"stuck\"",
          "duration": 0.2874289999999746,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should not return trend when T is undefined",
          "status": "passed",
          "title": "should not return trend when T is undefined",
          "duration": 5.212306000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should not return trend when T is \"up\" or \"flat\"",
          "status": "passed",
          "title": "should not return trend when T is \"up\" or \"flat\"",
          "duration": 0.42441199999996115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "getActiveProtections"],
          "fullName": "Guardrails getActiveProtections should return multiple protections when multiple conditions are met",
          "status": "passed",
          "title": "should return multiple protections when multiple conditions are met",
          "duration": 2.329375999999911,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "edge cases"],
          "fullName": "Guardrails edge cases should handle boundary values correctly for fatigue",
          "status": "passed",
          "title": "should handle boundary values correctly for fatigue",
          "duration": 0.33802300000002106,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "edge cases"],
          "fullName": "Guardrails edge cases should handle boundary values correctly for motivation",
          "status": "passed",
          "title": "should handle boundary values correctly for motivation",
          "duration": 0.19262400000002344,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "edge cases"],
          "fullName": "Guardrails edge cases should handle boundary values correctly for attention",
          "status": "passed",
          "title": "should handle boundary values correctly for attention",
          "duration": 0.29535900000007587,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Guardrails", "edge cases"],
          "fullName": "Guardrails edge cases should handle extreme parameter values",
          "status": "passed",
          "title": "should handle extreme parameter values",
          "duration": 0.22747400000002926,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909684,
      "endTime": 1765615909720.2275,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/decision/guardrails.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should return identical values when tau = 0 (no smoothing)",
          "status": "passed",
          "title": "should return identical values when tau = 0 (no smoothing)",
          "duration": 5.120333999999957,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should return current values when tau = 1 (full smoothing)",
          "status": "passed",
          "title": "should return current values when tau = 1 (full smoothing)",
          "duration": 1.0858749999999873,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should apply default smoothing coefficient",
          "status": "passed",
          "title": "should apply default smoothing coefficient",
          "duration": 0.6786280000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should clamp interval_scale to [0.5, 1.5]",
          "status": "passed",
          "title": "should clamp interval_scale to [0.5, 1.5]",
          "duration": 2.5161749999999756,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should clamp new_ratio to [0.05, 0.5]",
          "status": "passed",
          "title": "should clamp new_ratio to [0.05, 0.5]",
          "duration": 0.4053449999998975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should clamp batch_size to [5, 20]",
          "status": "passed",
          "title": "should clamp batch_size to [5, 20]",
          "duration": 0.2511289999999917,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should clamp hint_level to [0, 2]",
          "status": "passed",
          "title": "should clamp hint_level to [0, 2]",
          "duration": 1.0315380000000687,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should switch difficulty immediately (no smoothing)",
          "status": "passed",
          "title": "should switch difficulty immediately (no smoothing)",
          "duration": 0.39015699999993103,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionToStrategy"],
          "fullName": "Action Mapper mapActionToStrategy should round integer values after smoothing",
          "status": "passed",
          "title": "should round integer values after smoothing",
          "duration": 0.48543899999992846,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionDirect"],
          "fullName": "Action Mapper mapActionDirect should map action directly without smoothing",
          "status": "passed",
          "title": "should map action directly without smoothing",
          "duration": 0.5832629999999881,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionDirect"],
          "fullName": "Action Mapper mapActionDirect should clamp values to valid ranges",
          "status": "passed",
          "title": "should clamp values to valid ranges",
          "duration": 0.2857370000000401,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionDirect"],
          "fullName": "Action Mapper mapActionDirect should clamp values at lower bounds",
          "status": "passed",
          "title": "should clamp values at lower bounds",
          "duration": 0.23018500000000586,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapActionDirect"],
          "fullName": "Action Mapper mapActionDirect should preserve valid values",
          "status": "passed",
          "title": "should preserve valid values",
          "duration": 0.895460000000071,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should return 0 for identical strategies",
          "status": "passed",
          "title": "should return 0 for identical strategies",
          "duration": 0.2809180000000424,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should compute delta for interval_scale change",
          "status": "passed",
          "title": "should compute delta for interval_scale change",
          "duration": 0.18662400000005164,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should compute delta for new_ratio change with weight 10",
          "status": "passed",
          "title": "should compute delta for new_ratio change with weight 10",
          "duration": 0.13235999999994874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should compute delta for batch_size change with weight 1/5",
          "status": "passed",
          "title": "should compute delta for batch_size change with weight 1/5",
          "duration": 0.1582260000000133,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should compute delta for hint_level change",
          "status": "passed",
          "title": "should compute delta for hint_level change",
          "duration": 0.14231100000006336,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should add 1 for difficulty change",
          "status": "passed",
          "title": "should add 1 for difficulty change",
          "duration": 0.12907800000004954,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should compute combined delta for multiple changes",
          "status": "passed",
          "title": "should compute combined delta for multiple changes",
          "duration": 0.15738599999997405,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "computeStrategyDelta"],
          "fullName": "Action Mapper computeStrategyDelta should not add difficulty delta when difficulty is the same",
          "status": "passed",
          "title": "should not add difficulty delta when difficulty is the same",
          "duration": 0.13066400000002432,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "hasSignificantChange"],
          "fullName": "Action Mapper hasSignificantChange should return false for identical strategies",
          "status": "passed",
          "title": "should return false for identical strategies",
          "duration": 0.1743659999999636,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "hasSignificantChange"],
          "fullName": "Action Mapper hasSignificantChange should return false for small changes below threshold",
          "status": "passed",
          "title": "should return false for small changes below threshold",
          "duration": 0.1571760000000495,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "hasSignificantChange"],
          "fullName": "Action Mapper hasSignificantChange should return true for changes above threshold",
          "status": "passed",
          "title": "should return true for changes above threshold",
          "duration": 0.18126500000005308,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "hasSignificantChange"],
          "fullName": "Action Mapper hasSignificantChange should respect custom threshold",
          "status": "passed",
          "title": "should respect custom threshold",
          "duration": 0.17031099999996968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "hasSignificantChange"],
          "fullName": "Action Mapper hasSignificantChange should detect difficulty change as significant",
          "status": "passed",
          "title": "should detect difficulty change as significant",
          "duration": 0.1278899999999794,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "hasSignificantChange"],
          "fullName": "Action Mapper hasSignificantChange should return false when delta equals threshold",
          "status": "passed",
          "title": "should return false when delta equals threshold",
          "duration": 0.12850200000002587,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should return an action from ACTION_SPACE",
          "status": "passed",
          "title": "should return an action from ACTION_SPACE",
          "duration": 0.42558900000005906,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should find the closest action for a given strategy",
          "status": "passed",
          "title": "should find the closest action for a given strategy",
          "duration": 0.23737000000005537,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should prefer action matching difficulty",
          "status": "passed",
          "title": "should prefer action matching difficulty",
          "duration": 0.13217100000008486,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should handle edge case strategies",
          "status": "passed",
          "title": "should handle edge case strategies",
          "duration": 0.18196499999999105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should use preferredAction for tie-breaking",
          "status": "passed",
          "title": "should use preferredAction for tie-breaking",
          "duration": 0.2502829999999676,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should find action from ACTION_SPACE for various strategies",
          "status": "passed",
          "title": "should find action from ACTION_SPACE for various strategies",
          "duration": 0.35474099999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should handle conservative strategy mapping",
          "status": "passed",
          "title": "should handle conservative strategy mapping",
          "duration": 0.17840900000010151,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should prefer preferredAction when distances are equal",
          "status": "passed",
          "title": "should prefer preferredAction when distances are equal",
          "duration": 0.32446600000002945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "mapStrategyToAction"],
          "fullName": "Action Mapper mapStrategyToAction should return first action in ACTION_SPACE as fallback",
          "status": "passed",
          "title": "should return first action in ACTION_SPACE as fallback",
          "duration": 0.2523029999999835,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "integration"],
          "fullName": "Action Mapper integration should roundtrip action -> strategy -> action",
          "status": "passed",
          "title": "should roundtrip action -> strategy -> action",
          "duration": 0.8146950000000288,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "integration"],
          "fullName": "Action Mapper integration should handle smoothed transitions correctly",
          "status": "passed",
          "title": "should handle smoothed transitions correctly",
          "duration": 0.41532500000005257,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "integration"],
          "fullName": "Action Mapper integration should detect significant changes after smoothing",
          "status": "passed",
          "title": "should detect significant changes after smoothing",
          "duration": 0.21094600000003538,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "edge cases"],
          "fullName": "Action Mapper edge cases should handle NaN values in smoothing",
          "status": "passed",
          "title": "should handle NaN values in smoothing",
          "duration": 0.20357500000000073,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "edge cases"],
          "fullName": "Action Mapper edge cases should handle negative tau values",
          "status": "passed",
          "title": "should handle negative tau values",
          "duration": 0.21171800000001895,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "edge cases"],
          "fullName": "Action Mapper edge cases should handle all difficulty levels",
          "status": "passed",
          "title": "should handle all difficulty levels",
          "duration": 0.2708990000000995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Action Mapper", "edge cases"],
          "fullName": "Action Mapper edge cases should handle extreme parameter values in delta computation",
          "status": "passed",
          "title": "should handle extreme parameter values in delta computation",
          "duration": 0.25365099999999074,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912823,
      "endTime": 1765615912855.271,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/decision/mapper.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "computeMetrics"],
          "fullName": "MultiObjectiveDecisionEngine computeMetrics should compute metrics using MultiObjectiveOptimizer",
          "status": "failed",
          "title": "should compute metrics using MultiObjectiveOptimizer",
          "duration": 10.209518000000003,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called with arguments: [ Array(3) ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:104:63\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "computeMetrics"],
          "fullName": "MultiObjectiveDecisionEngine computeMetrics should return metrics without aggregatedScore and ts",
          "status": "passed",
          "title": "should return metrics without aggregatedScore and ts",
          "duration": 2.482586999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "computeMetrics"],
          "fullName": "MultiObjectiveDecisionEngine computeMetrics should return correct metric values from optimizer",
          "status": "failed",
          "title": "should return correct metric values from optimizer",
          "duration": 7.0306659999999965,
          "failureMessages": [
            "AssertionError: expected 0.825 to be 0.9 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:138:37\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should return decision with newStrategy, evaluation, and shouldAdjust",
          "status": "passed",
          "title": "should return decision with newStrategy, evaluation, and shouldAdjust",
          "duration": 0.6300770000000284,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should not adjust when constraints satisfied and score >= 0.7",
          "status": "passed",
          "title": "should not adjust when constraints satisfied and score >= 0.7",
          "duration": 0.35908999999992375,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should adjust when constraints not satisfied",
          "status": "failed",
          "title": "should adjust when constraints not satisfied",
          "duration": 1.057743999999957,
          "failureMessages": [
            "AssertionError: expected false to be true // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:192:35\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should adjust when aggregatedScore < 0.7",
          "status": "failed",
          "title": "should adjust when aggregatedScore < 0.7",
          "duration": 1.046385999999984,
          "failureMessages": [
            "AssertionError: expected false to be true // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:210:35\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should apply difficulty adjustments",
          "status": "failed",
          "title": "should apply difficulty adjustments",
          "duration": 2.299453999999969,
          "failureMessages": [
            "AssertionError: expected 'mid' to be 'easy' // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:227:45\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should apply hint_level adjustments",
          "status": "failed",
          "title": "should apply hint_level adjustments",
          "duration": 1.2318629999999757,
          "failureMessages": [
            "AssertionError: expected 1 to be 2 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:244:45\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should apply batch_size adjustments",
          "status": "failed",
          "title": "should apply batch_size adjustments",
          "duration": 3.4973050000000967,
          "failureMessages": [
            "AssertionError: expected 10 to be 5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:261:45\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should apply smooth adjustment for new_ratio",
          "status": "failed",
          "title": "should apply smooth adjustment for new_ratio",
          "duration": 1.031419000000028,
          "failureMessages": [
            "AssertionError: expected 0.3 to be 0.25 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:279:44\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should apply smooth adjustment for interval_scale",
          "status": "failed",
          "title": "should apply smooth adjustment for interval_scale",
          "duration": 0.9782390000000305,
          "failureMessages": [
            "AssertionError: expected 1 to be 0.9 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:297:49\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should not apply adjustments when suggestedAdjustments is undefined",
          "status": "passed",
          "title": "should not apply adjustments when suggestedAdjustments is undefined",
          "duration": 0.3024589999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "makeDecision"],
          "fullName": "MultiObjectiveDecisionEngine makeDecision should call evaluateStrategy with computed metrics",
          "status": "failed",
          "title": "should call evaluateStrategy with computed metrics",
          "duration": 1.3904280000000426,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called with arguments: [ ObjectContaining{…}, …(2) ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts:325:56\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "initializeStrategyForMode"],
          "fullName": "MultiObjectiveDecisionEngine initializeStrategyForMode should return exam mode strategy",
          "status": "passed",
          "title": "should return exam mode strategy",
          "duration": 0.24524499999995442,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "initializeStrategyForMode"],
          "fullName": "MultiObjectiveDecisionEngine initializeStrategyForMode should return daily mode strategy",
          "status": "passed",
          "title": "should return daily mode strategy",
          "duration": 0.2113920000000462,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "initializeStrategyForMode"],
          "fullName": "MultiObjectiveDecisionEngine initializeStrategyForMode should return travel mode strategy",
          "status": "passed",
          "title": "should return travel mode strategy",
          "duration": 0.15089100000000144,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "initializeStrategyForMode"],
          "fullName": "MultiObjectiveDecisionEngine initializeStrategyForMode should return custom mode strategy (default)",
          "status": "passed",
          "title": "should return custom mode strategy (default)",
          "duration": 0.22109799999998359,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "initializeStrategyForMode"],
          "fullName": "MultiObjectiveDecisionEngine initializeStrategyForMode should return default strategy for unknown mode",
          "status": "passed",
          "title": "should return default strategy for unknown mode",
          "duration": 0.28467699999998786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "calculateConfidence"],
          "fullName": "MultiObjectiveDecisionEngine calculateConfidence should start with base confidence of 0.5",
          "status": "passed",
          "title": "should start with base confidence of 0.5",
          "duration": 0.40917799999999716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "calculateConfidence"],
          "fullName": "MultiObjectiveDecisionEngine calculateConfidence should add 0.2 when constraints satisfied",
          "status": "passed",
          "title": "should add 0.2 when constraints satisfied",
          "duration": 0.2992829999999458,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "calculateConfidence"],
          "fullName": "MultiObjectiveDecisionEngine calculateConfidence should add aggregatedScore * 0.2",
          "status": "passed",
          "title": "should add aggregatedScore * 0.2",
          "duration": 0.21515499999998156,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "calculateConfidence"],
          "fullName": "MultiObjectiveDecisionEngine calculateConfidence should add userState.conf * 0.1",
          "status": "passed",
          "title": "should add userState.conf * 0.1",
          "duration": 0.18483600000001843,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "calculateConfidence"],
          "fullName": "MultiObjectiveDecisionEngine calculateConfidence should cap confidence at 1.0",
          "status": "passed",
          "title": "should cap confidence at 1.0",
          "duration": 0.200134999999932,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "calculateConfidence"],
          "fullName": "MultiObjectiveDecisionEngine calculateConfidence should not exceed 1.0 even with very high values",
          "status": "passed",
          "title": "should not exceed 1.0 even with very high values",
          "duration": 0.19508800000005522,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "shouldSwitchMode"],
          "fullName": "MultiObjectiveDecisionEngine shouldSwitchMode should return false for custom mode",
          "status": "passed",
          "title": "should return false for custom mode",
          "duration": 7.698290000000043,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "shouldSwitchMode"],
          "fullName": "MultiObjectiveDecisionEngine shouldSwitchMode should return true when score < 0.5 and violations >= 3",
          "status": "passed",
          "title": "should return true when score < 0.5 and violations >= 3",
          "duration": 0.22108299999990777,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "shouldSwitchMode"],
          "fullName": "MultiObjectiveDecisionEngine shouldSwitchMode should return false when score >= 0.5",
          "status": "passed",
          "title": "should return false when score >= 0.5",
          "duration": 0.17139299999996638,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "shouldSwitchMode"],
          "fullName": "MultiObjectiveDecisionEngine shouldSwitchMode should return false when violations < 3",
          "status": "passed",
          "title": "should return false when violations < 3",
          "duration": 0.21323599999993803,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "shouldSwitchMode"],
          "fullName": "MultiObjectiveDecisionEngine shouldSwitchMode should work for exam mode",
          "status": "passed",
          "title": "should work for exam mode",
          "duration": 0.18329800000003615,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "shouldSwitchMode"],
          "fullName": "MultiObjectiveDecisionEngine shouldSwitchMode should work for travel mode",
          "status": "passed",
          "title": "should work for travel mode",
          "duration": 0.16482600000006187,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should return null for custom mode",
          "status": "passed",
          "title": "should return null for custom mode",
          "duration": 0.2380040000000463,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should suggest exam mode when shortTermScore < 0.5",
          "status": "passed",
          "title": "should suggest exam mode when shortTermScore < 0.5",
          "duration": 0.20166299999993953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should suggest daily mode when longTermScore < 0.5",
          "status": "passed",
          "title": "should suggest daily mode when longTermScore < 0.5",
          "duration": 0.16519800000003215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should suggest travel mode when efficiencyScore < 0.5",
          "status": "passed",
          "title": "should suggest travel mode when efficiencyScore < 0.5",
          "duration": 0.15663999999992484,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should return null when all scores are good",
          "status": "passed",
          "title": "should return null when all scores are good",
          "duration": 0.19353699999999208,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should return null when suggested mode equals current mode",
          "status": "passed",
          "title": "should return null when suggested mode equals current mode",
          "duration": 0.18525499999998374,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "suggestAlternativeMode"],
          "fullName": "MultiObjectiveDecisionEngine suggestAlternativeMode should prioritize shortTermScore over other scores",
          "status": "passed",
          "title": "should prioritize shortTermScore over other scores",
          "duration": 0.22860000000002856,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "edge cases"],
          "fullName": "MultiObjectiveDecisionEngine edge cases should handle zero session stats",
          "status": "passed",
          "title": "should handle zero session stats",
          "duration": 1.0902899999999818,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "edge cases"],
          "fullName": "MultiObjectiveDecisionEngine edge cases should handle extreme session stats",
          "status": "passed",
          "title": "should handle extreme session stats",
          "duration": 0.3308350000000928,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "edge cases"],
          "fullName": "MultiObjectiveDecisionEngine edge cases should handle negative user state values",
          "status": "passed",
          "title": "should handle negative user state values",
          "duration": 0.2774890000000596,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "edge cases"],
          "fullName": "MultiObjectiveDecisionEngine edge cases should handle all zero weights in objectives",
          "status": "passed",
          "title": "should handle all zero weights in objectives",
          "duration": 0.3618739999999434,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveDecisionEngine", "with real MultiObjectiveOptimizer"],
          "fullName": "MultiObjectiveDecisionEngine with real MultiObjectiveOptimizer should compute realistic metrics",
          "status": "passed",
          "title": "should compute realistic metrics",
          "duration": 2.1809129999999186,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901634,
      "endTime": 1765615901685.181,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/decision/multi-objective-decision.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EngineCore", "initialize"],
          "fullName": "EngineCore initialize should initialize engine components",
          "status": "passed",
          "title": "should initialize engine components",
          "duration": 7.1290520000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "initialize"],
          "fullName": "EngineCore initialize should load model weights from repository",
          "status": "passed",
          "title": "should load model weights from repository",
          "duration": 0.740739000000076,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "initialize"],
          "fullName": "EngineCore initialize should setup monitoring",
          "status": "passed",
          "title": "should setup monitoring",
          "duration": 0.3958150000000842,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "initialize"],
          "fullName": "EngineCore initialize should use default LinUCB bandit when ensemble is disabled",
          "status": "passed",
          "title": "should use default LinUCB bandit when ensemble is disabled",
          "duration": 0.3584399999999732,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "initialize"],
          "fullName": "EngineCore initialize should accept custom bandit model",
          "status": "passed",
          "title": "should accept custom bandit model",
          "duration": 0.3634389999999712,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "makeDecision"],
          "fullName": "EngineCore makeDecision should make word selection decision",
          "status": "passed",
          "title": "should make word selection decision",
          "duration": 7.736644000000069,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "makeDecision"],
          "fullName": "EngineCore makeDecision should use current model from state",
          "status": "passed",
          "title": "should use current model from state",
          "duration": 2.8776040000000194,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "makeDecision"],
          "fullName": "EngineCore makeDecision should respect constraints",
          "status": "passed",
          "title": "should respect constraints",
          "duration": 1.9319679999998698,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "makeDecision"],
          "fullName": "EngineCore makeDecision should return valid action properties",
          "status": "passed",
          "title": "should return valid action properties",
          "duration": 2.8455260000000635,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "processOutcome"],
          "fullName": "EngineCore processOutcome should process learning outcome",
          "status": "passed",
          "title": "should process learning outcome",
          "duration": 3.3170299999999315,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "processOutcome"],
          "fullName": "EngineCore processOutcome should update internal state",
          "status": "passed",
          "title": "should update internal state",
          "duration": 1.0761829999999009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "processOutcome"],
          "fullName": "EngineCore processOutcome should generate explanation",
          "status": "passed",
          "title": "should generate explanation",
          "duration": 0.6344030000000203,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "processOutcome"],
          "fullName": "EngineCore processOutcome should compute reward value",
          "status": "passed",
          "title": "should compute reward value",
          "duration": 0.8600289999999404,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "processOutcome"],
          "fullName": "EngineCore processOutcome should return reward in valid range",
          "status": "passed",
          "title": "should return reward in valid range",
          "duration": 0.9758630000001176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "state management"],
          "fullName": "EngineCore state management should create default state for new user",
          "status": "passed",
          "title": "should create default state for new user",
          "duration": 1.0979259999999158,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "state management"],
          "fullName": "EngineCore state management should update state after processing event",
          "status": "passed",
          "title": "should update state after processing event",
          "duration": 3.9119630000000143,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "state management"],
          "fullName": "EngineCore state management should return state in result",
          "status": "passed",
          "title": "should return state in result",
          "duration": 7.614614000000074,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "state management"],
          "fullName": "EngineCore state management should load existing state",
          "status": "passed",
          "title": "should load existing state",
          "duration": 3.2338770000001205,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "state management"],
          "fullName": "EngineCore state management should reset user state",
          "status": "passed",
          "title": "should reset user state",
          "duration": 4.867492999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "state management"],
          "fullName": "EngineCore state management should get state via getState method",
          "status": "passed",
          "title": "should get state via getState method",
          "duration": 0.5449230000001535,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "cold start phase"],
          "fullName": "EngineCore cold start phase should return classify phase for new user",
          "status": "passed",
          "title": "should return classify phase for new user",
          "duration": 0.8530879999998433,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "cold start phase"],
          "fullName": "EngineCore cold start phase should transition phase based on interaction count",
          "status": "passed",
          "title": "should transition phase based on interaction count",
          "duration": 6.022725000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "cold start phase"],
          "fullName": "EngineCore cold start phase should track interaction count internally",
          "status": "passed",
          "title": "should track interaction count internally",
          "duration": 4.516517000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "delayed reward"],
          "fullName": "EngineCore delayed reward should apply delayed reward update when model exists",
          "status": "passed",
          "title": "should apply delayed reward update when model exists",
          "duration": 0.5590819999999894,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "delayed reward"],
          "fullName": "EngineCore delayed reward should handle model not found for delayed reward",
          "status": "passed",
          "title": "should handle model not found for delayed reward",
          "duration": 1.0475639999999657,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "delayed reward"],
          "fullName": "EngineCore delayed reward should validate feature vector dimensions",
          "status": "passed",
          "title": "should validate feature vector dimensions",
          "duration": 19.23980000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "resilience"],
          "fullName": "EngineCore resilience should handle anomalous events gracefully",
          "status": "passed",
          "title": "should handle anomalous events gracefully",
          "duration": 0.7180299999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "resilience"],
          "fullName": "EngineCore resilience should skip update when skipUpdate option is true",
          "status": "passed",
          "title": "should skip update when skipUpdate option is true",
          "duration": 0.8213980000000447,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "resilience"],
          "fullName": "EngineCore resilience should use current params when provided",
          "status": "passed",
          "title": "should use current params when provided",
          "duration": 0.6658429999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "resilience"],
          "fullName": "EngineCore resilience should handle zero response time",
          "status": "passed",
          "title": "should handle zero response time",
          "duration": 0.6943389999998999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "user isolation"],
          "fullName": "EngineCore user isolation should maintain separate state for different users",
          "status": "passed",
          "title": "should maintain separate state for different users",
          "duration": 8.147167999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "user isolation"],
          "fullName": "EngineCore user isolation should handle concurrent requests for same user",
          "status": "passed",
          "title": "should handle concurrent requests for same user",
          "duration": 2.310480000000098,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "user isolation"],
          "fullName": "EngineCore user isolation should not mix state between users",
          "status": "passed",
          "title": "should not mix state between users",
          "duration": 4.106293000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "reward profile cache"],
          "fullName": "EngineCore reward profile cache should invalidate reward profile cache",
          "status": "passed",
          "title": "should invalidate reward profile cache",
          "duration": 1.8752680000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "reward profile cache"],
          "fullName": "EngineCore reward profile cache should handle multiple invalidations",
          "status": "passed",
          "title": "should handle multiple invalidations",
          "duration": 1.6491820000001098,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "shutdown"],
          "fullName": "EngineCore shutdown should gracefully shutdown",
          "status": "passed",
          "title": "should gracefully shutdown",
          "duration": 0.5743069999998625,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "shutdown"],
          "fullName": "EngineCore shutdown should complete all pending operations",
          "status": "passed",
          "title": "should complete all pending operations",
          "duration": 0.48984199999995326,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle very fast response time",
          "status": "passed",
          "title": "should handle very fast response time",
          "duration": 0.37290600000005725,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle very slow response time",
          "status": "passed",
          "title": "should handle very slow response time",
          "duration": 0.3469790000001467,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle user with many interactions",
          "status": "passed",
          "title": "should handle user with many interactions",
          "duration": 19.333897999999863,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle streak of correct answers",
          "status": "passed",
          "title": "should handle streak of correct answers",
          "duration": 1.4780209999998988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle streak of incorrect answers",
          "status": "passed",
          "title": "should handle streak of incorrect answers",
          "duration": 1.3799579999999878,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle alternating correctness",
          "status": "passed",
          "title": "should handle alternating correctness",
          "duration": 20.61820499999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle timestamp in the past",
          "status": "passed",
          "title": "should handle timestamp in the past",
          "duration": 0.6598280000000614,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "edge cases"],
          "fullName": "EngineCore edge cases should handle timestamp in the future",
          "status": "passed",
          "title": "should handle timestamp in the future",
          "duration": 0.5191030000000865,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "explanation and suggestion"],
          "fullName": "EngineCore explanation and suggestion should provide suggestion when needed",
          "status": "passed",
          "title": "should provide suggestion when needed",
          "duration": 0.3214379999999437,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "explanation and suggestion"],
          "fullName": "EngineCore explanation and suggestion should indicate break suggestion for fatigued user",
          "status": "passed",
          "title": "should indicate break suggestion for fatigued user",
          "duration": 3.1856740000000627,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "explanation and suggestion"],
          "fullName": "EngineCore explanation and suggestion should generate enhanced explanation",
          "status": "passed",
          "title": "should generate enhanced explanation",
          "duration": 3.2207069999999476,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "explanation and suggestion"],
          "fullName": "EngineCore explanation and suggestion should provide explanation with strategy changes",
          "status": "passed",
          "title": "should provide explanation with strategy changes",
          "duration": 0.7623340000000098,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "feature vector"],
          "fullName": "EngineCore feature vector should return persistable feature vector",
          "status": "passed",
          "title": "should return persistable feature vector",
          "duration": 0.3235219999999117,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "feature vector"],
          "fullName": "EngineCore feature vector should have consistent feature vector dimensions",
          "status": "passed",
          "title": "should have consistent feature vector dimensions",
          "duration": 0.47127099999988786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "feature vector"],
          "fullName": "EngineCore feature vector should include feature labels",
          "status": "passed",
          "title": "should include feature labels",
          "duration": 0.3621109999999135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "multi-objective optimization"],
          "fullName": "EngineCore multi-objective optimization should accept learning objectives in options",
          "status": "passed",
          "title": "should accept learning objectives in options",
          "duration": 0.39589599999999336,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "multi-objective optimization"],
          "fullName": "EngineCore multi-objective optimization should handle different learning modes",
          "status": "passed",
          "title": "should handle different learning modes",
          "duration": 0.5409450000001925,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "interaction count"],
          "fullName": "EngineCore interaction count should accept interaction count in options",
          "status": "passed",
          "title": "should accept interaction count in options",
          "duration": 0.5346939999999449,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "interaction count"],
          "fullName": "EngineCore interaction count should accept recent accuracy in options",
          "status": "passed",
          "title": "should accept recent accuracy in options",
          "duration": 1.0152049999999235,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "reward profile cache"],
          "fullName": "EngineCore Critical Paths reward profile cache should return cached reward when available",
          "status": "passed",
          "title": "should return cached reward when available",
          "duration": 0.9606669999998303,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "reward profile cache"],
          "fullName": "EngineCore Critical Paths reward profile cache should refresh cache after TTL expires",
          "status": "passed",
          "title": "should refresh cache after TTL expires",
          "duration": 1.1901050000001305,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "reward profile cache"],
          "fullName": "EngineCore Critical Paths reward profile cache should handle cache with multiple users independently",
          "status": "passed",
          "title": "should handle cache with multiple users independently",
          "duration": 2.7665660000000116,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "decision recording degradation"],
          "fullName": "EngineCore Critical Paths decision recording degradation should degrade gracefully when decision recording fails",
          "status": "passed",
          "title": "should degrade gracefully when decision recording fails",
          "duration": 1.1386230000000523,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "decision recording degradation"],
          "fullName": "EngineCore Critical Paths decision recording degradation should continue processing when recorder is not available",
          "status": "passed",
          "title": "should continue processing when recorder is not available",
          "duration": 0.4634490000000824,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "decision recording degradation"],
          "fullName": "EngineCore Critical Paths decision recording degradation should not block main flow when recording is slow",
          "status": "passed",
          "title": "should not block main flow when recording is slow",
          "duration": 0.7958770000000186,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "processEvent end-to-end"],
          "fullName": "EngineCore Critical Paths processEvent end-to-end should process learning event end-to-end",
          "status": "passed",
          "title": "should process learning event end-to-end",
          "duration": 1.6400759999999082,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "processEvent end-to-end"],
          "fullName": "EngineCore Critical Paths processEvent end-to-end should persist state across multiple events",
          "status": "passed",
          "title": "should persist state across multiple events",
          "duration": 0.9976870000000417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "processEvent end-to-end"],
          "fullName": "EngineCore Critical Paths processEvent end-to-end should handle concurrent requests correctly",
          "status": "passed",
          "title": "should handle concurrent requests correctly",
          "duration": 11.353661000000102,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "processEvent end-to-end"],
          "fullName": "EngineCore Critical Paths processEvent end-to-end should handle rapid sequential requests",
          "status": "passed",
          "title": "should handle rapid sequential requests",
          "duration": 6.0650369999998475,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "processEvent end-to-end"],
          "fullName": "EngineCore Critical Paths processEvent end-to-end should apply guardrails correctly in e2e flow",
          "status": "passed",
          "title": "should apply guardrails correctly in e2e flow",
          "duration": 1.3575850000001992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "processEvent end-to-end"],
          "fullName": "EngineCore Critical Paths processEvent end-to-end should handle word review history in ACT-R calculations",
          "status": "passed",
          "title": "should handle word review history in ACT-R calculations",
          "duration": 0.33168000000000575,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "memory stats"],
          "fullName": "EngineCore Critical Paths memory stats should report memory statistics",
          "status": "passed",
          "title": "should report memory statistics",
          "duration": 0.41780599999992774,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "memory stats"],
          "fullName": "EngineCore Critical Paths memory stats should track reward profile cache count",
          "status": "passed",
          "title": "should track reward profile cache count",
          "duration": 0.2691580000000613,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineCore", "Critical Paths", "destroy and cleanup"],
          "fullName": "EngineCore Critical Paths destroy and cleanup should clean up resources on destroy",
          "status": "passed",
          "title": "should clean up resources on destroy",
          "duration": 0.2638249999999971,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615906377,
      "endTime": 1765615906573.269,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-core.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should select action using LinUCB in normal phase",
          "status": "passed",
          "title": "should select action using LinUCB in normal phase",
          "duration": 9.709375000000023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should return valid action from action space",
          "status": "passed",
          "title": "should return valid action from action space",
          "duration": 10.928143999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should build context vector for LinUCB",
          "status": "passed",
          "title": "should build context vector for LinUCB",
          "duration": 1.640749000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should return confidence value",
          "status": "passed",
          "title": "should return confidence value",
          "duration": 1.3885130000001027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should fallback to default action when bandit is not LinUCB",
          "status": "passed",
          "title": "should fallback to default action when bandit is not LinUCB",
          "duration": 4.689521000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should handle classify phase",
          "status": "passed",
          "title": "should handle classify phase",
          "duration": 0.8015120000000024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should handle explore phase",
          "status": "passed",
          "title": "should handle explore phase",
          "duration": 1.0517889999999852,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should handle word review history for ACT-R",
          "status": "passed",
          "title": "should handle word review history for ACT-R",
          "duration": 1.0440099999999575,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "selectAction"],
          "fullName": "LearningManager selectAction should adjust alpha based on interaction count and accuracy",
          "status": "passed",
          "title": "should adjust alpha based on interaction count and accuracy",
          "duration": 1.6084180000000288,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "buildContextVector"],
          "fullName": "LearningManager buildContextVector should build context vector for LinUCB",
          "status": "passed",
          "title": "should build context vector for LinUCB",
          "duration": 0.6209499999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "buildContextVector"],
          "fullName": "LearningManager buildContextVector should return undefined for non-LinUCB bandit",
          "status": "passed",
          "title": "should return undefined for non-LinUCB bandit",
          "duration": 0.4186889999999721,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "buildContextVector"],
          "fullName": "LearningManager buildContextVector should include all context features",
          "status": "passed",
          "title": "should include all context features",
          "duration": 6.956962999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "updateModels"],
          "fullName": "LearningManager updateModels should update LinUCB model with reward",
          "status": "passed",
          "title": "should update LinUCB model with reward",
          "duration": 3.752894999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "updateModels"],
          "fullName": "LearningManager updateModels should handle correct answer",
          "status": "passed",
          "title": "should handle correct answer",
          "duration": 5.392993000000047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "updateModels"],
          "fullName": "LearningManager updateModels should handle incorrect answer",
          "status": "passed",
          "title": "should handle incorrect answer",
          "duration": 1.5470809999999346,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "updateModels"],
          "fullName": "LearningManager updateModels should handle word review history for ACT-R",
          "status": "passed",
          "title": "should handle word review history for ACT-R",
          "duration": 1.1449159999999665,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "updateModels"],
          "fullName": "LearningManager updateModels should handle different cold start phases",
          "status": "passed",
          "title": "should handle different cold start phases",
          "duration": 2.1358360000000403,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should compute positive reward for correct answer",
          "status": "passed",
          "title": "should compute positive reward for correct answer",
          "duration": 0.6150519999999915,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should compute negative reward for incorrect answer",
          "status": "passed",
          "title": "should compute negative reward for incorrect answer",
          "duration": 0.3223209999999881,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should return reward in valid range [-1, 1]",
          "status": "passed",
          "title": "should return reward in valid range [-1, 1]",
          "duration": 1.6922539999999344,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should penalize fatigue",
          "status": "passed",
          "title": "should penalize fatigue",
          "duration": 3.933887000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should reward fast responses",
          "status": "passed",
          "title": "should reward fast responses",
          "duration": 0.5676289999998971,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should penalize frustration (retries and low motivation)",
          "status": "passed",
          "title": "should penalize frustration (retries and low motivation)",
          "duration": 0.408362000000011,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should use standard profile by default",
          "status": "passed",
          "title": "should use standard profile by default",
          "duration": 0.26031299999999646,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should handle different reward profiles",
          "status": "passed",
          "title": "should handle different reward profiles",
          "duration": 0.33067300000004707,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should consider engagement with dwell time",
          "status": "passed",
          "title": "should consider engagement with dwell time",
          "duration": 0.26309600000001865,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should handle edge case with zero response time",
          "status": "passed",
          "title": "should handle edge case with zero response time",
          "duration": 0.32361699999989924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "computeReward"],
          "fullName": "LearningManager computeReward should handle edge case with very long response time",
          "status": "passed",
          "title": "should handle edge case with very long response time",
          "duration": 7.648281999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "applyUserParams"],
          "fullName": "LearningManager applyUserParams should not throw when userParams is null",
          "status": "passed",
          "title": "should not throw when userParams is null",
          "duration": 0.4756529999999657,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "applyUserParams"],
          "fullName": "LearningManager applyUserParams should apply cold start alpha when not in cold start phase",
          "status": "passed",
          "title": "should apply cold start alpha when not in cold start phase",
          "duration": 0.25911500000006527,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "applyUserParams"],
          "fullName": "LearningManager applyUserParams should skip alpha adjustment in cold start phase",
          "status": "passed",
          "title": "should skip alpha adjustment in cold start phase",
          "duration": 0.19184699999993882,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "applyUserParams"],
          "fullName": "LearningManager applyUserParams should handle high fatigue value",
          "status": "passed",
          "title": "should handle high fatigue value",
          "duration": 0.33217899999999645,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "applyUserParams"],
          "fullName": "LearningManager applyUserParams should handle various accuracy levels",
          "status": "passed",
          "title": "should handle various accuracy levels",
          "duration": 1.0512549999999692,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Integration"],
          "fullName": "LearningManager Integration should work in complete flow: select -> update -> compute",
          "status": "passed",
          "title": "should work in complete flow: select -> update -> compute",
          "duration": 1.1612199999999575,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Integration"],
          "fullName": "LearningManager Integration should handle multiple iterations",
          "status": "passed",
          "title": "should handle multiple iterations",
          "duration": 11.142502000000036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Integration"],
          "fullName": "LearningManager Integration should handle cold start to normal phase transition",
          "status": "passed",
          "title": "should handle cold start to normal phase transition",
          "duration": 0.9326469999999745,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Edge Cases"],
          "fullName": "LearningManager Edge Cases should handle empty word review history",
          "status": "passed",
          "title": "should handle empty word review history",
          "duration": 1.5430579999999736,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Edge Cases"],
          "fullName": "LearningManager Edge Cases should handle extreme state values",
          "status": "passed",
          "title": "should handle extreme state values",
          "duration": 4.511672999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Edge Cases"],
          "fullName": "LearningManager Edge Cases should handle extreme context values",
          "status": "passed",
          "title": "should handle extreme context values",
          "duration": 0.7606380000000854,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Edge Cases"],
          "fullName": "LearningManager Edge Cases should handle zero interaction count",
          "status": "passed",
          "title": "should handle zero interaction count",
          "duration": 0.43533899999999903,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LearningManager", "Edge Cases"],
          "fullName": "LearningManager Edge Cases should handle undefined dwell time in reward computation",
          "status": "passed",
          "title": "should handle undefined dwell time in reward computation",
          "duration": 0.29744899999991503,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908975,
      "endTime": 1765615909071.2974,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-learning.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update user state based on event",
          "status": "passed",
          "title": "should update user state based on event",
          "duration": 9.655081999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update attention (A) based on features",
          "status": "passed",
          "title": "should update attention (A) based on features",
          "duration": 0.9383920000000217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update fatigue (F) based on error rate and response time",
          "status": "passed",
          "title": "should update fatigue (F) based on error rate and response time",
          "duration": 0.5783390000001418,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update cognitive profile (C)",
          "status": "passed",
          "title": "should update cognitive profile (C)",
          "duration": 0.869792999999845,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update motivation (M) based on success/failure",
          "status": "passed",
          "title": "should update motivation (M) based on success/failure",
          "duration": 6.095886999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should preserve trend state when trend analyzer is disabled",
          "status": "passed",
          "title": "should preserve trend state when trend analyzer is disabled",
          "duration": 0.9820169999998143,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update timestamp",
          "status": "passed",
          "title": "should update timestamp",
          "duration": 0.4176660000000538,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should increase confidence",
          "status": "passed",
          "title": "should increase confidence",
          "duration": 7.790635000000066,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should cap confidence at 1",
          "status": "passed",
          "title": "should cap confidence at 1",
          "duration": 0.969045000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should handle paused time for fatigue decay",
          "status": "passed",
          "title": "should handle paused time for fatigue decay",
          "duration": 0.5455799999999726,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should calculate error variance correctly",
          "status": "passed",
          "title": "should calculate error variance correctly",
          "duration": 0.6648229999998421,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "updateUserState"],
          "fullName": "ModelingManager updateUserState should update with trend analyzer when enabled",
          "status": "passed",
          "title": "should update with trend analyzer when enabled",
          "duration": 3.02431300000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "extractAttentionFeatures"],
          "fullName": "ModelingManager extractAttentionFeatures should extract all attention features from feature vector",
          "status": "passed",
          "title": "should extract all attention features from feature vector",
          "duration": 0.7558879999999135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "extractAttentionFeatures"],
          "fullName": "ModelingManager extractAttentionFeatures should handle short feature vector with defaults",
          "status": "passed",
          "title": "should handle short feature vector with defaults",
          "duration": 0.5702060000000984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "extractAttentionFeatures"],
          "fullName": "ModelingManager extractAttentionFeatures should handle empty feature vector",
          "status": "passed",
          "title": "should handle empty feature vector",
          "duration": 0.48291100000005827,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "extractAttentionFeatures"],
          "fullName": "ModelingManager extractAttentionFeatures should handle NaN values with defaults",
          "status": "passed",
          "title": "should handle NaN values with defaults",
          "duration": 0.3488079999999627,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "extractAttentionFeatures"],
          "fullName": "ModelingManager extractAttentionFeatures should handle Infinity values with defaults",
          "status": "passed",
          "title": "should handle Infinity values with defaults",
          "duration": 0.43005600000014965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should create a valid default state",
          "status": "passed",
          "title": "should create a valid default state",
          "duration": 0.8114739999998619,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have expected default attention value",
          "status": "passed",
          "title": "should have expected default attention value",
          "duration": 0.4490180000000237,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have expected default fatigue value",
          "status": "passed",
          "title": "should have expected default fatigue value",
          "duration": 0.24730599999998049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have expected default cognitive profile",
          "status": "passed",
          "title": "should have expected default cognitive profile",
          "duration": 2.1618700000001354,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have expected default motivation value",
          "status": "passed",
          "title": "should have expected default motivation value",
          "duration": 0.4344029999999748,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have expected default trend state",
          "status": "passed",
          "title": "should have expected default trend state",
          "duration": 0.24777399999993577,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have expected default confidence value",
          "status": "passed",
          "title": "should have expected default confidence value",
          "duration": 0.43294600000012906,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should have recent timestamp",
          "status": "passed",
          "title": "should have recent timestamp",
          "duration": 0.3495869999999286,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "createDefaultState"],
          "fullName": "ModelingManager createDefaultState should create independent instances",
          "status": "passed",
          "title": "should create independent instances",
          "duration": 0.9884170000000267,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should return 0 for morning hours (0-11)",
          "status": "passed",
          "title": "should return 0 for morning hours (0-11)",
          "duration": 0.45006100000000515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should return 1 for afternoon hours (12-17)",
          "status": "passed",
          "title": "should return 1 for afternoon hours (12-17)",
          "duration": 0.1985109999998258,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should return 2 for evening hours (18-23)",
          "status": "passed",
          "title": "should return 2 for evening hours (18-23)",
          "duration": 0.23315100000013445,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle midnight (0 hours)",
          "status": "passed",
          "title": "should handle midnight (0 hours)",
          "duration": 0.17050399999993715,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle 11:59 AM (boundary)",
          "status": "passed",
          "title": "should handle 11:59 AM (boundary)",
          "duration": 0.2699199999999564,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle 12:00 PM (boundary)",
          "status": "passed",
          "title": "should handle 12:00 PM (boundary)",
          "duration": 0.19942300000002433,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle 5:59 PM (boundary)",
          "status": "passed",
          "title": "should handle 5:59 PM (boundary)",
          "duration": 0.15463599999998223,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle 6:00 PM (boundary)",
          "status": "passed",
          "title": "should handle 6:00 PM (boundary)",
          "duration": 0.16525900000010552,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle 11:59 PM (boundary)",
          "status": "passed",
          "title": "should handle 11:59 PM (boundary)",
          "duration": 0.15292100000010578,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "getTimeBucket"],
          "fullName": "ModelingManager getTimeBucket should handle all hours correctly",
          "status": "passed",
          "title": "should handle all hours correctly",
          "duration": 2.105833000000075,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Integration"],
          "fullName": "ModelingManager Integration should work in complete state update flow",
          "status": "passed",
          "title": "should work in complete state update flow",
          "duration": 4.833268000000089,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Integration"],
          "fullName": "ModelingManager Integration should handle consecutive correct answers",
          "status": "passed",
          "title": "should handle consecutive correct answers",
          "duration": 4.0321969999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Integration"],
          "fullName": "ModelingManager Integration should handle consecutive incorrect answers",
          "status": "passed",
          "title": "should handle consecutive incorrect answers",
          "duration": 0.8274819999999181,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Integration"],
          "fullName": "ModelingManager Integration should handle alternating correct/incorrect answers",
          "status": "passed",
          "title": "should handle alternating correct/incorrect answers",
          "duration": 2.3480460000000676,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle extreme feature values",
          "status": "passed",
          "title": "should handle extreme feature values",
          "duration": 0.7017220000000179,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle zero response time",
          "status": "passed",
          "title": "should handle zero response time",
          "duration": 0.4239270000000488,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle very long response time",
          "status": "passed",
          "title": "should handle very long response time",
          "duration": 0.25305200000002515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle timestamp in the past",
          "status": "passed",
          "title": "should handle timestamp in the past",
          "duration": 0.23791700000015226,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle timestamp in the future",
          "status": "passed",
          "title": "should handle timestamp in the future",
          "duration": 0.22147800000016105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle high retry count",
          "status": "passed",
          "title": "should handle high retry count",
          "duration": 0.2321070000000418,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle very long pause",
          "status": "passed",
          "title": "should handle very long pause",
          "duration": 0.24034099999994396,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle error rate of 0",
          "status": "passed",
          "title": "should handle error rate of 0",
          "duration": 0.2623230000001513,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle error rate of 1",
          "status": "passed",
          "title": "should handle error rate of 1",
          "duration": 0.30076599999983955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "Edge Cases"],
          "fullName": "ModelingManager Edge Cases should handle negative feature values",
          "status": "passed",
          "title": "should handle negative feature values",
          "duration": 0.2808509999999842,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "State Consistency"],
          "fullName": "ModelingManager State Consistency should maintain all required state fields",
          "status": "passed",
          "title": "should maintain all required state fields",
          "duration": 0.9708370000000741,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ModelingManager", "State Consistency"],
          "fullName": "ModelingManager State Consistency should preserve H field if it exists",
          "status": "passed",
          "title": "should preserve H field if it exists",
          "duration": 1.319159000000127,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911589,
      "endTime": 1765615911659.319,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-modeling.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EnginePersistence", "interface implementation"],
          "fullName": "EnginePersistence interface implementation should implement PersistenceManager interface",
          "status": "passed",
          "title": "should implement PersistenceManager interface",
          "duration": 8.478085999999848,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "interface implementation"],
          "fullName": "EnginePersistence interface implementation should work without logger",
          "status": "passed",
          "title": "should work without logger",
          "duration": 1.6265339999999924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadState"],
          "fullName": "EnginePersistence loadState should return null for non-existent user",
          "status": "passed",
          "title": "should return null for non-existent user",
          "duration": 0.3983349999998609,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadState"],
          "fullName": "EnginePersistence loadState should load existing user state",
          "status": "passed",
          "title": "should load existing user state",
          "duration": 0.9941149999999652,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadState"],
          "fullName": "EnginePersistence loadState should load state with all properties",
          "status": "passed",
          "title": "should load state with all properties",
          "duration": 0.9759010000000217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadState"],
          "fullName": "EnginePersistence loadState should handle multiple users independently",
          "status": "passed",
          "title": "should handle multiple users independently",
          "duration": 0.5386109999999462,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveState"],
          "fullName": "EnginePersistence saveState should save user state",
          "status": "passed",
          "title": "should save user state",
          "duration": 0.37626000000000204,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveState"],
          "fullName": "EnginePersistence saveState should save state with cold start data",
          "status": "passed",
          "title": "should save state with cold start data",
          "duration": 0.32716000000004897,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveState"],
          "fullName": "EnginePersistence saveState should overwrite existing state",
          "status": "passed",
          "title": "should overwrite existing state",
          "duration": 0.7583420000000842,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveState"],
          "fullName": "EnginePersistence saveState should save state without cold start data",
          "status": "passed",
          "title": "should save state without cold start data",
          "duration": 1.9897960000000694,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadModelIfExists - LinUCB"],
          "fullName": "EnginePersistence loadModelIfExists - LinUCB should not modify bandit if no model exists",
          "status": "passed",
          "title": "should not modify bandit if no model exists",
          "duration": 1.1030849999999646,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadModelIfExists - LinUCB"],
          "fullName": "EnginePersistence loadModelIfExists - LinUCB should load model into LinUCB bandit",
          "status": "passed",
          "title": "should load model into LinUCB bandit",
          "duration": 2.7597309999998743,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadModelIfExists - LinUCB"],
          "fullName": "EnginePersistence loadModelIfExists - LinUCB should preserve model state after loading",
          "status": "passed",
          "title": "should preserve model state after loading",
          "duration": 1.5411579999999958,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadModelIfExists - Ensemble"],
          "fullName": "EnginePersistence loadModelIfExists - Ensemble should load model into EnsembleLearningFramework",
          "status": "passed",
          "title": "should load model into EnsembleLearningFramework",
          "duration": 2.234837000000198,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "loadModelIfExists - Ensemble"],
          "fullName": "EnginePersistence loadModelIfExists - Ensemble should merge with existing ensemble state",
          "status": "passed",
          "title": "should merge with existing ensemble state",
          "duration": 2.4043320000000676,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveModel - LinUCB"],
          "fullName": "EnginePersistence saveModel - LinUCB should save LinUCB model",
          "status": "passed",
          "title": "should save LinUCB model",
          "duration": 4.402201000000105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveModel - LinUCB"],
          "fullName": "EnginePersistence saveModel - LinUCB should overwrite existing model",
          "status": "passed",
          "title": "should overwrite existing model",
          "duration": 4.902679000000035,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveModel - Ensemble"],
          "fullName": "EnginePersistence saveModel - Ensemble should save ensemble LinUCB model",
          "status": "passed",
          "title": "should save ensemble LinUCB model",
          "duration": 1.9020590000000084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveModel - Ensemble"],
          "fullName": "EnginePersistence saveModel - Ensemble should extract LinUCB model from ensemble",
          "status": "passed",
          "title": "should extract LinUCB model from ensemble",
          "duration": 1.3721350000000712,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "saveModel - unsupported types"],
          "fullName": "EnginePersistence saveModel - unsupported types should silently skip unsupported model types",
          "status": "passed",
          "title": "should silently skip unsupported model types",
          "duration": 0.3240690000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "edge cases"],
          "fullName": "EnginePersistence edge cases should handle empty userId",
          "status": "passed",
          "title": "should handle empty userId",
          "duration": 0.3437260000000606,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "edge cases"],
          "fullName": "EnginePersistence edge cases should handle state with minimum values",
          "status": "passed",
          "title": "should handle state with minimum values",
          "duration": 0.15396000000009735,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "edge cases"],
          "fullName": "EnginePersistence edge cases should handle state with maximum values",
          "status": "passed",
          "title": "should handle state with maximum values",
          "duration": 0.15016099999979815,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "edge cases"],
          "fullName": "EnginePersistence edge cases should handle cold start state with settled strategy",
          "status": "passed",
          "title": "should handle cold start state with settled strategy",
          "duration": 0.19093400000019756,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "edge cases"],
          "fullName": "EnginePersistence edge cases should handle concurrent save operations",
          "status": "passed",
          "title": "should handle concurrent save operations",
          "duration": 0.1996560000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "edge cases"],
          "fullName": "EnginePersistence edge cases should handle model with high dimension",
          "status": "passed",
          "title": "should handle model with high dimension",
          "duration": 0.694836000000123,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "state and model consistency"],
          "fullName": "EnginePersistence state and model consistency should save state and model for same user independently",
          "status": "passed",
          "title": "should save state and model for same user independently",
          "duration": 0.5133460000001833,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "state and model consistency"],
          "fullName": "EnginePersistence state and model consistency should allow updating state without affecting model",
          "status": "passed",
          "title": "should allow updating state without affecting model",
          "duration": 0.9634300000000167,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "custom repositories"],
          "fullName": "EnginePersistence custom repositories should work with custom state repository",
          "status": "passed",
          "title": "should work with custom state repository",
          "duration": 6.2473059999999805,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnginePersistence", "custom repositories"],
          "fullName": "EnginePersistence custom repositories should work with custom model repository",
          "status": "passed",
          "title": "should work with custom model repository",
          "duration": 1.2348339999998643,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911442,
      "endTime": 1765615911499.2349,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-persistence.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EngineResilience", "initialization"],
          "fullName": "EngineResilience initialization should create ResilienceManager instance",
          "status": "passed",
          "title": "should create ResilienceManager instance",
          "duration": 3.0766869999999926,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "initialization"],
          "fullName": "EngineResilience initialization should work without logger",
          "status": "passed",
          "title": "should work without logger",
          "duration": 0.8482770000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "initialization"],
          "fullName": "EngineResilience initialization should initialize circuit breaker with callbacks",
          "status": "passed",
          "title": "should initialize circuit breaker with callbacks",
          "duration": 1.6858169999998154,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker management", "canExecute"],
          "fullName": "EngineResilience circuit breaker management canExecute should delegate to circuit breaker canExecute",
          "status": "passed",
          "title": "should delegate to circuit breaker canExecute",
          "duration": 1.3097449999997934,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker management", "canExecute"],
          "fullName": "EngineResilience circuit breaker management canExecute should return false when circuit is open",
          "status": "passed",
          "title": "should return false when circuit is open",
          "duration": 0.8577200000001994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker management", "recordSuccess"],
          "fullName": "EngineResilience circuit breaker management recordSuccess should delegate to circuit breaker recordSuccess",
          "status": "passed",
          "title": "should delegate to circuit breaker recordSuccess",
          "duration": 0.49480800000014824,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker management", "recordFailure"],
          "fullName": "EngineResilience circuit breaker management recordFailure should delegate to circuit breaker recordFailure with error message",
          "status": "passed",
          "title": "should delegate to circuit breaker recordFailure with error message",
          "duration": 0.6035719999999856,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker management", "recordFailure"],
          "fullName": "EngineResilience circuit breaker management recordFailure should handle empty error message",
          "status": "passed",
          "title": "should handle empty error message",
          "duration": 1.3205880000000434,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should execute function successfully within timeout",
          "status": "passed",
          "title": "should execute function successfully within timeout",
          "duration": 1.0030030000000352,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should throw timeout error when function takes too long",
          "status": "passed",
          "title": "should throw timeout error when function takes too long",
          "duration": 4.043263999999908,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should call onTimeout callback when timeout occurs",
          "status": "passed",
          "title": "should call onTimeout callback when timeout occurs",
          "duration": 1.5697529999999915,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should abort via AbortController when timeout occurs",
          "status": "passed",
          "title": "should abort via AbortController when timeout occurs",
          "duration": 1.1433489999999438,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should record telemetry on timeout",
          "status": "passed",
          "title": "should record telemetry on timeout",
          "duration": 1.9688569999998435,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should clear timeout on successful execution",
          "status": "passed",
          "title": "should clear timeout on successful execution",
          "duration": 0.38951399999996283,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should propagate non-timeout errors",
          "status": "passed",
          "title": "should propagate non-timeout errors",
          "duration": 0.4784190000000308,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should handle very short timeout",
          "status": "passed",
          "title": "should handle very short timeout",
          "duration": 0.8396720000000641,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "executeWithTimeout"],
          "fullName": "EngineResilience executeWithTimeout should log warning on timeout with logger",
          "status": "passed",
          "title": "should log warning on timeout with logger",
          "duration": 1.7901229999999941,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should create fallback result with circuit_open reason",
          "status": "passed",
          "title": "should create fallback result with circuit_open reason",
          "duration": 0.7999089999998432,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should create fallback result with timeout reason",
          "status": "passed",
          "title": "should create fallback result with timeout reason",
          "duration": 0.6870710000000599,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should pass interaction count to fallback",
          "status": "passed",
          "title": "should pass interaction count to fallback",
          "duration": 2.9530789999998888,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should calculate recentErrorRate from recentAccuracy",
          "status": "passed",
          "title": "should calculate recentErrorRate from recentAccuracy",
          "duration": 4.34723699999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should use event timestamp for hour calculation",
          "status": "passed",
          "title": "should use event timestamp for hour calculation",
          "duration": 0.8241629999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should use current hour when no event timestamp",
          "status": "passed",
          "title": "should use current hour when no event timestamp",
          "duration": 0.5497679999998581,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should handle undefined recentAccuracy",
          "status": "passed",
          "title": "should handle undefined recentAccuracy",
          "duration": 0.6706850000000486,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createIntelligentFallbackResult"],
          "fullName": "EngineResilience createIntelligentFallbackResult should handle all fallback reasons",
          "status": "passed",
          "title": "should handle all fallback reasons",
          "duration": 0.8070400000001428,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createFallbackResult (deprecated)"],
          "fullName": "EngineResilience createFallbackResult (deprecated) should create fallback result using degraded_state reason",
          "status": "failed",
          "title": "should create fallback result using degraded_state reason",
          "duration": 14.032186999999794,
          "failureMessages": [
            "TypeError: resilience.createFallbackResult is not a function\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-resilience.test.ts:552:39\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "createFallbackResult (deprecated)"],
          "fullName": "EngineResilience createFallbackResult (deprecated) should call intelligentFallback with degraded_state",
          "status": "failed",
          "title": "should call intelligentFallback with degraded_state",
          "duration": 1.251751000000013,
          "failureMessages": [
            "TypeError: resilience.createFallbackResult is not a function\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-resilience.test.ts:568:24\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordDegradation"],
          "fullName": "EngineResilience recordDegradation should record degradation metric with reason",
          "status": "passed",
          "title": "should record degradation metric with reason",
          "duration": 0.8958620000000792,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordDegradation"],
          "fullName": "EngineResilience recordDegradation should record degradation metric with additional meta",
          "status": "passed",
          "title": "should record degradation metric with additional meta",
          "duration": 0.6915989999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordDegradation"],
          "fullName": "EngineResilience recordDegradation should handle empty meta object",
          "status": "passed",
          "title": "should handle empty meta object",
          "duration": 0.46737099999995735,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordDegradation"],
          "fullName": "EngineResilience recordDegradation should handle all degradation reasons",
          "status": "passed",
          "title": "should handle all degradation reasons",
          "duration": 2.445566000000099,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordLatency"],
          "fullName": "EngineResilience recordLatency should record latency histogram",
          "status": "passed",
          "title": "should record latency histogram",
          "duration": 0.6524919999999383,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordLatency"],
          "fullName": "EngineResilience recordLatency should handle zero latency",
          "status": "passed",
          "title": "should handle zero latency",
          "duration": 0.6767870000001039,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordLatency"],
          "fullName": "EngineResilience recordLatency should handle large latency values",
          "status": "passed",
          "title": "should handle large latency values",
          "duration": 0.7128619999998591,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "recordLatency"],
          "fullName": "EngineResilience recordLatency should record multiple latency values",
          "status": "passed",
          "title": "should record multiple latency values",
          "duration": 0.5527709999998933,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "edge cases"],
          "fullName": "EngineResilience edge cases should handle null state from stateLoader",
          "status": "passed",
          "title": "should handle null state from stateLoader",
          "duration": 0.40167600000017956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "edge cases"],
          "fullName": "EngineResilience edge cases should handle zero interaction count",
          "status": "passed",
          "title": "should handle zero interaction count",
          "duration": 4.041025999999874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "edge cases"],
          "fullName": "EngineResilience edge cases should handle recentAccuracy at boundaries",
          "status": "passed",
          "title": "should handle recentAccuracy at boundaries",
          "duration": 2.694823000000042,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "edge cases"],
          "fullName": "EngineResilience edge cases should handle stateLoader errors",
          "status": "passed",
          "title": "should handle stateLoader errors",
          "duration": 1.1750070000000505,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "edge cases"],
          "fullName": "EngineResilience edge cases should handle concurrent timeout operations",
          "status": "passed",
          "title": "should handle concurrent timeout operations",
          "duration": 1.8395940000000337,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "integration scenarios"],
          "fullName": "EngineResilience integration scenarios should handle full degradation flow",
          "status": "passed",
          "title": "should handle full degradation flow",
          "duration": 1.0282129999998233,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "integration scenarios"],
          "fullName": "EngineResilience integration scenarios should handle timeout with recovery",
          "status": "passed",
          "title": "should handle timeout with recovery",
          "duration": 5.498276000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "integration scenarios"],
          "fullName": "EngineResilience integration scenarios should support multiple users with different states",
          "status": "passed",
          "title": "should support multiple users with different states",
          "duration": 1.8503630000000157,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker callbacks"],
          "fullName": "EngineResilience circuit breaker callbacks should record telemetry on circuit events",
          "status": "passed",
          "title": "should record telemetry on circuit events",
          "duration": 1.2273800000000392,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EngineResilience", "circuit breaker callbacks"],
          "fullName": "EngineResilience circuit breaker callbacks should create new ResilienceManager with proper circuit configuration",
          "status": "passed",
          "title": "should create new ResilienceManager with proper circuit configuration",
          "duration": 0.9040599999998449,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901836,
      "endTime": 1765615901915.904,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/engine/engine-resilience.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "extreme feature values"],
          "fullName": "CausalInference - Boundary Conditions extreme feature values should handle very large feature values",
          "status": "passed",
          "title": "should handle very large feature values",
          "duration": 3.6099960000000237,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "extreme feature values"],
          "fullName": "CausalInference - Boundary Conditions extreme feature values should handle very small feature values",
          "status": "passed",
          "title": "should handle very small feature values",
          "duration": 1.1800439999999526,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "extreme feature values"],
          "fullName": "CausalInference - Boundary Conditions extreme feature values should handle negative feature values",
          "status": "passed",
          "title": "should handle negative feature values",
          "duration": 0.25576300000000174,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "extreme feature values"],
          "fullName": "CausalInference - Boundary Conditions extreme feature values should handle mixed extreme feature values",
          "status": "passed",
          "title": "should handle mixed extreme feature values",
          "duration": 0.316667999999936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "extreme feature values"],
          "fullName": "CausalInference - Boundary Conditions extreme feature values should clamp outcome to [-1, 1] for values > 1",
          "status": "passed",
          "title": "should clamp outcome to [-1, 1] for values > 1",
          "duration": 0.18785200000002078,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "extreme feature values"],
          "fullName": "CausalInference - Boundary Conditions extreme feature values should clamp outcome to [-1, 1] for values < -1",
          "status": "passed",
          "title": "should clamp outcome to [-1, 1] for values < -1",
          "duration": 0.1908889999999701,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should throw error for empty features array",
          "status": "passed",
          "title": "should throw error for empty features array",
          "duration": 0.7377709999999524,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should throw error for invalid treatment value",
          "status": "passed",
          "title": "should throw error for invalid treatment value",
          "duration": 0.316571999999951,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should throw error for negative treatment value",
          "status": "passed",
          "title": "should throw error for negative treatment value",
          "duration": 0.3332139999999981,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should throw error for insufficient samples on fit",
          "status": "passed",
          "title": "should throw error for insufficient samples on fit",
          "duration": 0.41055199999993874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should throw error without both treatment and control groups",
          "status": "passed",
          "title": "should throw error without both treatment and control groups",
          "duration": 0.2658930000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should handle null state restoration gracefully",
          "status": "passed",
          "title": "should handle null state restoration gracefully",
          "duration": 0.7263909999999214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should return 0.5 for propensity score when not fitted",
          "status": "passed",
          "title": "should return 0.5 for propensity score when not fitted",
          "duration": 0.297162999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "CausalInference - Boundary Conditions empty and missing data handling should return 0 for predict outcome when not fitted",
          "status": "passed",
          "title": "should return 0 for predict outcome when not fitted",
          "duration": 0.25441699999998946,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "dimension mismatch handling"
          ],
          "fullName": "CausalInference - Boundary Conditions dimension mismatch handling should throw error for feature dimension mismatch",
          "status": "passed",
          "title": "should throw error for feature dimension mismatch",
          "duration": 0.32968499999992673,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "dimension mismatch handling"
          ],
          "fullName": "CausalInference - Boundary Conditions dimension mismatch handling should accept observations with same dimension",
          "status": "passed",
          "title": "should accept observations with same dimension",
          "duration": 0.708925000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "algorithm convergence"],
          "fullName": "CausalInference - Boundary Conditions algorithm convergence should converge with clear treatment effect",
          "status": "passed",
          "title": "should converge with clear treatment effect",
          "duration": 29.219364999999925,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "algorithm convergence"],
          "fullName": "CausalInference - Boundary Conditions algorithm convergence should detect no treatment effect",
          "status": "passed",
          "title": "should detect no treatment effect",
          "duration": 5.944434999999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "algorithm convergence"],
          "fullName": "CausalInference - Boundary Conditions algorithm convergence should handle negative treatment effect",
          "status": "passed",
          "title": "should handle negative treatment effect",
          "duration": 5.806430000000091,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "algorithm convergence"],
          "fullName": "CausalInference - Boundary Conditions algorithm convergence should produce valid confidence intervals",
          "status": "passed",
          "title": "should produce valid confidence intervals",
          "duration": 11.007607000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "numerical stability"],
          "fullName": "CausalInference - Boundary Conditions numerical stability should handle many observations without NaN",
          "status": "passed",
          "title": "should handle many observations without NaN",
          "duration": 18.938705000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "numerical stability"],
          "fullName": "CausalInference - Boundary Conditions numerical stability should handle nearly identical features",
          "status": "passed",
          "title": "should handle nearly identical features",
          "duration": 0.5561950000000024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "numerical stability"],
          "fullName": "CausalInference - Boundary Conditions numerical stability should clip extreme propensity scores",
          "status": "passed",
          "title": "should clip extreme propensity scores",
          "duration": 17.87212599999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "numerical stability"],
          "fullName": "CausalInference - Boundary Conditions numerical stability should produce finite estimates with extreme outcomes",
          "status": "passed",
          "title": "should produce finite estimates with extreme outcomes",
          "duration": 4.077991999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "propensity diagnostics"],
          "fullName": "CausalInference - Boundary Conditions propensity diagnostics should return valid diagnostics",
          "status": "passed",
          "title": "should return valid diagnostics",
          "duration": 7.473700000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "propensity diagnostics"],
          "fullName": "CausalInference - Boundary Conditions propensity diagnostics should compute overlap metric",
          "status": "passed",
          "title": "should compute overlap metric",
          "duration": 3.5816129999999475,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "propensity diagnostics"],
          "fullName": "CausalInference - Boundary Conditions propensity diagnostics should compute AUC metric",
          "status": "passed",
          "title": "should compute AUC metric",
          "duration": 4.865549999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "state persistence edge cases"
          ],
          "fullName": "CausalInference - Boundary Conditions state persistence edge cases should preserve observations across state save/restore",
          "status": "passed",
          "title": "should preserve observations across state save/restore",
          "duration": 1.6298970000000281,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "state persistence edge cases"
          ],
          "fullName": "CausalInference - Boundary Conditions state persistence edge cases should preserve model weights across state save/restore",
          "status": "passed",
          "title": "should preserve model weights across state save/restore",
          "duration": 12.130254000000036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "CausalInference - Boundary Conditions",
            "state persistence edge cases"
          ],
          "fullName": "CausalInference - Boundary Conditions state persistence edge cases should handle state with invalid version gracefully",
          "status": "passed",
          "title": "should handle state with invalid version gracefully",
          "duration": 1.0522010000000819,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "clear and reset"],
          "fullName": "CausalInference - Boundary Conditions clear and reset should clear all data",
          "status": "passed",
          "title": "should clear all data",
          "duration": 0.9829059999999572,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "clear and reset"],
          "fullName": "CausalInference - Boundary Conditions clear and reset should reset fitted state",
          "status": "passed",
          "title": "should reset fitted state",
          "duration": 3.2186470000000327,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "CATTE estimation"],
          "fullName": "CausalInference - Boundary Conditions CATTE estimation should estimate conditional effect",
          "status": "passed",
          "title": "should estimate conditional effect",
          "duration": 8.650115000000028,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "CATTE estimation"],
          "fullName": "CausalInference - Boundary Conditions CATTE estimation should handle extreme feature values in CATTE",
          "status": "passed",
          "title": "should handle extreme feature values in CATTE",
          "duration": 5.765845000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "legacy API compatibility"],
          "fullName": "CausalInference - Boundary Conditions legacy API compatibility should support recordObservation with string treatment",
          "status": "passed",
          "title": "should support recordObservation with string treatment",
          "duration": 0.9399250000000166,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "legacy API compatibility"],
          "fullName": "CausalInference - Boundary Conditions legacy API compatibility should map different string treatments correctly",
          "status": "passed",
          "title": "should map different string treatments correctly",
          "duration": 0.3353500000000622,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "legacy API compatibility"],
          "fullName": "CausalInference - Boundary Conditions legacy API compatibility should handle estimateATE with string treatments",
          "status": "passed",
          "title": "should handle estimateATE with string treatments",
          "duration": 0.6272909999999001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "legacy API compatibility"],
          "fullName": "CausalInference - Boundary Conditions legacy API compatibility should handle getPropensityScore with string treatment",
          "status": "passed",
          "title": "should handle getPropensityScore with string treatment",
          "duration": 0.3672199999999748,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "legacy API compatibility"],
          "fullName": "CausalInference - Boundary Conditions legacy API compatibility should return 0.5 for unknown treatment",
          "status": "passed",
          "title": "should return 0.5 for unknown treatment",
          "duration": 0.14984000000004016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should compute correct weight for treatment group",
          "status": "passed",
          "title": "should compute correct weight for treatment group",
          "duration": 0.1379029999999375,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should compute correct weight for control group",
          "status": "passed",
          "title": "should compute correct weight for control group",
          "duration": 0.07794599999999718,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should clip propensity to min bound",
          "status": "passed",
          "title": "should clip propensity to min bound",
          "duration": 0.07125400000006721,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should clip propensity to max bound",
          "status": "passed",
          "title": "should clip propensity to max bound",
          "duration": 0.08197200000006433,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should handle propensity of 0",
          "status": "passed",
          "title": "should handle propensity of 0",
          "duration": 0.06838999999990847,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should handle propensity of 1",
          "status": "passed",
          "title": "should handle propensity of 1",
          "duration": 0.06960500000002412,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "computeIPWWeight"],
          "fullName": "CausalInference - Boundary Conditions computeIPWWeight should handle custom bounds",
          "status": "passed",
          "title": "should handle custom bounds",
          "duration": 0.0652580000000853,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "compareStrategies"],
          "fullName": "CausalInference - Boundary Conditions compareStrategies should compare strategies and return valid result",
          "status": "passed",
          "title": "should compare strategies and return valid result",
          "duration": 3.8283329999999296,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference - Boundary Conditions", "compareStrategies"],
          "fullName": "CausalInference - Boundary Conditions compareStrategies should detect significant difference",
          "status": "passed",
          "title": "should detect significant difference",
          "duration": 4.83764999999994,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615903980,
      "endTime": 1765615904147.8376,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/evaluation/causal-inference-boundary.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["CausalInference", "initialization"],
          "fullName": "CausalInference initialization should initialize with default config",
          "status": "passed",
          "title": "should initialize with default config",
          "duration": 1.8597899999999754,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "initialization"],
          "fullName": "CausalInference initialization should accept custom config",
          "status": "passed",
          "title": "should accept custom config",
          "duration": 0.7141589999999951,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "addObservation"],
          "fullName": "CausalInference addObservation should add valid observation",
          "status": "passed",
          "title": "should add valid observation",
          "duration": 0.5917249999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "addObservation"],
          "fullName": "CausalInference addObservation should throw error for empty features",
          "status": "passed",
          "title": "should throw error for empty features",
          "duration": 2.9694950000000517,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "addObservation"],
          "fullName": "CausalInference addObservation should throw error for invalid treatment value",
          "status": "passed",
          "title": "should throw error for invalid treatment value",
          "duration": 1.1896459999999252,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "addObservation"],
          "fullName": "CausalInference addObservation should throw error for dimension mismatch",
          "status": "passed",
          "title": "should throw error for dimension mismatch",
          "duration": 0.5067370000000437,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "addObservation"],
          "fullName": "CausalInference addObservation should clamp outcome to [-1, 1]",
          "status": "passed",
          "title": "should clamp outcome to [-1, 1]",
          "duration": 0.3403520000000526,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "addObservations"],
          "fullName": "CausalInference addObservations should add multiple observations",
          "status": "passed",
          "title": "should add multiple observations",
          "duration": 0.3452919999999722,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "fit"],
          "fullName": "CausalInference fit should throw error with insufficient samples",
          "status": "passed",
          "title": "should throw error with insufficient samples",
          "duration": 0.623177999999939,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "fit"],
          "fullName": "CausalInference fit should throw error without both treatment and control groups",
          "status": "passed",
          "title": "should throw error without both treatment and control groups",
          "duration": 0.6299099999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "fit"],
          "fullName": "CausalInference fit should fit successfully with sufficient balanced data",
          "status": "passed",
          "title": "should fit successfully with sufficient balanced data",
          "duration": 21.971162999999933,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "estimateATE"],
          "fullName": "CausalInference estimateATE should estimate ATE with confidence interval",
          "status": "passed",
          "title": "should estimate ATE with confidence interval",
          "duration": 10.456246999999962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "estimateATE"],
          "fullName": "CausalInference estimateATE should detect positive treatment effect",
          "status": "passed",
          "title": "should detect positive treatment effect",
          "duration": 7.460297999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "estimateATE"],
          "fullName": "CausalInference estimateATE should return valid confidence interval",
          "status": "passed",
          "title": "should return valid confidence interval",
          "duration": 6.374117000000069,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "estimateCATTE"],
          "fullName": "CausalInference estimateCATTE should estimate conditional effect for specific features",
          "status": "passed",
          "title": "should estimate conditional effect for specific features",
          "duration": 13.824347999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "getPropensityScore"],
          "fullName": "CausalInference getPropensityScore should return propensity score in valid range",
          "status": "passed",
          "title": "should return propensity score in valid range",
          "duration": 7.228252999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "getPropensityScore"],
          "fullName": "CausalInference getPropensityScore should return 0.5 when not fitted",
          "status": "passed",
          "title": "should return 0.5 when not fitted",
          "duration": 4.4805430000000115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "diagnosePropensity"],
          "fullName": "CausalInference diagnosePropensity should return propensity diagnostics",
          "status": "passed",
          "title": "should return propensity diagnostics",
          "duration": 6.1258490000000165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "diagnosePropensity"],
          "fullName": "CausalInference diagnosePropensity should have mean in valid range",
          "status": "passed",
          "title": "should have mean in valid range",
          "duration": 7.8572410000000446,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "compareStrategies"],
          "fullName": "CausalInference compareStrategies should compare two strategies",
          "status": "passed",
          "title": "should compare two strategies",
          "duration": 3.4785089999999173,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "state persistence"],
          "fullName": "CausalInference state persistence should export and import state",
          "status": "passed",
          "title": "should export and import state",
          "duration": 1.12122700000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "state persistence"],
          "fullName": "CausalInference state persistence should handle invalid state gracefully",
          "status": "passed",
          "title": "should handle invalid state gracefully",
          "duration": 1.1068779999999379,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "clear and reset"],
          "fullName": "CausalInference clear and reset should clear all data",
          "status": "passed",
          "title": "should clear all data",
          "duration": 3.467973000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "clear and reset"],
          "fullName": "CausalInference clear and reset should reset all state",
          "status": "passed",
          "title": "should reset all state",
          "duration": 0.3614780000000337,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "legacy API compatibility"],
          "fullName": "CausalInference legacy API compatibility should support recordObservation with string treatment",
          "status": "passed",
          "title": "should support recordObservation with string treatment",
          "duration": 0.40627199999994446,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "legacy API compatibility"],
          "fullName": "CausalInference legacy API compatibility should support estimateATE with string treatments",
          "status": "passed",
          "title": "should support estimateATE with string treatments",
          "duration": 0.609911000000011,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CausalInference", "legacy API compatibility"],
          "fullName": "CausalInference legacy API compatibility should support getPropensityScore with string treatment",
          "status": "passed",
          "title": "should support getPropensityScore with string treatment",
          "duration": 0.3671389999999519,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createCausalInference"],
          "fullName": "createCausalInference should create CausalInference instance",
          "status": "passed",
          "title": "should create CausalInference instance",
          "duration": 0.269486000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createCausalInference"],
          "fullName": "createCausalInference should accept custom config",
          "status": "passed",
          "title": "should accept custom config",
          "duration": 0.1466530000000148,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeIPWWeight"],
          "fullName": "computeIPWWeight should compute weight for treatment group",
          "status": "passed",
          "title": "should compute weight for treatment group",
          "duration": 0.17765300000007755,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeIPWWeight"],
          "fullName": "computeIPWWeight should compute weight for control group",
          "status": "passed",
          "title": "should compute weight for control group",
          "duration": 0.1149279999999635,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeIPWWeight"],
          "fullName": "computeIPWWeight should clip propensity to min bound",
          "status": "passed",
          "title": "should clip propensity to min bound",
          "duration": 0.10890500000004977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeIPWWeight"],
          "fullName": "computeIPWWeight should clip propensity to max bound",
          "status": "passed",
          "title": "should clip propensity to max bound",
          "duration": 0.24932400000000143,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908102,
      "endTime": 1765615908212.2493,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/evaluation/causal-inference.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should clamp reward > 1 to 1",
          "status": "passed",
          "title": "should clamp reward > 1 to 1",
          "duration": 4.900282999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should clamp reward < -1 to -1",
          "status": "passed",
          "title": "should clamp reward < -1 to -1",
          "duration": 8.580283000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should throw error for NaN reward",
          "status": "passed",
          "title": "should throw error for NaN reward",
          "duration": 3.1282079999999723,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should throw error for Infinity reward",
          "status": "passed",
          "title": "should throw error for Infinity reward",
          "duration": 1.101729999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should throw error for -Infinity reward",
          "status": "passed",
          "title": "should throw error for -Infinity reward",
          "duration": 0.9445320000000947,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should handle zero reward",
          "status": "passed",
          "title": "should handle zero reward",
          "duration": 2.109263999999939,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "extreme reward values"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions extreme reward values should handle very small reward values",
          "status": "passed",
          "title": "should handle very small reward values",
          "duration": 10.538761000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions empty and missing data handling should return zero for aggregate with no events",
          "status": "passed",
          "title": "should return zero for aggregate with no events",
          "duration": 1.7474189999999226,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions empty and missing data handling should return 0 for pending count with no events",
          "status": "passed",
          "title": "should return 0 for pending count with no events",
          "duration": 40.18336499999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions empty and missing data handling should return empty array for pending events with no events",
          "status": "passed",
          "title": "should return empty array for pending events with no events",
          "duration": 1.5038250000000062,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions empty and missing data handling should handle null state restoration gracefully",
          "status": "passed",
          "title": "should handle null state restoration gracefully",
          "duration": 1.4426910000000817,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions empty and missing data handling should handle empty state object restoration",
          "status": "passed",
          "title": "should handle empty state object restoration",
          "duration": 0.5533219999999801,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions empty and missing data handling should handle state with missing events array",
          "status": "passed",
          "title": "should handle state with missing events array",
          "duration": 6.934415000000058,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom schedule handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom schedule handling should normalize weights if they do not sum to 1",
          "status": "passed",
          "title": "should normalize weights if they do not sum to 1",
          "duration": 1.0535109999999577,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom schedule handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom schedule handling should use default schedule when all weights are zero",
          "status": "passed",
          "title": "should use default schedule when all weights are zero",
          "duration": 3.3439599999999245,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom schedule handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom schedule handling should handle single schedule entry",
          "status": "passed",
          "title": "should handle single schedule entry",
          "duration": 3.165081999999984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom schedule handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom schedule handling should handle schedule with very small weights",
          "status": "passed",
          "title": "should handle schedule with very small weights",
          "duration": 5.508330000000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom schedule handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom schedule handling should handle schedule with negative weights by falling back to default",
          "status": "passed",
          "title": "should handle schedule with negative weights by falling back to default",
          "duration": 0.5312390000000278,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "time-based reward delivery"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions time-based reward delivery should deliver immediate reward right away",
          "status": "passed",
          "title": "should deliver immediate reward right away",
          "duration": 9.525797000000011,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "time-based reward delivery"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions time-based reward delivery should progressively deliver rewards over time",
          "status": "passed",
          "title": "should progressively deliver rewards over time",
          "duration": 0.9483850000000302,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "time-based reward delivery"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions time-based reward delivery should fully deliver all rewards after max delay",
          "status": "passed",
          "title": "should fully deliver all rewards after max delay",
          "duration": 0.8088260000000673,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "time-based reward delivery"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions time-based reward delivery should discard expired events",
          "status": "passed",
          "title": "should discard expired events",
          "duration": 1.3110189999999875,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "time-based reward delivery"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions time-based reward delivery should handle events added at different times",
          "status": "passed",
          "title": "should handle events added at different times",
          "duration": 2.0402520000000095,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "user filtering"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions user filtering should filter aggregate by userId",
          "status": "passed",
          "title": "should filter aggregate by userId",
          "duration": 2.9305160000000114,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "user filtering"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions user filtering should return empty breakdown for non-existent user",
          "status": "passed",
          "title": "should return empty breakdown for non-existent user",
          "duration": 0.5048080000000255,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "user filtering"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions user filtering should return pending count for specific user",
          "status": "passed",
          "title": "should return pending count for specific user",
          "duration": 0.3973609999999326,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "user filtering"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions user filtering should clear events for specific user",
          "status": "passed",
          "title": "should clear events for specific user",
          "duration": 0.4509449999999333,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "user filtering"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions user filtering should clear all events when no userId provided",
          "status": "passed",
          "title": "should clear all events when no userId provided",
          "duration": 0.3371559999999363,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom event ID handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom event ID handling should accept custom event ID",
          "status": "passed",
          "title": "should accept custom event ID",
          "duration": 0.37324499999999716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom event ID handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom event ID handling should generate unique IDs when not provided",
          "status": "passed",
          "title": "should generate unique IDs when not provided",
          "duration": 0.5470589999999902,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "custom event ID handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions custom event ID handling should include userId in generated ID",
          "status": "passed",
          "title": "should include userId in generated ID",
          "duration": 0.561766999999918,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "feature vector and action index"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions feature vector and action index should store feature vector with event",
          "status": "passed",
          "title": "should store feature vector with event",
          "duration": 0.8003459999999905,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "feature vector and action index"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions feature vector and action index should store action index with event",
          "status": "passed",
          "title": "should store action index with event",
          "duration": 0.48589300000003277,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "feature vector and action index"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions feature vector and action index should include feature vector in breakdown",
          "status": "passed",
          "title": "should include feature vector in breakdown",
          "duration": 0.6251780000000053,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "delivery statistics"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions delivery statistics should track delivery stats correctly",
          "status": "passed",
          "title": "should track delivery stats correctly",
          "duration": 0.5911889999999858,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "delivery statistics"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions delivery statistics should accumulate stats across multiple aggregates",
          "status": "passed",
          "title": "should accumulate stats across multiple aggregates",
          "duration": 0.5520699999999579,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "state persistence"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions state persistence should preserve events across state save/restore",
          "status": "passed",
          "title": "should preserve events across state save/restore",
          "duration": 0.527417000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "state persistence"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions state persistence should preserve delivered amounts after restore",
          "status": "passed",
          "title": "should preserve delivered amounts after restore",
          "duration": 0.471341999999936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "state persistence"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions state persistence should restore events with feature vectors",
          "status": "passed",
          "title": "should restore events with feature vectors",
          "duration": 7.806116999999972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "high volume handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions high volume handling should handle many events without issues",
          "status": "passed",
          "title": "should handle many events without issues",
          "duration": 1.2846979999999348,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "high volume handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions high volume handling should handle rapid sequential rewards",
          "status": "passed",
          "title": "should handle rapid sequential rewards",
          "duration": 0.8360819999999194,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "high volume handling"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions high volume handling should handle many users",
          "status": "passed",
          "title": "should handle many users",
          "duration": 2.3671249999999873,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "computeImmediateReward"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions computeImmediateReward should compute immediate reward portion",
          "status": "passed",
          "title": "should compute immediate reward portion",
          "duration": 0.6233989999999494,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "computeImmediateReward"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions computeImmediateReward should handle negative rewards",
          "status": "passed",
          "title": "should handle negative rewards",
          "duration": 13.564270999999962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "computeImmediateReward"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions computeImmediateReward should accept custom schedule",
          "status": "passed",
          "title": "should accept custom schedule",
          "duration": 4.486470000000054,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "DelayedRewardAggregator - Boundary Conditions",
            "computeImmediateReward"
          ],
          "fullName": "DelayedRewardAggregator - Boundary Conditions computeImmediateReward should handle schedule with no immediate entry",
          "status": "passed",
          "title": "should handle schedule with no immediate entry",
          "duration": 0.49787900000001173,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "getDefaultSchedule"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions getDefaultSchedule should return copy of default schedule",
          "status": "passed",
          "title": "should return copy of default schedule",
          "duration": 0.9301880000000438,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "getDefaultSchedule"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions getDefaultSchedule should have correct structure",
          "status": "passed",
          "title": "should have correct structure",
          "duration": 1.5089639999999918,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator - Boundary Conditions", "getDefaultSchedule"],
          "fullName": "DelayedRewardAggregator - Boundary Conditions getDefaultSchedule should have weights summing to 1",
          "status": "passed",
          "title": "should have weights summing to 1",
          "duration": 0.5887460000000146,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908532,
      "endTime": 1765615908695.5889,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/evaluation/delayed-reward-aggregator-boundary.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["DelayedRewardAggregator", "initialization"],
          "fullName": "DelayedRewardAggregator initialization should initialize with default schedule",
          "status": "passed",
          "title": "should initialize with default schedule",
          "duration": 7.7255720000000565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "initialization"],
          "fullName": "DelayedRewardAggregator initialization should normalize weights if they do not sum to 1",
          "status": "passed",
          "title": "should normalize weights if they do not sum to 1",
          "duration": 2.6984539999999697,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "initialization"],
          "fullName": "DelayedRewardAggregator initialization should use default schedule when all weights are zero",
          "status": "passed",
          "title": "should use default schedule when all weights are zero",
          "duration": 1.3179760000000442,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "addReward"],
          "fullName": "DelayedRewardAggregator addReward should add reward event to queue",
          "status": "passed",
          "title": "should add reward event to queue",
          "duration": 1.2156250000000455,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "addReward"],
          "fullName": "DelayedRewardAggregator addReward should clamp reward to [-1, 1] range",
          "status": "passed",
          "title": "should clamp reward to [-1, 1] range",
          "duration": 0.9299009999999726,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "addReward"],
          "fullName": "DelayedRewardAggregator addReward should throw error for non-finite reward",
          "status": "passed",
          "title": "should throw error for non-finite reward",
          "duration": 7.900911999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "addReward"],
          "fullName": "DelayedRewardAggregator addReward should accept custom event ID",
          "status": "passed",
          "title": "should accept custom event ID",
          "duration": 0.9477620000000115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "addReward"],
          "fullName": "DelayedRewardAggregator addReward should accept feature vector and action index",
          "status": "passed",
          "title": "should accept feature vector and action index",
          "duration": 0.727657000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should deliver immediate reward right away",
          "status": "passed",
          "title": "should deliver immediate reward right away",
          "duration": 1.0197819999999638,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should progressively deliver delayed rewards",
          "status": "passed",
          "title": "should progressively deliver delayed rewards",
          "duration": 2.3721930000000384,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should handle negative rewards correctly",
          "status": "passed",
          "title": "should handle negative rewards correctly",
          "duration": 1.958046999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should filter by userId when provided",
          "status": "passed",
          "title": "should filter by userId when provided",
          "duration": 0.5071439999999257,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should remove fully delivered events",
          "status": "passed",
          "title": "should remove fully delivered events",
          "duration": 0.43513800000005176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should discard expired events",
          "status": "passed",
          "title": "should discard expired events",
          "duration": 0.6968419999999469,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "aggregate"],
          "fullName": "DelayedRewardAggregator aggregate should include feature vector and action index in breakdown",
          "status": "passed",
          "title": "should include feature vector and action index in breakdown",
          "duration": 1.0613009999999576,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "pending events"],
          "fullName": "DelayedRewardAggregator pending events should return pending events for a user",
          "status": "passed",
          "title": "should return pending events for a user",
          "duration": 0.8366290000000163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "pending events"],
          "fullName": "DelayedRewardAggregator pending events should return pending count for all users",
          "status": "passed",
          "title": "should return pending count for all users",
          "duration": 0.47446899999999914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "pending events"],
          "fullName": "DelayedRewardAggregator pending events should return pending count for specific user",
          "status": "passed",
          "title": "should return pending count for specific user",
          "duration": 0.3863979999999856,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "clear"],
          "fullName": "DelayedRewardAggregator clear should clear all events",
          "status": "passed",
          "title": "should clear all events",
          "duration": 0.6651950000000397,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "clear"],
          "fullName": "DelayedRewardAggregator clear should clear events for specific user",
          "status": "passed",
          "title": "should clear events for specific user",
          "duration": 0.791272000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "state persistence"],
          "fullName": "DelayedRewardAggregator state persistence should export and import state",
          "status": "passed",
          "title": "should export and import state",
          "duration": 0.6894650000000411,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "state persistence"],
          "fullName": "DelayedRewardAggregator state persistence should handle invalid state gracefully",
          "status": "passed",
          "title": "should handle invalid state gracefully",
          "duration": 0.45418499999993855,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "state persistence"],
          "fullName": "DelayedRewardAggregator state persistence should restore events with correct properties",
          "status": "passed",
          "title": "should restore events with correct properties",
          "duration": 0.6055569999999761,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "statistics"],
          "fullName": "DelayedRewardAggregator statistics should return delivery stats",
          "status": "passed",
          "title": "should return delivery stats",
          "duration": 0.6996540000000095,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "queue pruning"],
          "fullName": "DelayedRewardAggregator queue pruning should prune queue when exceeding max size",
          "status": "passed",
          "title": "should prune queue when exceeding max size",
          "duration": 0.48630500000001575,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "edge cases"],
          "fullName": "DelayedRewardAggregator edge cases should handle zero reward",
          "status": "passed",
          "title": "should handle zero reward",
          "duration": 0.38834799999995084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "edge cases"],
          "fullName": "DelayedRewardAggregator edge cases should handle rapid sequential rewards",
          "status": "passed",
          "title": "should handle rapid sequential rewards",
          "duration": 6.677966999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DelayedRewardAggregator", "edge cases"],
          "fullName": "DelayedRewardAggregator edge cases should handle aggregate with no events",
          "status": "passed",
          "title": "should handle aggregate with no events",
          "duration": 0.5538779999999406,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeImmediateReward"],
          "fullName": "computeImmediateReward should compute immediate reward portion",
          "status": "passed",
          "title": "should compute immediate reward portion",
          "duration": 0.2857240000000729,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeImmediateReward"],
          "fullName": "computeImmediateReward should handle negative rewards",
          "status": "passed",
          "title": "should handle negative rewards",
          "duration": 0.1679860000000417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["computeImmediateReward"],
          "fullName": "computeImmediateReward should accept custom schedule",
          "status": "passed",
          "title": "should accept custom schedule",
          "duration": 0.16251099999999497,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getDefaultSchedule"],
          "fullName": "getDefaultSchedule should return copy of default schedule",
          "status": "passed",
          "title": "should return copy of default schedule",
          "duration": 1.3653069999999161,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getDefaultSchedule"],
          "fullName": "getDefaultSchedule should have correct structure",
          "status": "passed",
          "title": "should have correct structure",
          "duration": 1.0148960000000216,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912873,
      "endTime": 1765615912935.015,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/evaluation/delayed-reward-aggregator.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ColdStartManager", "initialization"],
          "fullName": "ColdStartManager initialization should initialize in classify phase",
          "status": "passed",
          "title": "should initialize in classify phase",
          "duration": 13.404231000000095,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "initialization"],
          "fullName": "ColdStartManager initialization should initialize with probeIndex 0",
          "status": "passed",
          "title": "should initialize with probeIndex 0",
          "duration": 1.2477109999999811,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "initialization"],
          "fullName": "ColdStartManager initialization should initialize with empty results",
          "status": "passed",
          "title": "should initialize with empty results",
          "duration": 1.931854000000044,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "initialization"],
          "fullName": "ColdStartManager initialization should initialize with null userType",
          "status": "passed",
          "title": "should initialize with null userType",
          "duration": 0.9346120000000155,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "initialization"],
          "fullName": "ColdStartManager initialization should initialize with null settledStrategy",
          "status": "passed",
          "title": "should initialize with null settledStrategy",
          "duration": 0.5678330000000642,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "initialization"],
          "fullName": "ColdStartManager initialization should accept custom thresholds",
          "status": "passed",
          "title": "should accept custom thresholds",
          "duration": 0.7917810000000145,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "probe action selection"],
          "fullName": "ColdStartManager probe action selection should execute 3 probe actions in sequence during classify phase",
          "status": "passed",
          "title": "should execute 3 probe actions in sequence during classify phase",
          "duration": 4.0079339999999775,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "probe action selection"],
          "fullName": "ColdStartManager probe action selection should return probe actions in fixed order",
          "status": "passed",
          "title": "should return probe actions in fixed order",
          "duration": 1.8349419999999554,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "probe action selection"],
          "fullName": "ColdStartManager probe action selection should advance probeIndex after each update",
          "status": "passed",
          "title": "should advance probeIndex after each update",
          "duration": 2.3004600000000437,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "phase transitions"],
          "fullName": "ColdStartManager phase transitions should transition from classify to explore after 3 probes",
          "status": "passed",
          "title": "should transition from classify to explore after 3 probes",
          "duration": 1.08591100000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "phase transitions"],
          "fullName": "ColdStartManager phase transitions should classify userType after classify phase",
          "status": "passed",
          "title": "should classify userType after classify phase",
          "duration": 2.6544609999999693,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "phase transitions"],
          "fullName": "ColdStartManager phase transitions should transition to normal phase after explore threshold",
          "status": "passed",
          "title": "should transition to normal phase after explore threshold",
          "duration": 3.906468000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "phase transitions"],
          "fullName": "ColdStartManager phase transitions should support early stop with high confidence",
          "status": "passed",
          "title": "should support early stop with high confidence",
          "duration": 4.271701000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "user classification"],
          "fullName": "ColdStartManager user classification should classify as fast with high accuracy and fast response",
          "status": "passed",
          "title": "should classify as fast with high accuracy and fast response",
          "duration": 0.6004720000000816,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "user classification"],
          "fullName": "ColdStartManager user classification should classify as stable with moderate performance",
          "status": "passed",
          "title": "should classify as stable with moderate performance",
          "duration": 0.6711389999999255,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "user classification"],
          "fullName": "ColdStartManager user classification should classify as cautious with lower performance",
          "status": "passed",
          "title": "should classify as cautious with lower performance",
          "duration": 0.3561610000000428,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "user classification"],
          "fullName": "ColdStartManager user classification should use Bayesian inference for classification",
          "status": "passed",
          "title": "should use Bayesian inference for classification",
          "duration": 0.7600310000000263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "strategy mapping"],
          "fullName": "ColdStartManager strategy mapping should settle on appropriate strategy after classification",
          "status": "passed",
          "title": "should settle on appropriate strategy after classification",
          "duration": 0.8606039999999666,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "strategy mapping"],
          "fullName": "ColdStartManager strategy mapping should return settled strategy in normal phase",
          "status": "passed",
          "title": "should return settled strategy in normal phase",
          "duration": 1.6133419999999887,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "action selection by phase"],
          "fullName": "ColdStartManager action selection by phase should select probe action in classify phase",
          "status": "passed",
          "title": "should select probe action in classify phase",
          "duration": 4.869397999999933,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "action selection by phase"],
          "fullName": "ColdStartManager action selection by phase should select from action space in explore phase",
          "status": "passed",
          "title": "should select from action space in explore phase",
          "duration": 0.5092499999999518,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "action selection by phase"],
          "fullName": "ColdStartManager action selection by phase should return settled or default strategy in normal phase",
          "status": "passed",
          "title": "should return settled or default strategy in normal phase",
          "duration": 0.38505099999997583,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "state persistence"],
          "fullName": "ColdStartManager state persistence should get/set state roundtrip",
          "status": "passed",
          "title": "should get/set state roundtrip",
          "duration": 0.7797270000000935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "state persistence"],
          "fullName": "ColdStartManager state persistence should restore mid-classification state",
          "status": "passed",
          "title": "should restore mid-classification state",
          "duration": 0.5822859999999537,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "reset"],
          "fullName": "ColdStartManager reset should reset all state",
          "status": "passed",
          "title": "should reset all state",
          "duration": 1.881727000000069,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "BaseLearner interface"],
          "fullName": "ColdStartManager BaseLearner interface should return correct name",
          "status": "passed",
          "title": "should return correct name",
          "duration": 3.692833000000064,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "BaseLearner interface"],
          "fullName": "ColdStartManager BaseLearner interface should return correct version",
          "status": "passed",
          "title": "should return correct version",
          "duration": 0.6371709999999666,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "BaseLearner interface"],
          "fullName": "ColdStartManager BaseLearner interface should return capabilities",
          "status": "passed",
          "title": "should return capabilities",
          "duration": 0.506251999999904,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "BaseLearner interface"],
          "fullName": "ColdStartManager BaseLearner interface should return current phase",
          "status": "passed",
          "title": "should return current phase",
          "duration": 0.3597780000000057,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "BaseLearner interface"],
          "fullName": "ColdStartManager BaseLearner interface should check if cold start is complete",
          "status": "passed",
          "title": "should check if cold start is complete",
          "duration": 0.381842000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "BaseLearner interface"],
          "fullName": "ColdStartManager BaseLearner interface should return probe count",
          "status": "passed",
          "title": "should return probe count",
          "duration": 0.25329999999996744,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "edge cases"],
          "fullName": "ColdStartManager edge cases should handle empty actions array gracefully",
          "status": "passed",
          "title": "should handle empty actions array gracefully",
          "duration": 0.9103730000000496,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "edge cases"],
          "fullName": "ColdStartManager edge cases should handle all incorrect responses",
          "status": "passed",
          "title": "should handle all incorrect responses",
          "duration": 0.39230799999995725,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "edge cases"],
          "fullName": "ColdStartManager edge cases should limit results history to prevent memory growth",
          "status": "passed",
          "title": "should limit results history to prevent memory growth",
          "duration": 0.6703700000000481,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "ColdStartManager Edge Cases", "early stopping"],
          "fullName": "ColdStartManager ColdStartManager Edge Cases early stopping should handle immediate early stopping with high confidence",
          "status": "passed",
          "title": "should handle immediate early stopping with high confidence",
          "duration": 0.4013230000000476,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "ColdStartManager Edge Cases", "early stopping"],
          "fullName": "ColdStartManager ColdStartManager Edge Cases early stopping should not early stop with minimum probes not met",
          "status": "passed",
          "title": "should not early stop with minimum probes not met",
          "duration": 0.28554300000007515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ColdStartManager", "ColdStartManager Edge Cases", "early stopping"],
          "fullName": "ColdStartManager ColdStartManager Edge Cases early stopping should not early stop with unclear user pattern",
          "status": "passed",
          "title": "should not early stop with unclear user pattern",
          "duration": 0.43099499999993895,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "phase transition at boundary"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases phase transition at boundary should transition exactly at CLASSIFY_PHASE_THRESHOLD",
          "status": "passed",
          "title": "should transition exactly at CLASSIFY_PHASE_THRESHOLD",
          "duration": 3.6184729999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "phase transition at boundary"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases phase transition at boundary should transition to normal at EXPLORE_PHASE_THRESHOLD",
          "status": "passed",
          "title": "should transition to normal at EXPLORE_PHASE_THRESHOLD",
          "duration": 0.8118869999999561,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "phase transition at boundary"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases phase transition at boundary should maintain correct probeIndex at boundary",
          "status": "passed",
          "title": "should maintain correct probeIndex at boundary",
          "duration": 0.376213000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "high variance scenarios"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases high variance scenarios should handle alternating correct/incorrect responses",
          "status": "passed",
          "title": "should handle alternating correct/incorrect responses",
          "duration": 0.3204719999999952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "high variance scenarios"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases high variance scenarios should handle extreme response time variance",
          "status": "passed",
          "title": "should handle extreme response time variance",
          "duration": 0.3113349999999855,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "high variance scenarios"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases high variance scenarios should handle extreme error rate variance",
          "status": "passed",
          "title": "should handle extreme error rate variance",
          "duration": 0.24604499999998097,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "zero interaction users"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases zero interaction users should return probe action for zero interaction user",
          "status": "passed",
          "title": "should return probe action for zero interaction user",
          "duration": 0.3469390000000203,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "zero interaction users"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases zero interaction users should have null userType for zero interactions",
          "status": "passed",
          "title": "should have null userType for zero interactions",
          "duration": 0.2775930000000244,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "zero interaction users"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases zero interaction users should be in classify phase for zero interactions",
          "status": "passed",
          "title": "should be in classify phase for zero interactions",
          "duration": 0.24574799999993502,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "zero interaction users"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases zero interaction users should have zero progress for zero interactions",
          "status": "passed",
          "title": "should have zero progress for zero interactions",
          "duration": 0.2635530000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "zero interaction users"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases zero interaction users should not be completed for zero interactions",
          "status": "passed",
          "title": "should not be completed for zero interactions",
          "duration": 0.2316240000000107,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "bayesian posteriors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases bayesian posteriors edge cases should return valid posteriors with no probes",
          "status": "passed",
          "title": "should return valid posteriors with no probes",
          "duration": 0.37228700000002846,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "bayesian posteriors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases bayesian posteriors edge cases should update posteriors after each probe",
          "status": "passed",
          "title": "should update posteriors after each probe",
          "duration": 0.3485769999999775,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "bayesian posteriors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases bayesian posteriors edge cases should handle posteriors with all failures",
          "status": "passed",
          "title": "should handle posteriors with all failures",
          "duration": 0.5253720000000612,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "bayesian posteriors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases bayesian posteriors edge cases should handle posteriors with all successes",
          "status": "passed",
          "title": "should handle posteriors with all successes",
          "duration": 0.3847170000000233,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases state persistence edge cases should handle restoration of invalid phase",
          "status": "passed",
          "title": "should handle restoration of invalid phase",
          "duration": 5.8012619999999515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases state persistence edge cases should handle restoration of invalid userType",
          "status": "passed",
          "title": "should handle restoration of invalid userType",
          "duration": 0.7938460000000305,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases state persistence edge cases should handle restoration with negative probeIndex",
          "status": "passed",
          "title": "should handle restoration with negative probeIndex",
          "duration": 0.504910000000109,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases state persistence edge cases should handle restoration with corrupted results",
          "status": "passed",
          "title": "should handle restoration with corrupted results",
          "duration": 0.7483110000000579,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases state persistence edge cases should handle restoration with invalid settledStrategy",
          "status": "passed",
          "title": "should handle restoration with invalid settledStrategy",
          "duration": 0.7480639999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases context handling edge cases should handle NaN in context fields",
          "status": "passed",
          "title": "should handle NaN in context fields",
          "duration": 0.5657289999999193,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases context handling edge cases should handle undefined context fields",
          "status": "passed",
          "title": "should handle undefined context fields",
          "duration": 0.42174899999997706,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases context handling edge cases should handle extreme response time values",
          "status": "passed",
          "title": "should handle extreme response time values",
          "duration": 0.4251890000000458,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "classification edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases classification edge cases should classify as stable for edge case performance",
          "status": "passed",
          "title": "should classify as stable for edge case performance",
          "duration": 0.5251260000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "classification edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases classification edge cases should always produce valid settledStrategy after classification",
          "status": "passed",
          "title": "should always produce valid settledStrategy after classification",
          "duration": 0.41873499999996966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "global priors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases global priors edge cases should handle setGlobalPriors with zero values",
          "status": "passed",
          "title": "should handle setGlobalPriors with zero values",
          "duration": 0.31914800000004107,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "global priors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases global priors edge cases should handle setGlobalPriors with valid values",
          "status": "passed",
          "title": "should handle setGlobalPriors with valid values",
          "duration": 0.18466100000000552,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "global priors edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases global priors edge cases should normalize setGlobalPriors values",
          "status": "passed",
          "title": "should normalize setGlobalPriors values",
          "duration": 0.1811280000000579,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "progress calculation edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases progress calculation edge cases should return 0 progress at start",
          "status": "passed",
          "title": "should return 0 progress at start",
          "duration": 0.1730009999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "progress calculation edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases progress calculation edge cases should return 0.5 progress after classify phase",
          "status": "passed",
          "title": "should return 0.5 progress after classify phase",
          "duration": 0.37942899999995916,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ColdStartManager",
            "ColdStartManager Edge Cases",
            "progress calculation edge cases"
          ],
          "fullName": "ColdStartManager ColdStartManager Edge Cases progress calculation edge cases should return 1 progress in normal phase",
          "status": "passed",
          "title": "should return 1 progress in normal phase",
          "duration": 0.37544900000000325,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908700,
      "endTime": 1765615908786.3794,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/learning/coldstart.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LinUCBAsync", "initialization"],
          "fullName": "LinUCBAsync initialization should initialize with default options",
          "status": "passed",
          "title": "should initialize with default options",
          "duration": 17.438045000000102,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "initialization"],
          "fullName": "LinUCBAsync initialization should initialize with custom options",
          "status": "passed",
          "title": "should initialize with custom options",
          "duration": 0.9176220000000512,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "initialization"],
          "fullName": "LinUCBAsync initialization should create instance using factory function",
          "status": "passed",
          "title": "should create instance using factory function",
          "duration": 0.5438889999999219,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "initialization"],
          "fullName": "LinUCBAsync initialization should create sync-only instance using factory function",
          "status": "passed",
          "title": "should create sync-only instance using factory function",
          "duration": 0.6869900000000371,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "synchronous methods"],
          "fullName": "LinUCBAsync synchronous methods should select action synchronously",
          "status": "passed",
          "title": "should select action synchronously",
          "duration": 10.841421999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "synchronous methods"],
          "fullName": "LinUCBAsync synchronous methods should update model synchronously",
          "status": "passed",
          "title": "should update model synchronously",
          "duration": 7.583397999999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "synchronous methods"],
          "fullName": "LinUCBAsync synchronous methods should select from action space synchronously",
          "status": "passed",
          "title": "should select from action space synchronously",
          "duration": 2.994079000000056,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "synchronous methods"],
          "fullName": "LinUCBAsync synchronous methods should update with feature vector synchronously",
          "status": "passed",
          "title": "should update with feature vector synchronously",
          "duration": 5.529473000000053,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "asynchronous methods"],
          "fullName": "LinUCBAsync asynchronous methods should select action asynchronously (sync fallback)",
          "status": "passed",
          "title": "should select action asynchronously (sync fallback)",
          "duration": 1.4720880000000989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "asynchronous methods"],
          "fullName": "LinUCBAsync asynchronous methods should update model asynchronously (sync fallback)",
          "status": "passed",
          "title": "should update model asynchronously (sync fallback)",
          "duration": 1.478046000000063,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "asynchronous methods"],
          "fullName": "LinUCBAsync asynchronous methods should select from action space asynchronously",
          "status": "passed",
          "title": "should select from action space asynchronously",
          "duration": 0.8159850000000688,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "asynchronous methods"],
          "fullName": "LinUCBAsync asynchronous methods should update with feature vector asynchronously",
          "status": "passed",
          "title": "should update with feature vector asynchronously",
          "duration": 1.0919700000000603,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "state management"],
          "fullName": "LinUCBAsync state management should serialize and deserialize model state",
          "status": "passed",
          "title": "should serialize and deserialize model state",
          "duration": 6.63029999999992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "state management"],
          "fullName": "LinUCBAsync state management should get and set model state",
          "status": "passed",
          "title": "should get and set model state",
          "duration": 0.459899000000064,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "state management"],
          "fullName": "LinUCBAsync state management should get and set state using BaseLearner interface",
          "status": "passed",
          "title": "should get and set state using BaseLearner interface",
          "duration": 0.9058009999999967,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "state management"],
          "fullName": "LinUCBAsync state management should reset model",
          "status": "passed",
          "title": "should reset model",
          "duration": 1.8387709999999515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "configuration"],
          "fullName": "LinUCBAsync configuration should set and get alpha",
          "status": "passed",
          "title": "should set and get alpha",
          "duration": 0.9351890000000367,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "configuration"],
          "fullName": "LinUCBAsync configuration should get cold start alpha",
          "status": "passed",
          "title": "should get cold start alpha",
          "duration": 0.3109900000000607,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "configuration"],
          "fullName": "LinUCBAsync configuration should return correct name and version",
          "status": "passed",
          "title": "should return correct name and version",
          "duration": 0.241895999999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "configuration"],
          "fullName": "LinUCBAsync configuration should return capabilities",
          "status": "passed",
          "title": "should return capabilities",
          "duration": 0.4737850000000208,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "worker stats"],
          "fullName": "LinUCBAsync worker stats should return worker stats for sync mode",
          "status": "passed",
          "title": "should return worker stats for sync mode",
          "duration": 0.46618599999999333,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "worker stats"],
          "fullName": "LinUCBAsync worker stats should track fallback count",
          "status": "passed",
          "title": "should track fallback count",
          "duration": 1.6451830000000882,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "worker stats"],
          "fullName": "LinUCBAsync worker stats should correctly determine willUseWorker based on dimension",
          "status": "passed",
          "title": "should correctly determine willUseWorker based on dimension",
          "duration": 0.5160509999999476,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "underlying LinUCB access"],
          "fullName": "LinUCBAsync underlying LinUCB access should provide access to underlying LinUCB instance",
          "status": "passed",
          "title": "should provide access to underlying LinUCB instance",
          "duration": 1.8970849999999473,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "underlying LinUCB access"],
          "fullName": "LinUCBAsync underlying LinUCB access should share state with underlying instance",
          "status": "passed",
          "title": "should share state with underlying instance",
          "duration": 0.993881999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "consistency with sync LinUCB"],
          "fullName": "LinUCBAsync consistency with sync LinUCB should produce same results as sync LinUCB for selection",
          "status": "passed",
          "title": "should produce same results as sync LinUCB for selection",
          "duration": 7.332112999999936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "consistency with sync LinUCB"],
          "fullName": "LinUCBAsync consistency with sync LinUCB should update model consistently with sync LinUCB",
          "status": "passed",
          "title": "should update model consistently with sync LinUCB",
          "duration": 1.3990140000000792,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "feature vector building"],
          "fullName": "LinUCBAsync feature vector building should build context vector",
          "status": "passed",
          "title": "should build context vector",
          "duration": 0.5812779999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "feature vector building"],
          "fullName": "LinUCBAsync feature vector building should build consistent feature vectors",
          "status": "passed",
          "title": "should build consistent feature vectors",
          "duration": 0.4069279999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "learning behavior"],
          "fullName": "LinUCBAsync learning behavior should learn from positive rewards",
          "status": "passed",
          "title": "should learn from positive rewards",
          "duration": 3.0235360000000355,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "learning behavior"],
          "fullName": "LinUCBAsync learning behavior should decrease score for negative rewards",
          "status": "passed",
          "title": "should decrease score for negative rewards",
          "duration": 3.649161000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "edge cases"],
          "fullName": "LinUCBAsync edge cases should handle empty actions array gracefully",
          "status": "passed",
          "title": "should handle empty actions array gracefully",
          "duration": 1.360006999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "edge cases"],
          "fullName": "LinUCBAsync edge cases should handle single action",
          "status": "passed",
          "title": "should handle single action",
          "duration": 0.33957100000009177,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "edge cases"],
          "fullName": "LinUCBAsync edge cases should handle extreme reward values",
          "status": "passed",
          "title": "should handle extreme reward values",
          "duration": 0.5547000000000253,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "edge cases"],
          "fullName": "LinUCBAsync edge cases should handle extreme state values",
          "status": "passed",
          "title": "should handle extreme state values",
          "duration": 0.3068190000000186,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCBAsync", "edge cases"],
          "fullName": "LinUCBAsync edge cases should handle zero context values",
          "status": "passed",
          "title": "should handle zero context values",
          "duration": 0.26441399999998794,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909457,
      "endTime": 1765615909553.307,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/learning/linucb-async.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should initialize with default dimension (22)",
          "status": "passed",
          "title": "should initialize with default dimension (22)",
          "duration": 2.3414920000000166,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should initialize A matrix as λI (identity * lambda)",
          "status": "passed",
          "title": "should initialize A matrix as λI (identity * lambda)",
          "duration": 20.034158000000048,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should initialize b vector as zeros",
          "status": "passed",
          "title": "should initialize b vector as zeros",
          "duration": 0.9786440000000312,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should initialize L matrix (Cholesky of λI)",
          "status": "passed",
          "title": "should initialize L matrix (Cholesky of λI)",
          "duration": 1.0128019999999651,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should initialize updateCount to 0",
          "status": "passed",
          "title": "should initialize updateCount to 0",
          "duration": 0.281833000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should accept custom options",
          "status": "passed",
          "title": "should accept custom options",
          "duration": 0.32411000000001877,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "initialization"],
          "fullName": "LinUCB initialization should enforce minimum lambda",
          "status": "passed",
          "title": "should enforce minimum lambda",
          "duration": 0.283074000000056,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "selectAction"],
          "fullName": "LinUCB selectAction should throw error when actions array is empty",
          "status": "passed",
          "title": "should throw error when actions array is empty",
          "duration": 8.671510000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "selectAction"],
          "fullName": "LinUCB selectAction should return ActionSelection with action, score, and confidence",
          "status": "passed",
          "title": "should return ActionSelection with action, score, and confidence",
          "duration": 1.875662000000034,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "selectAction"],
          "fullName": "LinUCB selectAction should select action with highest UCB score",
          "status": "passed",
          "title": "should select action with highest UCB score",
          "duration": 9.060334999999895,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "selectAction"],
          "fullName": "LinUCB selectAction should return consistent results with same seed",
          "status": "passed",
          "title": "should return consistent results with same seed",
          "duration": 10.914045999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "selectAction"],
          "fullName": "LinUCB selectAction should include exploitation and exploration in meta",
          "status": "passed",
          "title": "should include exploitation and exploration in meta",
          "duration": 0.7516549999999143,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "UCB score computation"],
          "fullName": "LinUCB UCB score computation should compute UCB score = exploitation + α * confidence",
          "status": "passed",
          "title": "should compute UCB score = exploitation + α * confidence",
          "duration": 19.66258300000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "UCB score computation"],
          "fullName": "LinUCB UCB score computation should have higher exploration term for untrained model",
          "status": "passed",
          "title": "should have higher exploration term for untrained model",
          "duration": 21.087493999999992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "update"],
          "fullName": "LinUCB update should increment updateCount after each update",
          "status": "passed",
          "title": "should increment updateCount after each update",
          "duration": 1.415346999999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "update"],
          "fullName": "LinUCB update should update A matrix (add outer product)",
          "status": "passed",
          "title": "should update A matrix (add outer product)",
          "duration": 1.8506350000000111,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "update"],
          "fullName": "LinUCB update should update b vector (add scaled feature vector)",
          "status": "passed",
          "title": "should update b vector (add scaled feature vector)",
          "duration": 0.8689259999999877,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "update"],
          "fullName": "LinUCB update should perform Cholesky rank-1 update",
          "status": "passed",
          "title": "should perform Cholesky rank-1 update",
          "duration": 0.6964850000000524,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "updateWithFeatureVector"],
          "fullName": "LinUCB updateWithFeatureVector should throw error on dimension mismatch",
          "status": "passed",
          "title": "should throw error on dimension mismatch",
          "duration": 1.0442630000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "updateWithFeatureVector"],
          "fullName": "LinUCB updateWithFeatureVector should sanitize NaN/Infinity features and proceed with update",
          "status": "passed",
          "title": "should sanitize NaN/Infinity features and proceed with update",
          "duration": 1.9130559999999832,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "updateWithFeatureVector"],
          "fullName": "LinUCB updateWithFeatureVector should skip update for invalid reward",
          "status": "passed",
          "title": "should skip update for invalid reward",
          "duration": 2.8604030000000193,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "updateWithFeatureVector"],
          "fullName": "LinUCB updateWithFeatureVector should clamp extreme feature values",
          "status": "passed",
          "title": "should clamp extreme feature values",
          "duration": 2.6905889999999317,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "updateWithFeatureVector"],
          "fullName": "LinUCB updateWithFeatureVector should accept number array as input",
          "status": "passed",
          "title": "should accept number array as input",
          "duration": 0.552550999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "getColdStartAlpha"],
          "fullName": "LinUCB getColdStartAlpha should return 0.5 for interactionCount < 15",
          "status": "passed",
          "title": "should return 0.5 for interactionCount < 15",
          "duration": 0.3291870000000472,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "getColdStartAlpha"],
          "fullName": "LinUCB getColdStartAlpha should return 2.0 for 15-49 with high accuracy and low fatigue",
          "status": "passed",
          "title": "should return 2.0 for 15-49 with high accuracy and low fatigue",
          "duration": 0.22827999999992699,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "getColdStartAlpha"],
          "fullName": "LinUCB getColdStartAlpha should return 1.0 for 15-49 with low accuracy or high fatigue",
          "status": "passed",
          "title": "should return 1.0 for 15-49 with low accuracy or high fatigue",
          "duration": 0.19339500000000953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "getColdStartAlpha"],
          "fullName": "LinUCB getColdStartAlpha should return 0.7 for interactionCount >= 50",
          "status": "passed",
          "title": "should return 0.7 for interactionCount >= 50",
          "duration": 0.15858600000001388,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "alpha management"],
          "fullName": "LinUCB alpha management should set and get alpha",
          "status": "passed",
          "title": "should set and get alpha",
          "duration": 0.3821900000000369,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "alpha management"],
          "fullName": "LinUCB alpha management should not allow negative alpha",
          "status": "passed",
          "title": "should not allow negative alpha",
          "duration": 0.19158600000002934,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "model persistence"],
          "fullName": "LinUCB model persistence should get/set model state roundtrip",
          "status": "passed",
          "title": "should get/set model state roundtrip",
          "duration": 25.610403999999903,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "model persistence"],
          "fullName": "LinUCB model persistence should migrate model from smaller dimension (d=12 to d=22)",
          "status": "passed",
          "title": "should migrate model from smaller dimension (d=12 to d=22)",
          "duration": 2.9937009999998736,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "model persistence"],
          "fullName": "LinUCB model persistence should reset model when downgrading dimension",
          "status": "passed",
          "title": "should reset model when downgrading dimension",
          "duration": 12.854869000000008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "reset"],
          "fullName": "LinUCB reset should reset all model state",
          "status": "passed",
          "title": "should reset all model state",
          "duration": 11.371499999999969,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "buildContextVector"],
          "fullName": "LinUCB buildContextVector should build 22-dimensional feature vector",
          "status": "passed",
          "title": "should build 22-dimensional feature vector",
          "duration": 0.386019000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "buildContextVector"],
          "fullName": "LinUCB buildContextVector should include bias term as last element",
          "status": "passed",
          "title": "should include bias term as last element",
          "duration": 1.3113510000000588,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "buildContextVector"],
          "fullName": "LinUCB buildContextVector should clamp state values to valid range",
          "status": "passed",
          "title": "should clamp state values to valid range",
          "duration": 0.84981700000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "buildContextVector"],
          "fullName": "LinUCB buildContextVector should encode time features with sin/cos",
          "status": "passed",
          "title": "should encode time features with sin/cos",
          "duration": 0.3420469999998659,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "BaseLearner interface"],
          "fullName": "LinUCB BaseLearner interface should return correct name",
          "status": "passed",
          "title": "should return correct name",
          "duration": 0.19526399999995192,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "BaseLearner interface"],
          "fullName": "LinUCB BaseLearner interface should return correct version",
          "status": "passed",
          "title": "should return correct version",
          "duration": 0.21141399999987698,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "BaseLearner interface"],
          "fullName": "LinUCB BaseLearner interface should return capabilities",
          "status": "passed",
          "title": "should return capabilities",
          "duration": 0.24568599999997787,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "BaseLearner interface"],
          "fullName": "LinUCB BaseLearner interface should implement getState/setState",
          "status": "passed",
          "title": "should implement getState/setState",
          "duration": 18.9561369999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "numerical stability"],
          "fullName": "LinUCB numerical stability should handle many sequential updates without overflow",
          "status": "passed",
          "title": "should handle many sequential updates without overflow",
          "duration": 60.33794399999988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "numerical stability"],
          "fullName": "LinUCB numerical stability should recover from unstable A matrix",
          "status": "passed",
          "title": "should recover from unstable A matrix",
          "duration": 0.8723970000000918,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "numerical stability"],
          "fullName": "LinUCB numerical stability should handle zero response time",
          "status": "passed",
          "title": "should handle zero response time",
          "duration": 0.8111120000000938,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "numerical stability"],
          "fullName": "LinUCB LinUCB Edge Cases numerical stability should handle near-singular covariance matrix",
          "status": "passed",
          "title": "should handle near-singular covariance matrix",
          "duration": 1.4701120000001993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "numerical stability"],
          "fullName": "LinUCB LinUCB Edge Cases numerical stability should sanitize NaN in features",
          "status": "passed",
          "title": "should sanitize NaN in features",
          "duration": 10.607810999999856,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "numerical stability"],
          "fullName": "LinUCB LinUCB Edge Cases numerical stability should sanitize Infinity in features",
          "status": "passed",
          "title": "should sanitize Infinity in features",
          "duration": 0.8291159999998854,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "numerical stability"],
          "fullName": "LinUCB LinUCB Edge Cases numerical stability should handle zero variance context",
          "status": "passed",
          "title": "should handle zero variance context",
          "duration": 1.2534519999999247,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "numerical stability"],
          "fullName": "LinUCB LinUCB Edge Cases numerical stability should handle matrix with NaN after update",
          "status": "passed",
          "title": "should handle matrix with NaN after update",
          "duration": 0.9545430000000579,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle very large rewards",
          "status": "passed",
          "title": "should handle very large rewards",
          "duration": 2.583234000000175,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle negative rewards",
          "status": "passed",
          "title": "should handle negative rewards",
          "duration": 4.167867999999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle empty arm list",
          "status": "passed",
          "title": "should handle empty arm list",
          "duration": 0.807837999999947,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle very small alpha",
          "status": "passed",
          "title": "should handle very small alpha",
          "duration": 0.677637999999888,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle very large alpha",
          "status": "passed",
          "title": "should handle very large alpha",
          "duration": 0.7109969999999066,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle extreme state values",
          "status": "passed",
          "title": "should handle extreme state values",
          "duration": 0.47285600000009254,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle all-zero feature vector",
          "status": "passed",
          "title": "should handle all-zero feature vector",
          "duration": 0.2648110000000088,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle single action selection",
          "status": "passed",
          "title": "should handle single action selection",
          "duration": 0.30303299999991395,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "extreme values"],
          "fullName": "LinUCB LinUCB Edge Cases extreme values should handle extreme time bucket values",
          "status": "passed",
          "title": "should handle extreme time bucket values",
          "duration": 0.5135910000001331,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "model consistency"],
          "fullName": "LinUCB LinUCB Edge Cases model consistency should maintain positive definiteness after many updates",
          "status": "passed",
          "title": "should maintain positive definiteness after many updates",
          "duration": 33.19299899999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["LinUCB", "LinUCB Edge Cases", "model consistency"],
          "fullName": "LinUCB LinUCB Edge Cases model consistency should handle rapid sequential updates",
          "status": "passed",
          "title": "should handle rapid sequential updates",
          "duration": 2.896009000000049,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615904699,
      "endTime": 1765615905023.896,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/learning/linucb.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ThompsonSampling", "initialization"],
          "fullName": "ThompsonSampling initialization should initialize with default prior parameters (α=1, β=1)",
          "status": "passed",
          "title": "should initialize with default prior parameters (α=1, β=1)",
          "duration": 1.4314170000000104,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "initialization"],
          "fullName": "ThompsonSampling initialization should initialize with empty global and contextual maps",
          "status": "passed",
          "title": "should initialize with empty global and contextual maps",
          "duration": 1.229060000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "initialization"],
          "fullName": "ThompsonSampling initialization should initialize updateCount to 0",
          "status": "passed",
          "title": "should initialize updateCount to 0",
          "duration": 0.23134600000003047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "initialization"],
          "fullName": "ThompsonSampling initialization should accept custom prior parameters",
          "status": "passed",
          "title": "should accept custom prior parameters",
          "duration": 0.33184700000003886,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "initialization"],
          "fullName": "ThompsonSampling initialization should accept custom context weight bounds",
          "status": "passed",
          "title": "should accept custom context weight bounds",
          "duration": 1.0484140000000934,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "selectAction"],
          "fullName": "ThompsonSampling selectAction should throw error when actions array is empty",
          "status": "passed",
          "title": "should throw error when actions array is empty",
          "duration": 1.533333999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "selectAction"],
          "fullName": "ThompsonSampling selectAction should return ActionSelection with action, score, and confidence",
          "status": "passed",
          "title": "should return ActionSelection with action, score, and confidence",
          "duration": 1.1205770000000257,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "selectAction"],
          "fullName": "ThompsonSampling selectAction should return score in range [0, 1]",
          "status": "passed",
          "title": "should return score in range [0, 1]",
          "duration": 2.9865859999999884,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "selectAction"],
          "fullName": "ThompsonSampling selectAction should include meta information with actionKey and contextKey",
          "status": "passed",
          "title": "should include meta information with actionKey and contextKey",
          "duration": 0.6216809999999668,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "selectAction"],
          "fullName": "ThompsonSampling selectAction should produce consistent results with same seed",
          "status": "passed",
          "title": "should produce consistent results with same seed",
          "duration": 1.8335700000000088,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "Beta sampling"],
          "fullName": "ThompsonSampling Beta sampling should sample values in range [0, 1]",
          "status": "passed",
          "title": "should sample values in range [0, 1]",
          "duration": 8.328333999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "context bucketization"],
          "fullName": "ThompsonSampling context bucketization should discretize error rate into buckets",
          "status": "passed",
          "title": "should discretize error rate into buckets",
          "duration": 0.5068160000000717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "context bucketization"],
          "fullName": "ThompsonSampling context bucketization should discretize response time into buckets",
          "status": "passed",
          "title": "should discretize response time into buckets",
          "duration": 0.2858009999999922,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "update"],
          "fullName": "ThompsonSampling update should increment updateCount after each update",
          "status": "passed",
          "title": "should increment updateCount after each update",
          "duration": 0.30868999999995594,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "update"],
          "fullName": "ThompsonSampling update should increment alpha for positive reward",
          "status": "passed",
          "title": "should increment alpha for positive reward",
          "duration": 0.1897319999999354,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "update"],
          "fullName": "ThompsonSampling update should increment beta for negative reward",
          "status": "passed",
          "title": "should increment beta for negative reward",
          "duration": 0.1753360000000157,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "update"],
          "fullName": "ThompsonSampling update should update both global and contextual parameters",
          "status": "passed",
          "title": "should update both global and contextual parameters",
          "duration": 0.17809699999997974,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "sample blending"],
          "fullName": "ThompsonSampling sample blending should use more global weight when contextual has few samples",
          "status": "passed",
          "title": "should use more global weight when contextual has few samples",
          "duration": 0.1526450000000068,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "sample blending"],
          "fullName": "ThompsonSampling sample blending should prefer actions with higher observed rewards",
          "status": "passed",
          "title": "should prefer actions with higher observed rewards",
          "duration": 1.1945820000000822,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "confidence computation"],
          "fullName": "ThompsonSampling confidence computation should return low confidence for new actions",
          "status": "passed",
          "title": "should return low confidence for new actions",
          "duration": 0.21429699999998775,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "confidence computation"],
          "fullName": "ThompsonSampling confidence computation should increase confidence with more observations",
          "status": "passed",
          "title": "should increase confidence with more observations",
          "duration": 0.5154089999999769,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "state persistence"],
          "fullName": "ThompsonSampling state persistence should get/set state roundtrip",
          "status": "passed",
          "title": "should get/set state roundtrip",
          "duration": 0.9647339999999076,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "state persistence"],
          "fullName": "ThompsonSampling state persistence should handle prior parameter migration",
          "status": "passed",
          "title": "should handle prior parameter migration",
          "duration": 0.44213400000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "reset"],
          "fullName": "ThompsonSampling reset should reset all state",
          "status": "passed",
          "title": "should reset all state",
          "duration": 0.713751000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "BaseLearner interface"],
          "fullName": "ThompsonSampling BaseLearner interface should return correct name",
          "status": "passed",
          "title": "should return correct name",
          "duration": 0.4093279999999595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "BaseLearner interface"],
          "fullName": "ThompsonSampling BaseLearner interface should return correct version",
          "status": "passed",
          "title": "should return correct version",
          "duration": 0.32672200000001794,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "BaseLearner interface"],
          "fullName": "ThompsonSampling BaseLearner interface should return capabilities",
          "status": "passed",
          "title": "should return capabilities",
          "duration": 0.33441800000002786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "edge cases"],
          "fullName": "ThompsonSampling edge cases should handle extreme error rate (0)",
          "status": "passed",
          "title": "should handle extreme error rate (0)",
          "duration": 0.305533999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "edge cases"],
          "fullName": "ThompsonSampling edge cases should handle extreme error rate (1)",
          "status": "passed",
          "title": "should handle extreme error rate (1)",
          "duration": 0.2851909999999407,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "edge cases"],
          "fullName": "ThompsonSampling edge cases should handle very fast response time",
          "status": "passed",
          "title": "should handle very fast response time",
          "duration": 0.24154699999996865,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "edge cases"],
          "fullName": "ThompsonSampling edge cases should handle very slow response time",
          "status": "passed",
          "title": "should handle very slow response time",
          "duration": 0.2257649999999103,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ThompsonSampling", "edge cases"],
          "fullName": "ThompsonSampling edge cases should handle negative motivation state",
          "status": "passed",
          "title": "should handle negative motivation state",
          "duration": 0.21106300000008105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "Beta distribution edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases Beta distribution edge cases should handle alpha close to 0 (prior minimum enforced)",
          "status": "passed",
          "title": "should handle alpha close to 0 (prior minimum enforced)",
          "duration": 0.48863700000003973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "Beta distribution edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases Beta distribution edge cases should handle beta close to 0 (prior minimum enforced)",
          "status": "passed",
          "title": "should handle beta close to 0 (prior minimum enforced)",
          "duration": 0.34733499999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "Beta distribution edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases Beta distribution edge cases should handle very large alpha/beta values",
          "status": "passed",
          "title": "should handle very large alpha/beta values",
          "duration": 4.852070000000026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "Beta distribution edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases Beta distribution edge cases should handle very small probabilities (high beta relative to alpha)",
          "status": "passed",
          "title": "should handle very small probabilities (high beta relative to alpha)",
          "duration": 0.9560030000000097,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "identical arm statistics"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases identical arm statistics should handle all arms with identical statistics",
          "status": "passed",
          "title": "should handle all arms with identical statistics",
          "duration": 0.7883620000001201,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "identical arm statistics"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases identical arm statistics should handle arms with same expected value but different variance",
          "status": "passed",
          "title": "should handle arms with same expected value but different variance",
          "duration": 6.3689509999999245,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "numerical stability"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases numerical stability should handle NaN in context fields gracefully",
          "status": "passed",
          "title": "should handle NaN in context fields gracefully",
          "duration": 0.4907069999999294,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "numerical stability"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases numerical stability should handle Infinity in context fields gracefully",
          "status": "passed",
          "title": "should handle Infinity in context fields gracefully",
          "duration": 0.2770839999998316,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "numerical stability"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases numerical stability should handle extreme reward values",
          "status": "passed",
          "title": "should handle extreme reward values",
          "duration": 0.24983499999984815,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "numerical stability"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases numerical stability should maintain valid Beta samples after many updates",
          "status": "passed",
          "title": "should maintain valid Beta samples after many updates",
          "duration": 21.608703000000105,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases context handling edge cases should handle undefined context properties",
          "status": "passed",
          "title": "should handle undefined context properties",
          "duration": 0.31065699999999197,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases context handling edge cases should handle empty context object",
          "status": "passed",
          "title": "should handle empty context object",
          "duration": 0.2418319999999312,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases context handling edge cases should handle boundary error rates",
          "status": "passed",
          "title": "should handle boundary error rates",
          "duration": 0.22411299999998846,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "context handling edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases context handling edge cases should create different context keys for different contexts",
          "status": "passed",
          "title": "should create different context keys for different contexts",
          "duration": 0.22728299999994306,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases state persistence edge cases should handle restoration of state with invalid alpha/beta",
          "status": "passed",
          "title": "should handle restoration of state with invalid alpha/beta",
          "duration": 0.2565799999999854,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases state persistence edge cases should handle state with mismatched prior parameters",
          "status": "passed",
          "title": "should handle state with mismatched prior parameters",
          "duration": 0.2137000000000171,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "state persistence edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases state persistence edge cases should handle empty state restoration",
          "status": "passed",
          "title": "should handle empty state restoration",
          "duration": 0.22065500000007887,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "soft update mode edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases soft update mode edge cases should handle soft update with reward = 0",
          "status": "passed",
          "title": "should handle soft update with reward = 0",
          "duration": 0.3415810000001329,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "soft update mode edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases soft update mode edge cases should handle soft update with reward = 1",
          "status": "passed",
          "title": "should handle soft update with reward = 1",
          "duration": 0.26007800000002135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "soft update mode edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases soft update mode edge cases should handle soft update with reward = -1",
          "status": "passed",
          "title": "should handle soft update with reward = -1",
          "duration": 0.1951449999999113,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "single action edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases single action edge cases should always return the only action when single action provided",
          "status": "passed",
          "title": "should always return the only action when single action provided",
          "duration": 0.6442779999999857,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ThompsonSampling",
            "ThompsonSampling Edge Cases",
            "single action edge cases"
          ],
          "fullName": "ThompsonSampling ThompsonSampling Edge Cases single action edge cases should compute valid confidence for single action",
          "status": "passed",
          "title": "should compute valid confidence for single action",
          "duration": 0.2597950000001674,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901056,
      "endTime": 1765615901127.2598,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/learning/thompson-sampling.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["EmotionDetector", "initialization"],
          "fullName": "EmotionDetector initialization 应该正确初始化",
          "status": "passed",
          "title": "应该正确初始化",
          "duration": 2.218381000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "initialization"],
          "fullName": "EmotionDetector initialization 默认实例应该可用",
          "status": "passed",
          "title": "默认实例应该可用",
          "duration": 0.5736180000000104,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该识别沮丧相关关键词",
          "status": "passed",
          "title": "应该识别沮丧相关关键词",
          "duration": 7.908562999999958,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该识别焦虑相关关键词",
          "status": "passed",
          "title": "应该识别焦虑相关关键词",
          "duration": 1.9224679999999807,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该识别无聊相关关键词",
          "status": "passed",
          "title": "应该识别无聊相关关键词",
          "duration": 0.644094999999993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该识别疲劳相关关键词",
          "status": "passed",
          "title": "应该识别疲劳相关关键词",
          "duration": 0.7177990000000136,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该对相同输入返回相同结果",
          "status": "passed",
          "title": "应该对相同输入返回相同结果",
          "duration": 2.821056999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该处理包含空格的输入",
          "status": "passed",
          "title": "应该处理包含空格的输入",
          "duration": 0.9078379999999697,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该在无匹配关键词时返回neutral",
          "status": "passed",
          "title": "应该在无匹配关键词时返回neutral",
          "duration": 0.49041600000009566,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该使用行为信号验证自我报告",
          "status": "passed",
          "title": "应该使用行为信号验证自我报告",
          "duration": 0.452282000000082,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该在自我报告和行为一致时提高置信度",
          "status": "passed",
          "title": "应该在自我报告和行为一致时提高置信度",
          "duration": 0.20631700000001274,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report processing"],
          "fullName": "EmotionDetector self-report processing 应该在行为信号强烈时优先使用行为推断",
          "status": "passed",
          "title": "应该在行为信号强烈时优先使用行为推断",
          "duration": 0.19672699999989618,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "frustrated detection"],
          "fullName": "EmotionDetector behavior inference frustrated detection 应该基于连续错误检测沮丧",
          "status": "passed",
          "title": "应该基于连续错误检测沮丧",
          "duration": 0.2770860000000539,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "frustrated detection"],
          "fullName": "EmotionDetector behavior inference frustrated detection 应该基于高反应时间变异检测沮丧",
          "status": "passed",
          "title": "应该基于高反应时间变异检测沮丧",
          "duration": 0.1725930000000062,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "frustrated detection"],
          "fullName": "EmotionDetector behavior inference frustrated detection 应该基于多次跳过检测沮丧",
          "status": "passed",
          "title": "应该基于多次跳过检测沮丧",
          "duration": 0.14680799999996452,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "anxious detection"],
          "fullName": "EmotionDetector behavior inference anxious detection 应该基于快速反应检测焦虑",
          "status": "passed",
          "title": "应该基于快速反应检测焦虑",
          "duration": 0.21015599999998358,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "anxious detection"],
          "fullName": "EmotionDetector behavior inference anxious detection 应该基于高反应时间变异检测焦虑",
          "status": "passed",
          "title": "应该基于高反应时间变异检测焦虑",
          "duration": 0.1478630000000294,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "anxious detection"],
          "fullName": "EmotionDetector behavior inference anxious detection 应该基于低停留时间和快速反应检测焦虑",
          "status": "passed",
          "title": "应该基于低停留时间和快速反应检测焦虑",
          "duration": 0.1374469999999519,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "bored detection"],
          "fullName": "EmotionDetector behavior inference bored detection 应该基于慢速但稳定的反应检测无聊",
          "status": "passed",
          "title": "应该基于慢速但稳定的反应检测无聊",
          "duration": 0.1534839999999349,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "bored detection"],
          "fullName": "EmotionDetector behavior inference bored detection 应该基于跳过行为检测无聊",
          "status": "passed",
          "title": "应该基于跳过行为检测无聊",
          "duration": 0.18001000000003842,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "bored detection"],
          "fullName": "EmotionDetector behavior inference bored detection 应该基于中等错误率检测无聊",
          "status": "passed",
          "title": "应该基于中等错误率检测无聊",
          "duration": 0.15728300000000672,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "tired detection"],
          "fullName": "EmotionDetector behavior inference tired detection 应该基于极慢反应检测疲劳",
          "status": "passed",
          "title": "应该基于极慢反应检测疲劳",
          "duration": 0.15352600000005623,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "tired detection"],
          "fullName": "EmotionDetector behavior inference tired detection 应该基于低变异性检测疲劳",
          "status": "passed",
          "title": "应该基于低变异性检测疲劳",
          "duration": 0.14440799999999854,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "tired detection"],
          "fullName": "EmotionDetector behavior inference tired detection 应该基于高停留时间检测疲劳",
          "status": "passed",
          "title": "应该基于高停留时间检测疲劳",
          "duration": 0.18877099999997426,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "neutral detection"],
          "fullName": "EmotionDetector behavior inference neutral detection 应该在正常行为下检测中性状态",
          "status": "passed",
          "title": "应该在正常行为下检测中性状态",
          "duration": 0.20427700000004734,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "behavior inference", "neutral detection"],
          "fullName": "EmotionDetector behavior inference neutral detection 应该在无错误时倾向于中性状态",
          "status": "passed",
          "title": "应该在无错误时倾向于中性状态",
          "duration": 0.13466699999992215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "confidence levels"],
          "fullName": "EmotionDetector confidence levels 应该返回0到1之间的置信度",
          "status": "passed",
          "title": "应该返回0到1之间的置信度",
          "duration": 0.8048369999999068,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "confidence levels"],
          "fullName": "EmotionDetector confidence levels 应该在信号强烈时提供更高置信度",
          "status": "passed",
          "title": "应该在信号强烈时提供更高置信度",
          "duration": 0.21448099999997794,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "confidence levels"],
          "fullName": "EmotionDetector confidence levels 应该在自我报告一致时提供更高置信度",
          "status": "passed",
          "title": "应该在自我报告一致时提供更高置信度",
          "duration": 0.7726079999999911,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理基线反应时间为0的情况",
          "status": "passed",
          "title": "应该处理基线反应时间为0的情况",
          "duration": 4.2690240000000585,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理平均反应时间为0的情况",
          "status": "passed",
          "title": "应该处理平均反应时间为0的情况",
          "duration": 0.326712999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理极端的连续错误数",
          "status": "passed",
          "title": "应该处理极端的连续错误数",
          "duration": 0.2360439999999926,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理极端的跳过数",
          "status": "passed",
          "title": "应该处理极端的跳过数",
          "duration": 1.0047329999999874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理所有信号都极端的情况",
          "status": "passed",
          "title": "应该处理所有信号都极端的情况",
          "duration": 0.3140640000000303,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理空字符串的自我报告",
          "status": "passed",
          "title": "应该处理空字符串的自我报告",
          "duration": 0.17127400000003945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理null的自我报告",
          "status": "passed",
          "title": "应该处理null的自我报告",
          "duration": 0.13671099999999115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "edge cases"],
          "fullName": "EmotionDetector edge cases 应该处理只有空格的自我报告",
          "status": "passed",
          "title": "应该处理只有空格的自我报告",
          "duration": 0.13995999999997366,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "emotion classification consistency"],
          "fullName": "EmotionDetector emotion classification consistency 相同的输入应该产生相同的输出",
          "status": "passed",
          "title": "相同的输入应该产生相同的输出",
          "duration": 0.18461999999999534,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "emotion classification consistency"],
          "fullName": "EmotionDetector emotion classification consistency 应该为每种情绪返回有效的EmotionState",
          "status": "passed",
          "title": "应该为每种情绪返回有效的EmotionState",
          "duration": 1.4746819999999161,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "multiple emotion keywords"],
          "fullName": "EmotionDetector multiple emotion keywords 应该处理包含多个情绪关键词的输入",
          "status": "passed",
          "title": "应该处理包含多个情绪关键词的输入",
          "duration": 0.27095199999996566,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "multiple emotion keywords"],
          "fullName": "EmotionDetector multiple emotion keywords 应该处理不同情绪关键词的混合（中文）",
          "status": "passed",
          "title": "应该处理不同情绪关键词的混合（中文）",
          "duration": 0.20275600000002214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "multiple emotion keywords"],
          "fullName": "EmotionDetector multiple emotion keywords 应该对大小写不敏感",
          "status": "passed",
          "title": "应该对大小写不敏感",
          "duration": 0.1519779999999855,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "coefficient of variation edge cases"],
          "fullName": "EmotionDetector coefficient of variation edge cases 应该处理变异系数为0的情况（完全稳定）",
          "status": "passed",
          "title": "应该处理变异系数为0的情况（完全稳定）",
          "duration": 0.23977300000001378,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "coefficient of variation edge cases"],
          "fullName": "EmotionDetector coefficient of variation edge cases 应该处理非常高的变异系数",
          "status": "passed",
          "title": "应该处理非常高的变异系数",
          "duration": 0.15324999999995725,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report inconsistency"],
          "fullName": "EmotionDetector self-report inconsistency 应该在自我报告和行为中等不一致时相信自我报告",
          "status": "passed",
          "title": "应该在自我报告和行为中等不一致时相信自我报告",
          "duration": 0.18416600000000471,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "self-report inconsistency"],
          "fullName": "EmotionDetector self-report inconsistency 应该在行为信号不强烈时使用自我报告",
          "status": "passed",
          "title": "应该在行为信号不强烈时使用自我报告",
          "duration": 0.18191699999999855,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "response time ratio extremes"],
          "fullName": "EmotionDetector response time ratio extremes 应该处理响应时间为基线10倍的情况",
          "status": "passed",
          "title": "应该处理响应时间为基线10倍的情况",
          "duration": 0.18269600000007813,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "response time ratio extremes"],
          "fullName": "EmotionDetector response time ratio extremes 应该处理响应时间为基线0.1倍的情况",
          "status": "passed",
          "title": "应该处理响应时间为基线0.1倍的情况",
          "duration": 0.16167700000005425,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "dwell time ratio boundaries"],
          "fullName": "EmotionDetector dwell time ratio boundaries 应该处理停留时间比率为0的情况",
          "status": "passed",
          "title": "应该处理停留时间比率为0的情况",
          "duration": 0.21955300000001898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "dwell time ratio boundaries"],
          "fullName": "EmotionDetector dwell time ratio boundaries 应该处理停留时间比率超过2的情况",
          "status": "passed",
          "title": "应该处理停留时间比率超过2的情况",
          "duration": 0.2075760000000173,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "confidence bounds"],
          "fullName": "EmotionDetector confidence bounds 置信度应该不超过1.0",
          "status": "passed",
          "title": "置信度应该不超过1.0",
          "duration": 0.3094300000000203,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "confidence bounds"],
          "fullName": "EmotionDetector confidence bounds 置信度应该不低于0",
          "status": "passed",
          "title": "置信度应该不低于0",
          "duration": 0.40603200000009565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "negative values"],
          "fullName": "EmotionDetector negative values 应该处理负的响应时间方差（理论上不应该但要健壮）",
          "status": "passed",
          "title": "应该处理负的响应时间方差（理论上不应该但要健壮）",
          "duration": 0.46067400000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "complex emotion combinations"],
          "fullName": "EmotionDetector complex emotion combinations 应该能区分疲劳和无聊（慢速反应但停留时间不同）",
          "status": "passed",
          "title": "应该能区分疲劳和无聊（慢速反应但停留时间不同）",
          "duration": 0.6620070000000169,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "complex emotion combinations"],
          "fullName": "EmotionDetector complex emotion combinations 应该能区分焦虑和沮丧（都有高变异但错误率不同）",
          "status": "passed",
          "title": "应该能区分焦虑和沮丧（都有高变异但错误率不同）",
          "duration": 5.305070999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "boundary value combinations"],
          "fullName": "EmotionDetector boundary value combinations 应该处理所有参数都为0的情况",
          "status": "passed",
          "title": "应该处理所有参数都为0的情况",
          "duration": 0.37314999999989595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EmotionDetector", "boundary value combinations"],
          "fullName": "EmotionDetector boundary value combinations 应该处理所有参数都为最大值的情况",
          "status": "passed",
          "title": "应该处理所有参数都为最大值的情况",
          "duration": 0.2983600000000024,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911831,
      "endTime": 1765615911876.373,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/models/emotion-detector.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["FlowDetector", "initialization"],
          "fullName": "FlowDetector initialization 应该正确初始化",
          "status": "passed",
          "title": "应该正确初始化",
          "duration": 2.151061000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "initialization"],
          "fullName": "FlowDetector initialization 默认实例应该可用",
          "status": "passed",
          "title": "默认实例应该可用",
          "duration": 0.5409760000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "insufficient samples"],
          "fullName": "FlowDetector insufficient samples 应该在事件少于5个时返回normal状态",
          "status": "passed",
          "title": "应该在事件少于5个时返回normal状态",
          "duration": 0.7422869999999762,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "insufficient samples"],
          "fullName": "FlowDetector insufficient samples 应该在事件为空时返回normal状态",
          "status": "passed",
          "title": "应该在事件为空时返回normal状态",
          "duration": 0.30124899999998433,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "insufficient samples"],
          "fullName": "FlowDetector insufficient samples 应该在事件恰好5个时能够进行检测",
          "status": "passed",
          "title": "应该在事件恰好5个时能够进行检测",
          "duration": 0.5393020000000206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "success rate factor"],
          "fullName": "FlowDetector success rate factor 应该在目标区间中心(72.5%)时得到最高分",
          "status": "passed",
          "title": "应该在目标区间中心(72.5%)时得到最高分",
          "duration": 0.4281249999999659,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "success rate factor"],
          "fullName": "FlowDetector success rate factor 应该在成功率低于65%时降低分数（焦虑区）",
          "status": "passed",
          "title": "应该在成功率低于65%时降低分数（焦虑区）",
          "duration": 0.49857900000000654,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "success rate factor"],
          "fullName": "FlowDetector success rate factor 应该在成功率高于80%时降低分数（无聊区）",
          "status": "passed",
          "title": "应该在成功率高于80%时降低分数（无聊区）",
          "duration": 0.3348100000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "success rate factor"],
          "fullName": "FlowDetector success rate factor 应该在成功率为0时返回最低分",
          "status": "passed",
          "title": "应该在成功率为0时返回最低分",
          "duration": 0.5524220000000355,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "success rate factor"],
          "fullName": "FlowDetector success rate factor 应该在成功率为100%时不在心流状态",
          "status": "passed",
          "title": "应该在成功率为100%时不在心流状态",
          "duration": 0.3845540000000369,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "success rate factor"],
          "fullName": "FlowDetector success rate factor 应该在65%-80%区间内得到高成功率因子",
          "status": "passed",
          "title": "应该在65%-80%区间内得到高成功率因子",
          "duration": 0.6901409999999828,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "response time stability factor"],
          "fullName": "FlowDetector response time stability factor 应该在反应时间稳定时得到高分",
          "status": "passed",
          "title": "应该在反应时间稳定时得到高分",
          "duration": 0.3411580000000072,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "response time stability factor"],
          "fullName": "FlowDetector response time stability factor 应该在反应时间不稳定时降低分数",
          "status": "passed",
          "title": "应该在反应时间不稳定时降低分数",
          "duration": 0.2839969999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "response time stability factor"],
          "fullName": "FlowDetector response time stability factor 应该正确处理所有反应时间相同的情况（CV=0）",
          "status": "passed",
          "title": "应该正确处理所有反应时间相同的情况（CV=0）",
          "duration": 0.6645240000000285,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "response time stability factor"],
          "fullName": "FlowDetector response time stability factor 应该处理平均反应时间为0的边界情况",
          "status": "passed",
          "title": "应该处理平均反应时间为0的边界情况",
          "duration": 0.59546899999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "response time stability factor"],
          "fullName": "FlowDetector response time stability factor 应该区分不同程度的稳定性",
          "status": "passed",
          "title": "应该区分不同程度的稳定性",
          "duration": 0.7509360000000243,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "state factor (attention & motivation)"],
          "fullName": "FlowDetector state factor (attention & motivation) 应该在注意力高时提高心流分数",
          "status": "passed",
          "title": "应该在注意力高时提高心流分数",
          "duration": 0.327624999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "state factor (attention & motivation)"],
          "fullName": "FlowDetector state factor (attention & motivation) 应该在动机高时提高心流分数",
          "status": "passed",
          "title": "应该在动机高时提高心流分数",
          "duration": 0.3233870000000252,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "state factor (attention & motivation)"],
          "fullName": "FlowDetector state factor (attention & motivation) 应该正确归一化动机值从[-1,1]到[0,1]",
          "status": "passed",
          "title": "应该正确归一化动机值从[-1,1]到[0,1]",
          "duration": 3.3341330000000085,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "state factor (attention & motivation)"],
          "fullName": "FlowDetector state factor (attention & motivation) 应该正确组合注意力和动机因子（注意力权重60%，动机权重40%）",
          "status": "passed",
          "title": "应该正确组合注意力和动机因子（注意力权重60%，动机权重40%）",
          "duration": 0.32804799999996703,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "state factor (attention & motivation)"],
          "fullName": "FlowDetector state factor (attention & motivation) 应该验证注意力的影响大于动机",
          "status": "passed",
          "title": "应该验证注意力的影响大于动机",
          "duration": 0.2707630000001018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state classification"],
          "fullName": "FlowDetector flow state classification 应该在高分数(>0.7)且目标区间时识别为flow",
          "status": "passed",
          "title": "应该在高分数(>0.7)且目标区间时识别为flow",
          "duration": 1.0031699999999546,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state classification"],
          "fullName": "FlowDetector flow state classification 应该在成功率低(<65%)时识别为anxiety",
          "status": "passed",
          "title": "应该在成功率低(<65%)时识别为anxiety",
          "duration": 0.608333000000016,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state classification"],
          "fullName": "FlowDetector flow state classification 应该在成功率高(>80%)时识别为boredom",
          "status": "passed",
          "title": "应该在成功率高(>80%)时识别为boredom",
          "duration": 0.46852000000001226,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state classification"],
          "fullName": "FlowDetector flow state classification 应该在中等分数时识别为normal",
          "status": "passed",
          "title": "应该在中等分数时识别为normal",
          "duration": 0.4115319999999656,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state classification"],
          "fullName": "FlowDetector flow state classification 应该优先基于成功率判断anxiety和boredom",
          "status": "passed",
          "title": "应该优先基于成功率判断anxiety和boredom",
          "duration": 0.43327399999998306,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "recommendations"],
          "fullName": "FlowDetector recommendations 应该为flow状态推荐保持当前难度",
          "status": "passed",
          "title": "应该为flow状态推荐保持当前难度",
          "duration": 0.3331319999999778,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "recommendations"],
          "fullName": "FlowDetector recommendations 应该为anxiety状态(成功率<50%)推荐降低难度",
          "status": "passed",
          "title": "应该为anxiety状态(成功率<50%)推荐降低难度",
          "duration": 0.323395000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "recommendations"],
          "fullName": "FlowDetector recommendations 应该为anxiety状态(成功率50%-65%)推荐适当调整",
          "status": "passed",
          "title": "应该为anxiety状态(成功率50%-65%)推荐适当调整",
          "duration": 0.4802980000000616,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "recommendations"],
          "fullName": "FlowDetector recommendations 应该为boredom状态(成功率>90%)推荐增加难度",
          "status": "passed",
          "title": "应该为boredom状态(成功率>90%)推荐增加难度",
          "duration": 0.26703699999995933,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "recommendations"],
          "fullName": "FlowDetector recommendations 应该为boredom状态(成功率80%-90%)推荐适当调整",
          "status": "passed",
          "title": "应该为boredom状态(成功率80%-90%)推荐适当调整",
          "duration": 0.27988600000003316,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "recommendations"],
          "fullName": "FlowDetector recommendations 应该为normal状态提供相应建议",
          "status": "passed",
          "title": "应该为normal状态提供相应建议",
          "duration": 0.27221400000007634,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "comprehensive flow score"],
          "fullName": "FlowDetector comprehensive flow score 应该返回0到1之间的分数",
          "status": "passed",
          "title": "应该返回0到1之间的分数",
          "duration": 0.19309900000007474,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "comprehensive flow score"],
          "fullName": "FlowDetector comprehensive flow score 应该综合考虑成功率、稳定性和状态因子",
          "status": "passed",
          "title": "应该综合考虑成功率、稳定性和状态因子",
          "duration": 0.47314700000003995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "comprehensive flow score"],
          "fullName": "FlowDetector comprehensive flow score 应该对相同输入返回相同结果",
          "status": "passed",
          "title": "应该对相同输入返回相同结果",
          "duration": 0.31082100000003265,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "comprehensive flow score"],
          "fullName": "FlowDetector comprehensive flow score 应该使用乘法组合三个因子",
          "status": "passed",
          "title": "应该使用乘法组合三个因子",
          "duration": 0.15389300000003914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "custom configuration"],
          "fullName": "FlowDetector custom configuration 应该允许设置自定义目标成功率",
          "status": "passed",
          "title": "应该允许设置自定义目标成功率",
          "duration": 1.203905000000077,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "custom configuration"],
          "fullName": "FlowDetector custom configuration 应该在无效成功率范围时抛出错误",
          "status": "passed",
          "title": "应该在无效成功率范围时抛出错误",
          "duration": 0.8155850000000555,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "custom configuration"],
          "fullName": "FlowDetector custom configuration 应该允许设置自定义心流阈值",
          "status": "passed",
          "title": "应该允许设置自定义心流阈值",
          "duration": 0.33880099999998947,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "custom configuration"],
          "fullName": "FlowDetector custom configuration 应该在无效心流阈值时抛出错误",
          "status": "passed",
          "title": "应该在无效心流阈值时抛出错误",
          "duration": 0.9299750000000131,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "custom configuration"],
          "fullName": "FlowDetector custom configuration 自定义配置应该影响检测结果",
          "status": "passed",
          "title": "自定义配置应该影响检测结果",
          "duration": 1.065595999999914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "time series analysis"],
          "fullName": "FlowDetector time series analysis 应该能够批量检测心流状态",
          "status": "passed",
          "title": "应该能够批量检测心流状态",
          "duration": 0.8185589999999365,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "time series analysis"],
          "fullName": "FlowDetector time series analysis 应该在事件数不足窗口大小时返回单个结果",
          "status": "passed",
          "title": "应该在事件数不足窗口大小时返回单个结果",
          "duration": 0.1947890000000143,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "time series analysis"],
          "fullName": "FlowDetector time series analysis 应该使用默认窗口大小10",
          "status": "passed",
          "title": "应该使用默认窗口大小10",
          "duration": 0.8116870000000063,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "time series analysis"],
          "fullName": "FlowDetector time series analysis 应该能够追踪心流状态的变化",
          "status": "passed",
          "title": "应该能够追踪心流状态的变化",
          "duration": 0.7357950000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "time series analysis"],
          "fullName": "FlowDetector time series analysis 应该处理窗口滑动时的边界情况",
          "status": "passed",
          "title": "应该处理窗口滑动时的边界情况",
          "duration": 0.5590270000000146,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理极端注意力值",
          "status": "passed",
          "title": "应该处理极端注意力值",
          "duration": 0.2589829999999438,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理极端动机值",
          "status": "passed",
          "title": "应该处理极端动机值",
          "duration": 0.15307899999993424,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理所有事件都正确的情况",
          "status": "passed",
          "title": "应该处理所有事件都正确的情况",
          "duration": 0.15600099999994654,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理所有事件都错误的情况",
          "status": "passed",
          "title": "应该处理所有事件都错误的情况",
          "duration": 0.14600100000006933,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理极端反应时间差异",
          "status": "passed",
          "title": "应该处理极端反应时间差异",
          "duration": 1.8376630000000205,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理非常大的事件数组",
          "status": "passed",
          "title": "应该处理非常大的事件数组",
          "duration": 1.512063000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理所有因子都为0的极端情况",
          "status": "passed",
          "title": "应该处理所有因子都为0的极端情况",
          "duration": 0.4090290000000323,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理所有因子都最大的极端情况",
          "status": "passed",
          "title": "应该处理所有因子都最大的极端情况",
          "duration": 0.37374499999998534,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "edge cases and exceptions"],
          "fullName": "FlowDetector edge cases and exceptions 应该处理NaN和Infinity情况",
          "status": "passed",
          "title": "应该处理NaN和Infinity情况",
          "duration": 0.4373729999999796,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state transitions"],
          "fullName": "FlowDetector flow state transitions 应该检测从normal到flow的转换",
          "status": "passed",
          "title": "应该检测从normal到flow的转换",
          "duration": 0.5275679999999738,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state transitions"],
          "fullName": "FlowDetector flow state transitions 应该检测从flow到anxiety的转换",
          "status": "failed",
          "title": "应该检测从flow到anxiety的转换",
          "duration": 11.375719000000004,
          "failureMessages": [
            "AssertionError: expected 1 to be less than 0.8\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/models/flow-detector.test.ts:934:35\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state transitions"],
          "fullName": "FlowDetector flow state transitions 应该检测从boredom到flow的转换",
          "status": "passed",
          "title": "应该检测从boredom到flow的转换",
          "duration": 0.5301549999999224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "flow state transitions"],
          "fullName": "FlowDetector flow state transitions 应该检测从anxiety到boredom的转换（难度大幅降低）",
          "status": "passed",
          "title": "应该检测从anxiety到boredom的转换（难度大幅降低）",
          "duration": 0.35641099999998005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "realistic scenarios"],
          "fullName": "FlowDetector realistic scenarios 应该模拟初学者场景（低成功率、不稳定）",
          "status": "passed",
          "title": "应该模拟初学者场景（低成功率、不稳定）",
          "duration": 0.5380880000000161,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "realistic scenarios"],
          "fullName": "FlowDetector realistic scenarios 应该模拟专家场景（高成功率、稳定）",
          "status": "passed",
          "title": "应该模拟专家场景（高成功率、稳定）",
          "duration": 0.3549189999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "realistic scenarios"],
          "fullName": "FlowDetector realistic scenarios 应该模拟疲劳场景（低注意力、高疲劳）",
          "status": "passed",
          "title": "应该模拟疲劳场景（低注意力、高疲劳）",
          "duration": 0.4211719999999559,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "realistic scenarios"],
          "fullName": "FlowDetector realistic scenarios 应该模拟理想心流场景",
          "status": "passed",
          "title": "应该模拟理想心流场景",
          "duration": 1.1121769999999742,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "realistic scenarios"],
          "fullName": "FlowDetector realistic scenarios 应该模拟挫败场景（连续失败）",
          "status": "passed",
          "title": "应该模拟挫败场景（连续失败）",
          "duration": 0.9975769999999784,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "realistic scenarios"],
          "fullName": "FlowDetector realistic scenarios 应该模拟恢复场景（从anxiety恢复到normal）",
          "status": "failed",
          "title": "应该模拟恢复场景（从anxiety恢复到normal）",
          "duration": 1.2010289999999486,
          "failureMessages": [
            "AssertionError: expected 0.12799999999999997 to be greater than 0.15999999999999998\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/models/flow-detector.test.ts:1121:37\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "special calculation logic"],
          "fullName": "FlowDetector special calculation logic 应该验证成功率因子在目标区间边界的计算",
          "status": "passed",
          "title": "应该验证成功率因子在目标区间边界的计算",
          "duration": 2.771566000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "special calculation logic"],
          "fullName": "FlowDetector special calculation logic 应该验证变异系数(CV)的计算",
          "status": "passed",
          "title": "应该验证变异系数(CV)的计算",
          "duration": 0.4883399999999938,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FlowDetector", "special calculation logic"],
          "fullName": "FlowDetector special calculation logic 应该验证状态因子权重分配（注意力60%，动机40%）",
          "status": "passed",
          "title": "应该验证状态因子权重分配（注意力60%，动机40%）",
          "duration": 0.23392200000000685,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901556,
      "endTime": 1765615901613.234,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/models/flow-detector.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ACTRMemoryModel", "initialization"],
          "fullName": "ACTRMemoryModel initialization should initialize with default decay rate (0.5)",
          "status": "passed",
          "title": "should initialize with default decay rate (0.5)",
          "duration": 9.383809000000042,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "initialization"],
          "fullName": "ACTRMemoryModel initialization should initialize with default threshold",
          "status": "passed",
          "title": "should initialize with default threshold",
          "duration": 0.6934049999999843,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "initialization"],
          "fullName": "ACTRMemoryModel initialization should initialize with default noise scale",
          "status": "passed",
          "title": "should initialize with default noise scale",
          "duration": 0.2952070000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "initialization"],
          "fullName": "ACTRMemoryModel initialization should initialize updateCount to 0",
          "status": "passed",
          "title": "should initialize updateCount to 0",
          "duration": 0.5745170000000144,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "initialization"],
          "fullName": "ACTRMemoryModel initialization should accept custom options",
          "status": "passed",
          "title": "should accept custom options",
          "duration": 0.4459520000000339,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "activation computation"],
          "fullName": "ACTRMemoryModel activation computation should compute activation as A = ln(Σt^-d)",
          "status": "passed",
          "title": "should compute activation as A = ln(Σt^-d)",
          "duration": 0.7594450000000279,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "activation computation"],
          "fullName": "ACTRMemoryModel activation computation should return higher activation for recent reviews",
          "status": "passed",
          "title": "should return higher activation for recent reviews",
          "duration": 0.39790400000003956,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "activation computation"],
          "fullName": "ACTRMemoryModel activation computation should accumulate activation from multiple reviews",
          "status": "passed",
          "title": "should accumulate activation from multiple reviews",
          "duration": 0.2716520000000173,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "activation computation"],
          "fullName": "ACTRMemoryModel activation computation should apply error penalty for incorrect reviews",
          "status": "passed",
          "title": "should apply error penalty for incorrect reviews",
          "duration": 0.36870299999998224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "activation computation"],
          "fullName": "ACTRMemoryModel activation computation should include noise in activation",
          "status": "passed",
          "title": "should include noise in activation",
          "duration": 0.3325160000000551,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "activation computation"],
          "fullName": "ACTRMemoryModel activation computation should handle empty trace (return -Infinity base activation)",
          "status": "passed",
          "title": "should handle empty trace (return -Infinity base activation)",
          "duration": 0.1589529999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "recall probability"],
          "fullName": "ACTRMemoryModel recall probability should compute recall probability using sigmoid",
          "status": "passed",
          "title": "should compute recall probability using sigmoid",
          "duration": 0.29450199999996585,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "recall probability"],
          "fullName": "ACTRMemoryModel recall probability should return higher probability for higher activation",
          "status": "passed",
          "title": "should return higher probability for higher activation",
          "duration": 0.16571399999997993,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "recall probability"],
          "fullName": "ACTRMemoryModel recall probability should return higher probability for more recent reviews",
          "status": "passed",
          "title": "should return higher probability for more recent reviews",
          "duration": 0.2399880000000394,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "recall probability"],
          "fullName": "ACTRMemoryModel recall probability should return probability close to 0 for very old reviews",
          "status": "passed",
          "title": "should return probability close to 0 for very old reviews",
          "duration": 0.27837299999998777,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "optimal interval prediction"],
          "fullName": "ACTRMemoryModel optimal interval prediction should find optimal interval via binary search",
          "status": "passed",
          "title": "should find optimal interval via binary search",
          "duration": 0.8147749999999405,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "optimal interval prediction"],
          "fullName": "ACTRMemoryModel optimal interval prediction should return longer interval for stronger memories",
          "status": "passed",
          "title": "should return longer interval for stronger memories",
          "duration": 13.475255999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "optimal interval prediction"],
          "fullName": "ACTRMemoryModel optimal interval prediction should return different intervals for different target probabilities",
          "status": "passed",
          "title": "should return different intervals for different target probabilities",
          "duration": 0.8435529999999289,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "optimal interval prediction"],
          "fullName": "ACTRMemoryModel optimal interval prediction should include min and max interval suggestions",
          "status": "passed",
          "title": "should include min and max interval suggestions",
          "duration": 0.31329600000003666,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "optimal interval prediction"],
          "fullName": "ACTRMemoryModel optimal interval prediction should cap interval at max search seconds",
          "status": "passed",
          "title": "should cap interval at max search seconds",
          "duration": 0.33432600000003276,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "selectAction"],
          "fullName": "ACTRMemoryModel selectAction should return ActionSelection based on recall probability",
          "status": "passed",
          "title": "should return ActionSelection based on recall probability",
          "duration": 0.6867890000000898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "selectAction"],
          "fullName": "ACTRMemoryModel selectAction should select easier action when recall probability is low",
          "status": "passed",
          "title": "should select easier action when recall probability is low",
          "duration": 0.19905900000003385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "selectAction"],
          "fullName": "ACTRMemoryModel selectAction should select harder action when recall probability is high",
          "status": "passed",
          "title": "should select harder action when recall probability is high",
          "duration": 0.18127800000002026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "selectAction"],
          "fullName": "ACTRMemoryModel selectAction should throw error for empty actions",
          "status": "passed",
          "title": "should throw error for empty actions",
          "duration": 1.2025830000000042,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "selectAction"],
          "fullName": "ACTRMemoryModel selectAction should handle empty trace context",
          "status": "passed",
          "title": "should handle empty trace context",
          "duration": 0.28028100000005907,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "update"],
          "fullName": "ACTRMemoryModel update should increment updateCount",
          "status": "passed",
          "title": "should increment updateCount",
          "duration": 0.20832400000006146,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "update"],
          "fullName": "ACTRMemoryModel update should not modify internal state significantly (stateless model)",
          "status": "passed",
          "title": "should not modify internal state significantly (stateless model)",
          "duration": 2.9567710000000034,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "state persistence"],
          "fullName": "ACTRMemoryModel state persistence should get/set state roundtrip",
          "status": "passed",
          "title": "should get/set state roundtrip",
          "duration": 1.456056999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "reset"],
          "fullName": "ACTRMemoryModel reset should reset updateCount",
          "status": "passed",
          "title": "should reset updateCount",
          "duration": 1.9761549999999488,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "BaseLearner interface"],
          "fullName": "ACTRMemoryModel BaseLearner interface should return correct name",
          "status": "passed",
          "title": "should return correct name",
          "duration": 0.5247049999999263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "BaseLearner interface"],
          "fullName": "ACTRMemoryModel BaseLearner interface should return correct version",
          "status": "passed",
          "title": "should return correct version",
          "duration": 0.15528599999993276,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "BaseLearner interface"],
          "fullName": "ACTRMemoryModel BaseLearner interface should return capabilities",
          "status": "passed",
          "title": "should return capabilities",
          "duration": 0.43622400000003836,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "edge cases"],
          "fullName": "ACTRMemoryModel edge cases should handle very small time values",
          "status": "passed",
          "title": "should handle very small time values",
          "duration": 0.26658199999997123,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "edge cases"],
          "fullName": "ACTRMemoryModel edge cases should handle very large time values",
          "status": "passed",
          "title": "should handle very large time values",
          "duration": 0.4158990000000813,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "edge cases"],
          "fullName": "ACTRMemoryModel edge cases should handle mixed correct/incorrect traces",
          "status": "passed",
          "title": "should handle mixed correct/incorrect traces",
          "duration": 0.23897499999998217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "edge cases"],
          "fullName": "ACTRMemoryModel edge cases should handle trace without isCorrect field",
          "status": "passed",
          "title": "should handle trace without isCorrect field",
          "duration": 0.18584799999996449,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "edge cases"],
          "fullName": "ACTRMemoryModel edge cases should handle single review trace",
          "status": "passed",
          "title": "should handle single review trace",
          "duration": 0.25507200000004104,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "noise handling"],
          "fullName": "ACTRMemoryModel noise handling should use custom noise sampler when provided",
          "status": "passed",
          "title": "should use custom noise sampler when provided",
          "duration": 0.32787899999993897,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "noise handling"],
          "fullName": "ACTRMemoryModel noise handling should bound noise within reasonable range",
          "status": "passed",
          "title": "should bound noise within reasonable range",
          "duration": 3.3878240000000233,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "retrievalProbability API"],
          "fullName": "ACTRMemoryModel retrievalProbability API should return RecallPrediction with all fields",
          "status": "passed",
          "title": "should return RecallPrediction with all fields",
          "duration": 0.9318769999999859,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ACTRMemoryModel", "retrievalProbability API"],
          "fullName": "ACTRMemoryModel retrievalProbability API should return confidence based on trace length",
          "status": "passed",
          "title": "should return confidence based on trace length",
          "duration": 1.619038000000046,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911075,
      "endTime": 1765615911125.6191,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/actr-memory.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AttentionMonitor", "initialization"],
          "fullName": "AttentionMonitor initialization should initialize with default attention value of 0.7",
          "status": "passed",
          "title": "should initialize with default attention value of 0.7",
          "duration": 2.0943540000000667,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "initialization"],
          "fullName": "AttentionMonitor initialization should accept custom initial attention value",
          "status": "passed",
          "title": "should accept custom initial attention value",
          "duration": 0.570118999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "initialization"],
          "fullName": "AttentionMonitor initialization should accept custom weights",
          "status": "passed",
          "title": "should accept custom weights",
          "duration": 2.745190999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "initialization"],
          "fullName": "AttentionMonitor initialization should accept out-of-range initial attention (not clamped in constructor)",
          "status": "passed",
          "title": "should accept out-of-range initial attention (not clamped in constructor)",
          "duration": 3.74843199999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "update"],
          "fullName": "AttentionMonitor update should decrease attention with high distraction features",
          "status": "passed",
          "title": "should decrease attention with high distraction features",
          "duration": 0.5901740000000473,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "update"],
          "fullName": "AttentionMonitor update should maintain high attention with good focus features",
          "status": "passed",
          "title": "should maintain high attention with good focus features",
          "duration": 0.31981600000005983,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "update"],
          "fullName": "AttentionMonitor update should apply EMA smoothing across updates",
          "status": "passed",
          "title": "should apply EMA smoothing across updates",
          "duration": 0.3728679999999258,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "update"],
          "fullName": "AttentionMonitor update should keep attention in [0,1] range",
          "status": "passed",
          "title": "should keep attention in [0,1] range",
          "duration": 0.5307129999999916,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "updateFromArray"],
          "fullName": "AttentionMonitor updateFromArray should update from Float32Array features",
          "status": "passed",
          "title": "should update from Float32Array features",
          "duration": 0.5850480000000289,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "updateFromArray"],
          "fullName": "AttentionMonitor updateFromArray should throw error for array with fewer than 8 elements",
          "status": "passed",
          "title": "should throw error for array with fewer than 8 elements",
          "duration": 1.3449379999999564,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "state management"],
          "fullName": "AttentionMonitor state management should reset to default value",
          "status": "passed",
          "title": "should reset to default value",
          "duration": 2.2489269999999806,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "state management"],
          "fullName": "AttentionMonitor state management should reset to custom value",
          "status": "passed",
          "title": "should reset to custom value",
          "duration": 5.091163000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "state management"],
          "fullName": "AttentionMonitor state management should clamp reset value to [0,1]",
          "status": "passed",
          "title": "should clamp reset value to [0,1]",
          "duration": 0.24319000000002688,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "state management"],
          "fullName": "AttentionMonitor state management should persist and restore state correctly",
          "status": "passed",
          "title": "should persist and restore state correctly",
          "duration": 0.8441990000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "configuration"],
          "fullName": "AttentionMonitor configuration should set beta (EMA smoothing coefficient)",
          "status": "passed",
          "title": "should set beta (EMA smoothing coefficient)",
          "duration": 0.220929999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "configuration"],
          "fullName": "AttentionMonitor configuration should clamp beta to [0,1]",
          "status": "passed",
          "title": "should clamp beta to [0,1]",
          "duration": 0.20541400000001886,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "configuration"],
          "fullName": "AttentionMonitor configuration should set custom weights",
          "status": "passed",
          "title": "should set custom weights",
          "duration": 0.2345990000000029,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "configuration"],
          "fullName": "AttentionMonitor configuration should throw error for weights array with wrong length",
          "status": "passed",
          "title": "should throw error for weights array with wrong length",
          "duration": 0.3393220000000383,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AttentionMonitor", "aliases"],
          "fullName": "AttentionMonitor aliases getAttention should be alias for get",
          "status": "passed",
          "title": "getAttention should be alias for get",
          "duration": 0.2495890000000145,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912377,
      "endTime": 1765615912401.2495,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/attention-monitor.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["CognitiveProfiler", "initialization"],
          "fullName": "CognitiveProfiler initialization should initialize with default profile values of 0.5",
          "status": "passed",
          "title": "should initialize with default profile values of 0.5",
          "duration": 7.676346999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "initialization"],
          "fullName": "CognitiveProfiler initialization should accept custom initial profile",
          "status": "passed",
          "title": "should accept custom initial profile",
          "duration": 0.7099640000000136,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "initialization"],
          "fullName": "CognitiveProfiler initialization should start with sample count of 0",
          "status": "passed",
          "title": "should start with sample count of 0",
          "duration": 0.3188590000000886,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "initialization"],
          "fullName": "CognitiveProfiler initialization should start with lambda of 0",
          "status": "passed",
          "title": "should start with lambda of 0",
          "duration": 0.32485800000006293,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should update memory dimension based on accuracy",
          "status": "passed",
          "title": "should update memory dimension based on accuracy",
          "duration": 0.5957040000000688,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should update speed dimension based on response time",
          "status": "passed",
          "title": "should update speed dimension based on response time",
          "duration": 0.4991660000000593,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should update stability dimension based on error variance",
          "status": "passed",
          "title": "should update stability dimension based on error variance",
          "duration": 0.27409499999998843,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should increment sample count on each update",
          "status": "passed",
          "title": "should increment sample count on each update",
          "duration": 0.4728629999999612,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should increase lambda as sample count grows",
          "status": "passed",
          "title": "should increase lambda as sample count grows",
          "duration": 0.5498119999999744,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should apply EMA smoothing to long-term profile",
          "status": "passed",
          "title": "should apply EMA smoothing to long-term profile",
          "duration": 0.41154600000004393,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "update"],
          "fullName": "CognitiveProfiler update should keep all dimensions in [0,1] range",
          "status": "passed",
          "title": "should keep all dimensions in [0,1] range",
          "duration": 0.46693300000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "updateFromEvent"],
          "fullName": "CognitiveProfiler updateFromEvent should update from single event with correct answer",
          "status": "passed",
          "title": "should update from single event with correct answer",
          "duration": 0.8010819999999512,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "updateFromEvent"],
          "fullName": "CognitiveProfiler updateFromEvent should update from single event with incorrect answer",
          "status": "passed",
          "title": "should update from single event with incorrect answer",
          "duration": 0.49222499999996217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "updateFromEvent"],
          "fullName": "CognitiveProfiler updateFromEvent should factor in recent error rate for stability",
          "status": "passed",
          "title": "should factor in recent error rate for stability",
          "duration": 1.9174189999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "long-term / short-term fusion"],
          "fullName": "CognitiveProfiler long-term / short-term fusion should weight short-term more when sample count is low",
          "status": "passed",
          "title": "should weight short-term more when sample count is low",
          "duration": 0.4273030000000517,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "long-term / short-term fusion"],
          "fullName": "CognitiveProfiler long-term / short-term fusion should weight long-term more as sample count grows",
          "status": "passed",
          "title": "should weight long-term more as sample count grows",
          "duration": 1.2498430000000553,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "long-term / short-term fusion"],
          "fullName": "CognitiveProfiler long-term / short-term fusion lambda should approach 1 asymptotically",
          "status": "passed",
          "title": "lambda should approach 1 asymptotically",
          "duration": 2.77851899999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "state management"],
          "fullName": "CognitiveProfiler state management should reset to default values",
          "status": "passed",
          "title": "should reset to default values",
          "duration": 0.3023759999999811,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "state management"],
          "fullName": "CognitiveProfiler state management should reset to custom profile",
          "status": "passed",
          "title": "should reset to custom profile",
          "duration": 0.1642819999999574,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "state management"],
          "fullName": "CognitiveProfiler state management should persist and restore state correctly",
          "status": "passed",
          "title": "should persist and restore state correctly",
          "duration": 1.2207479999999578,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "state management"],
          "fullName": "CognitiveProfiler state management should clamp restored state values",
          "status": "passed",
          "title": "should clamp restored state values",
          "duration": 0.4792180000000599,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "configuration"],
          "fullName": "CognitiveProfiler configuration should allow setting normalization parameters",
          "status": "passed",
          "title": "should allow setting normalization parameters",
          "duration": 3.5127069999999776,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CognitiveProfiler", "aliases"],
          "fullName": "CognitiveProfiler aliases getProfile should be alias for get",
          "status": "passed",
          "title": "getProfile should be alias for get",
          "duration": 0.4649289999999837,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912912,
      "endTime": 1765615912940.4648,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/cognitive-profiler.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["FatigueEstimator", "initialization"],
          "fullName": "FatigueEstimator initialization should initialize with default fatigue value of 0.1",
          "status": "passed",
          "title": "should initialize with default fatigue value of 0.1",
          "duration": 10.477745000000027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "initialization"],
          "fullName": "FatigueEstimator initialization should accept custom initial fatigue value",
          "status": "passed",
          "title": "should accept custom initial fatigue value",
          "duration": 1.2542170000000397,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "initialization"],
          "fullName": "FatigueEstimator initialization should clamp initial fatigue to [0.05, 1.0] range",
          "status": "passed",
          "title": "should clamp initial fatigue to [0.05, 1.0] range",
          "duration": 0.8430620000000317,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should increase fatigue with high error rate trend",
          "status": "passed",
          "title": "should increase fatigue with high error rate trend",
          "duration": 0.9492309999999407,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should increase fatigue with response time increase",
          "status": "passed",
          "title": "should increase fatigue with response time increase",
          "duration": 1.111220000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should increase fatigue with repeat errors",
          "status": "passed",
          "title": "should increase fatigue with repeat errors",
          "duration": 3.2446780000000217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should decay fatigue with break time",
          "status": "passed",
          "title": "should decay fatigue with break time",
          "duration": 0.8680070000000342,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should reset fatigue to 0.1 after long break",
          "status": "passed",
          "title": "should reset fatigue to 0.1 after long break",
          "duration": 0.7699400000000196,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should apply capacity-based discount at high fatigue",
          "status": "passed",
          "title": "should apply capacity-based discount at high fatigue",
          "duration": 1.0982280000000628,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "update"],
          "fullName": "FatigueEstimator update should keep fatigue in [0.05, 1.0] range",
          "status": "passed",
          "title": "should keep fatigue in [0.05, 1.0] range",
          "duration": 1.5064939999999751,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "updateFromEvent"],
          "fullName": "FatigueEstimator updateFromEvent should increase fatigue on incorrect answer",
          "status": "passed",
          "title": "should increase fatigue on incorrect answer",
          "duration": 0.8162340000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "updateFromEvent"],
          "fullName": "FatigueEstimator updateFromEvent should increase fatigue on slow response",
          "status": "passed",
          "title": "should increase fatigue on slow response",
          "duration": 1.4247800000000552,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "updateFromEvent"],
          "fullName": "FatigueEstimator updateFromEvent should increase fatigue more on repeat error",
          "status": "passed",
          "title": "should increase fatigue more on repeat error",
          "duration": 7.5752370000000155,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "updateFromEvent"],
          "fullName": "FatigueEstimator updateFromEvent should cap response time increase rate at 1.0",
          "status": "passed",
          "title": "should cap response time increase rate at 1.0",
          "duration": 1.174496999999974,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "break detection"],
          "fullName": "FatigueEstimator break detection should indicate need for break when fatigue > 0.6",
          "status": "passed",
          "title": "should indicate need for break when fatigue > 0.6",
          "duration": 1.0531969999999546,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "break detection"],
          "fullName": "FatigueEstimator break detection should indicate need for forced break when fatigue > 0.8",
          "status": "passed",
          "title": "should indicate need for forced break when fatigue > 0.8",
          "duration": 0.641448999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "recovery prediction"],
          "fullName": "FatigueEstimator recovery prediction should predict lower fatigue after break",
          "status": "passed",
          "title": "should predict lower fatigue after break",
          "duration": 0.5171380000000454,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "recovery prediction"],
          "fullName": "FatigueEstimator recovery prediction should compute required break time for target fatigue",
          "status": "passed",
          "title": "should compute required break time for target fatigue",
          "duration": 0.6445109999999659,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "state management"],
          "fullName": "FatigueEstimator state management should reset to default value",
          "status": "passed",
          "title": "should reset to default value",
          "duration": 1.0626039999999648,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "state management"],
          "fullName": "FatigueEstimator state management should reset to custom value",
          "status": "passed",
          "title": "should reset to custom value",
          "duration": 0.7693450000000439,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "state management"],
          "fullName": "FatigueEstimator state management should persist and restore state correctly",
          "status": "passed",
          "title": "should persist and restore state correctly",
          "duration": 2.79553999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "parameter configuration"],
          "fullName": "FatigueEstimator parameter configuration should allow setting custom parameters",
          "status": "passed",
          "title": "should allow setting custom parameters",
          "duration": 5.602516000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "parameter configuration"],
          "fullName": "FatigueEstimator parameter configuration should allow partial parameter updates",
          "status": "passed",
          "title": "should allow partial parameter updates",
          "duration": 0.7050800000000663,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueEstimator", "session management"],
          "fullName": "FatigueEstimator session management should mark session end for recovery model",
          "status": "passed",
          "title": "should mark session end for recovery model",
          "duration": 1.4391769999999724,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913351,
      "endTime": 1765615913405.4392,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/fatigue-estimator.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should return 1 for just-reviewed word",
          "status": "passed",
          "title": "should return 1 for just-reviewed word",
          "duration": 8.241741999999931,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should decay over time",
          "status": "passed",
          "title": "should decay over time",
          "duration": 1.2352670000000217,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should decay slower with more reviews",
          "status": "passed",
          "title": "should decay slower with more reviews",
          "duration": 0.6687660000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should decay slower with higher accuracy",
          "status": "passed",
          "title": "should decay slower with higher accuracy",
          "duration": 1.1027039999999033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should factor in memory strength if provided",
          "status": "passed",
          "title": "should factor in memory strength if provided",
          "duration": 0.6583910000000515,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should handle string date format",
          "status": "passed",
          "title": "should handle string date format",
          "duration": 1.2029669999999442,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should clamp accuracy to [0.1, 1] range",
          "status": "passed",
          "title": "should clamp accuracy to [0.1, 1] range",
          "duration": 2.0065329999999904,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should return value in [0, 1] range",
          "status": "passed",
          "title": "should return value in [0, 1] range",
          "duration": 1.393466999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should enforce minimum half-life",
          "status": "passed",
          "title": "should enforce minimum half-life",
          "duration": 0.9529620000000705,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "calculateForgettingFactor"],
          "fullName": "ForgettingCurve calculateForgettingFactor should handle future lastReviewTime gracefully",
          "status": "passed",
          "title": "should handle future lastReviewTime gracefully",
          "duration": 1.2126399999999649,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "batchCalculateForgettingFactors"],
          "fullName": "ForgettingCurve batchCalculateForgettingFactors should calculate factors for multiple traces",
          "status": "passed",
          "title": "should calculate factors for multiple traces",
          "duration": 1.4756680000000415,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "batchCalculateForgettingFactors"],
          "fullName": "ForgettingCurve batchCalculateForgettingFactors should return empty map for empty input",
          "status": "passed",
          "title": "should return empty map for empty input",
          "duration": 0.3928449999999657,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "batchCalculateForgettingFactors"],
          "fullName": "ForgettingCurve batchCalculateForgettingFactors should handle single trace",
          "status": "passed",
          "title": "should handle single trace",
          "duration": 0.40769399999999223,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "batchCalculateForgettingFactors"],
          "fullName": "ForgettingCurve batchCalculateForgettingFactors should handle duplicate wordIds (last one wins)",
          "status": "passed",
          "title": "should handle duplicate wordIds (last one wins)",
          "duration": 0.4170530000000099,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "batchCalculateForgettingFactors"],
          "fullName": "ForgettingCurve batchCalculateForgettingFactors should maintain consistent ordering in map",
          "status": "passed",
          "title": "should maintain consistent ordering in map",
          "duration": 5.7168309999999565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "mathematical properties"],
          "fullName": "ForgettingCurve mathematical properties should follow exponential decay pattern",
          "status": "passed",
          "title": "should follow exponential decay pattern",
          "duration": 2.6524220000000014,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ForgettingCurve", "mathematical properties"],
          "fullName": "ForgettingCurve mathematical properties should have half-life proportional to review count",
          "status": "passed",
          "title": "should have half-life proportional to review count",
          "duration": 0.990511999999967,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912123,
      "endTime": 1765615912154.9905,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/forgetting-curve.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MotivationTracker", "initialization"],
          "fullName": "MotivationTracker initialization should initialize with default motivation value of 0",
          "status": "passed",
          "title": "should initialize with default motivation value of 0",
          "duration": 2.2091570000000047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "initialization"],
          "fullName": "MotivationTracker initialization should accept custom initial motivation value",
          "status": "passed",
          "title": "should accept custom initial motivation value",
          "duration": 7.049119000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "initialization"],
          "fullName": "MotivationTracker initialization should clamp initial motivation to [-1, 1] range",
          "status": "passed",
          "title": "should clamp initial motivation to [-1, 1] range",
          "duration": 0.47931999999991604,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "initialization"],
          "fullName": "MotivationTracker initialization should start with low motivation count of 0",
          "status": "passed",
          "title": "should start with low motivation count of 0",
          "duration": 0.7772870000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should increase motivation on success",
          "status": "passed",
          "title": "should increase motivation on success",
          "duration": 0.6000599999999849,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should decrease motivation on failure",
          "status": "passed",
          "title": "should decrease motivation on failure",
          "duration": 0.3211469999999963,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should decrease motivation more on quit",
          "status": "passed",
          "title": "should decrease motivation more on quit",
          "duration": 0.2070810000000165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should apply decay factor (rho) on each update",
          "status": "passed",
          "title": "should apply decay factor (rho) on each update",
          "duration": 0.17805700000008073,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should handle mixed events correctly",
          "status": "passed",
          "title": "should handle mixed events correctly",
          "duration": 0.23075199999993856,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should keep motivation in [-1, 1] range",
          "status": "passed",
          "title": "should keep motivation in [-1, 1] range",
          "duration": 0.7064770000000635,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should track low motivation count when M < 0",
          "status": "passed",
          "title": "should track low motivation count when M < 0",
          "duration": 0.8300879999999324,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "update"],
          "fullName": "MotivationTracker update should reset low motivation count when M >= 0",
          "status": "passed",
          "title": "should reset low motivation count when M >= 0",
          "duration": 1.510118000000034,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "updateFromEvent"],
          "fullName": "MotivationTracker updateFromEvent should increase motivation on correct answer",
          "status": "passed",
          "title": "should increase motivation on correct answer",
          "duration": 0.5634390000000167,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "updateFromEvent"],
          "fullName": "MotivationTracker updateFromEvent should decrease motivation on incorrect answer",
          "status": "passed",
          "title": "should decrease motivation on incorrect answer",
          "duration": 0.4307219999999461,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "updateFromEvent"],
          "fullName": "MotivationTracker updateFromEvent should decrease motivation more on quit",
          "status": "passed",
          "title": "should decrease motivation more on quit",
          "duration": 0.22748699999999644,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "updateFromEvent"],
          "fullName": "MotivationTracker updateFromEvent should factor in retry count for failures",
          "status": "passed",
          "title": "should factor in retry count for failures",
          "duration": 2.9763960000000225,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "updateFromEvent"],
          "fullName": "MotivationTracker updateFromEvent should cap retry count effect at 2",
          "status": "passed",
          "title": "should cap retry count effect at 2",
          "duration": 0.34600000000000364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state detection"],
          "fullName": "MotivationTracker state detection should detect frustrated state when M < -0.3",
          "status": "passed",
          "title": "should detect frustrated state when M < -0.3",
          "duration": 0.31934100000000853,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state detection"],
          "fullName": "MotivationTracker state detection should detect highly motivated state when M > 0.5",
          "status": "passed",
          "title": "should detect highly motivated state when M > 0.5",
          "duration": 0.23455199999989418,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state detection"],
          "fullName": "MotivationTracker state detection should detect long-term low motivation after 10+ negative updates",
          "status": "passed",
          "title": "should detect long-term low motivation after 10+ negative updates",
          "duration": 0.31979599999999664,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state management"],
          "fullName": "MotivationTracker state management should reset to default value",
          "status": "passed",
          "title": "should reset to default value",
          "duration": 0.33946899999989455,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state management"],
          "fullName": "MotivationTracker state management should reset to custom value",
          "status": "passed",
          "title": "should reset to custom value",
          "duration": 0.1614720000000034,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state management"],
          "fullName": "MotivationTracker state management should clamp reset value",
          "status": "passed",
          "title": "should clamp reset value",
          "duration": 0.17740200000002915,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state management"],
          "fullName": "MotivationTracker state management should persist and restore state correctly",
          "status": "passed",
          "title": "should persist and restore state correctly",
          "duration": 0.6241690000000517,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "state management"],
          "fullName": "MotivationTracker state management should clamp restored state values",
          "status": "passed",
          "title": "should clamp restored state values",
          "duration": 0.22009800000000723,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "parameter configuration"],
          "fullName": "MotivationTracker parameter configuration should allow setting custom parameters",
          "status": "passed",
          "title": "should allow setting custom parameters",
          "duration": 0.2525479999999334,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "parameter configuration"],
          "fullName": "MotivationTracker parameter configuration should allow partial parameter updates",
          "status": "passed",
          "title": "should allow partial parameter updates",
          "duration": 0.19365700000003017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MotivationTracker", "aliases"],
          "fullName": "MotivationTracker aliases getMotivation should be alias for get",
          "status": "passed",
          "title": "getMotivation should be alias for get",
          "duration": 3.598218999999972,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615913551,
      "endTime": 1765615913579.5981,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/motivation-tracker.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["TrendAnalyzer", "initialization"],
          "fullName": "TrendAnalyzer initialization should initialize with flat trend state",
          "status": "passed",
          "title": "should initialize with flat trend state",
          "duration": 2.3867219999999634,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "initialization"],
          "fullName": "TrendAnalyzer initialization should initialize with zero slope",
          "status": "passed",
          "title": "should initialize with zero slope",
          "duration": 0.5888579999999592,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "initialization"],
          "fullName": "TrendAnalyzer initialization should initialize with zero confidence",
          "status": "passed",
          "title": "should initialize with zero confidence",
          "duration": 0.38891899999998714,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "initialization"],
          "fullName": "TrendAnalyzer initialization should accept custom window and sample parameters",
          "status": "passed",
          "title": "should accept custom window and sample parameters",
          "duration": 8.108980000000088,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should return flat with insufficient samples",
          "status": "passed",
          "title": "should return flat with insufficient samples",
          "duration": 0.6518630000000485,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should detect upward trend with improving ability",
          "status": "passed",
          "title": "should detect upward trend with improving ability",
          "duration": 5.46902799999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should detect downward trend with declining ability",
          "status": "passed",
          "title": "should detect downward trend with declining ability",
          "duration": 1.094122000000084,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should detect flat trend with stable ability and low variance",
          "status": "passed",
          "title": "should detect flat trend with stable ability and low variance",
          "duration": 13.92019300000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should detect stuck trend with no clear direction",
          "status": "passed",
          "title": "should detect stuck trend with no clear direction",
          "duration": 1.2684479999999212,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should handle out-of-order timestamps by sorting",
          "status": "passed",
          "title": "should handle out-of-order timestamps by sorting",
          "duration": 0.7726880000000165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should clamp ability values to [0, 1]",
          "status": "passed",
          "title": "should clamp ability values to [0, 1]",
          "duration": 0.27643699999998717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "update"],
          "fullName": "TrendAnalyzer update should ignore invalid inputs",
          "status": "passed",
          "title": "should ignore invalid inputs",
          "duration": 1.3124840000000404,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "rolling window"],
          "fullName": "TrendAnalyzer rolling window should remove samples outside 30-day window",
          "status": "passed",
          "title": "should remove samples outside 30-day window",
          "duration": 4.169544999999971,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "cold start behavior"],
          "fullName": "TrendAnalyzer cold start behavior should use EMA when sample count is below minimum",
          "status": "passed",
          "title": "should use EMA when sample count is below minimum",
          "duration": 1.4038989999999103,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "cold start behavior"],
          "fullName": "TrendAnalyzer cold start behavior should use EMA when time span is insufficient",
          "status": "passed",
          "title": "should use EMA when time span is insufficient",
          "duration": 0.9846949999999879,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "cold start behavior"],
          "fullName": "TrendAnalyzer cold start behavior should have lower confidence with EMA method",
          "status": "passed",
          "title": "should have lower confidence with EMA method",
          "duration": 1.123474999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "confidence calculation"],
          "fullName": "TrendAnalyzer confidence calculation should increase confidence with more samples",
          "status": "passed",
          "title": "should increase confidence with more samples",
          "duration": 0.6422119999999722,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "confidence calculation"],
          "fullName": "TrendAnalyzer confidence calculation should factor in volatility when computing confidence",
          "status": "passed",
          "title": "should factor in volatility when computing confidence",
          "duration": 5.764835000000062,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "confidence calculation"],
          "fullName": "TrendAnalyzer confidence calculation should reduce confidence for very weak trends",
          "status": "passed",
          "title": "should reduce confidence for very weak trends",
          "duration": 0.5644680000000335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "confidence calculation"],
          "fullName": "TrendAnalyzer confidence calculation should keep confidence in [0, 1] range",
          "status": "passed",
          "title": "should keep confidence in [0, 1] range",
          "duration": 2.274242000000072,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "trend classification thresholds"],
          "fullName": "TrendAnalyzer trend classification thresholds should classify as up when slope > 0.01/day",
          "status": "passed",
          "title": "should classify as up when slope > 0.01/day",
          "duration": 0.4975579999999127,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "trend classification thresholds"],
          "fullName": "TrendAnalyzer trend classification thresholds should classify as down when slope < -0.005/day",
          "status": "passed",
          "title": "should classify as down when slope < -0.005/day",
          "duration": 0.4912649999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "trend classification thresholds"],
          "fullName": "TrendAnalyzer trend classification thresholds should classify as flat when slope near zero and low volatility",
          "status": "passed",
          "title": "should classify as flat when slope near zero and low volatility",
          "duration": 0.5618150000000242,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "edge cases"],
          "fullName": "TrendAnalyzer edge cases should handle single sample",
          "status": "passed",
          "title": "should handle single sample",
          "duration": 0.3757140000000163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "edge cases"],
          "fullName": "TrendAnalyzer edge cases should handle two samples",
          "status": "passed",
          "title": "should handle two samples",
          "duration": 0.22605399999997644,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "edge cases"],
          "fullName": "TrendAnalyzer edge cases should handle all same timestamps",
          "status": "passed",
          "title": "should handle all same timestamps",
          "duration": 0.29446100000006936,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["TrendAnalyzer", "edge cases"],
          "fullName": "TrendAnalyzer edge cases should handle all same ability values",
          "status": "passed",
          "title": "should handle all same ability values",
          "duration": 0.4749469999999292,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615912632,
      "endTime": 1765615912691.4749,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/modeling/trend-analyzer.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["AlertEngine", "initialization"],
          "fullName": "AlertEngine initialization should initialize with default rules",
          "status": "passed",
          "title": "should initialize with default rules",
          "duration": 7.103752999999983,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "initialization"],
          "fullName": "AlertEngine initialization should initialize with custom rules",
          "status": "passed",
          "title": "should initialize with custom rules",
          "duration": 1.273561000000086,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "initialization"],
          "fullName": "AlertEngine initialization should filter out disabled rules",
          "status": "passed",
          "title": "should filter out disabled rules",
          "duration": 1.0288459999999304,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "evaluateMetric"],
          "fullName": "AlertEngine evaluateMetric should not trigger alert when below threshold",
          "status": "passed",
          "title": "should not trigger alert when below threshold",
          "duration": 1.0840359999999691,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "evaluateMetric"],
          "fullName": "AlertEngine evaluateMetric should trigger alert when above threshold and duration met",
          "status": "passed",
          "title": "should trigger alert when above threshold and duration met",
          "duration": 4.74239,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "evaluateMetric"],
          "fullName": "AlertEngine evaluateMetric should require duration before firing alert",
          "status": "passed",
          "title": "should require duration before firing alert",
          "duration": 3.625870999999961,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "evaluateMetric"],
          "fullName": "AlertEngine evaluateMetric should respect cooldown period",
          "status": "passed",
          "title": "should respect cooldown period",
          "duration": 10.320666000000074,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "evaluateMetric"],
          "fullName": "AlertEngine evaluateMetric should reset duration when metric drops below threshold",
          "status": "passed",
          "title": "should reset duration when metric drops below threshold",
          "duration": 0.6945459999999457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "threshold operators"],
          "fullName": "AlertEngine threshold operators should handle > operator",
          "status": "passed",
          "title": "should handle > operator",
          "duration": 7.256699000000026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "threshold operators"],
          "fullName": "AlertEngine threshold operators should handle < operator",
          "status": "passed",
          "title": "should handle < operator",
          "duration": 2.1299530000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "threshold operators"],
          "fullName": "AlertEngine threshold operators should handle >= operator",
          "status": "passed",
          "title": "should handle >= operator",
          "duration": 1.366673999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "threshold operators"],
          "fullName": "AlertEngine threshold operators should handle <= operator",
          "status": "passed",
          "title": "should handle <= operator",
          "duration": 1.270648000000051,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "threshold operators"],
          "fullName": "AlertEngine threshold operators should handle == operator",
          "status": "passed",
          "title": "should handle == operator",
          "duration": 5.849195000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "threshold operators"],
          "fullName": "AlertEngine threshold operators should handle != operator",
          "status": "passed",
          "title": "should handle != operator",
          "duration": 1.3577470000000176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "evaluateMetrics"],
          "fullName": "AlertEngine evaluateMetrics should evaluate multiple metrics",
          "status": "passed",
          "title": "should evaluate multiple metrics",
          "duration": 2.301917000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "alert properties"],
          "fullName": "AlertEngine alert properties should set correct alert properties",
          "status": "passed",
          "title": "should set correct alert properties",
          "duration": 6.472505999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "getActiveAlerts"],
          "fullName": "AlertEngine getActiveAlerts should return active alerts",
          "status": "passed",
          "title": "should return active alerts",
          "duration": 1.6222030000000132,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "getActiveAlerts"],
          "fullName": "AlertEngine getActiveAlerts should not include resolved alerts",
          "status": "passed",
          "title": "should not include resolved alerts",
          "duration": 4.179861999999957,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "getAlertHistory"],
          "fullName": "AlertEngine getAlertHistory should return alert history",
          "status": "passed",
          "title": "should return alert history",
          "duration": 7.0142139999999245,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "getAlertHistory"],
          "fullName": "AlertEngine getAlertHistory should respect limit parameter",
          "status": "passed",
          "title": "should respect limit parameter",
          "duration": 1.7427749999999378,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "getRuleState"],
          "fullName": "AlertEngine getRuleState should return rule state",
          "status": "passed",
          "title": "should return rule state",
          "duration": 0.7507600000000139,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "getRuleState"],
          "fullName": "AlertEngine getRuleState should return null for unknown rule",
          "status": "passed",
          "title": "should return null for unknown rule",
          "duration": 0.4236549999999397,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "manualResolveAlert"],
          "fullName": "AlertEngine manualResolveAlert should manually resolve alert",
          "status": "passed",
          "title": "should manually resolve alert",
          "duration": 1.5268290000000206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "manualResolveAlert"],
          "fullName": "AlertEngine manualResolveAlert should return false for unknown alert ID",
          "status": "passed",
          "title": "should return false for unknown alert ID",
          "duration": 1.6406049999999368,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "alert severity"],
          "fullName": "AlertEngine alert severity should handle P0 alerts",
          "status": "passed",
          "title": "should handle P0 alerts",
          "duration": 1.448961000000054,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "alert severity"],
          "fullName": "AlertEngine alert severity should correctly assign P0 severity",
          "status": "passed",
          "title": "should correctly assign P0 severity",
          "duration": 7.954368000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "alert severity"],
          "fullName": "AlertEngine alert severity should correctly assign P1 severity",
          "status": "passed",
          "title": "should correctly assign P1 severity",
          "duration": 1.1678299999999808,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "alert severity"],
          "fullName": "AlertEngine alert severity should correctly assign P2 severity",
          "status": "passed",
          "title": "should correctly assign P2 severity",
          "duration": 1.0222800000000234,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["AlertEngine", "alert severity"],
          "fullName": "AlertEngine alert severity should correctly assign P3 severity",
          "status": "passed",
          "title": "should correctly assign P3 severity",
          "duration": 0.8974220000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createDefaultAlertEngine"],
          "fullName": "createDefaultAlertEngine should create AlertEngine with default configuration",
          "status": "passed",
          "title": "should create AlertEngine with default configuration",
          "duration": 0.1952160000000731,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615907447,
      "endTime": 1765615907542.1953,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/monitoring/alert-engine.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MetricsCollector", "initialization"],
          "fullName": "MetricsCollector initialization should initialize with default config",
          "status": "passed",
          "title": "should initialize with default config",
          "duration": 3.8888660000000073,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "initialization"],
          "fullName": "MetricsCollector initialization should accept custom SLO config",
          "status": "passed",
          "title": "should accept custom SLO config",
          "duration": 0.98294199999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "start and stop"],
          "fullName": "MetricsCollector start and stop should start collecting metrics",
          "status": "passed",
          "title": "should start collecting metrics",
          "duration": 5.596864000000096,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "start and stop"],
          "fullName": "MetricsCollector start and stop should stop collecting metrics",
          "status": "passed",
          "title": "should stop collecting metrics",
          "duration": 1.0533859999999322,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "start and stop"],
          "fullName": "MetricsCollector start and stop should be idempotent when starting multiple times",
          "status": "passed",
          "title": "should be idempotent when starting multiple times",
          "duration": 0.5356550000000198,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordDecisionLatency"],
          "fullName": "MetricsCollector recordDecisionLatency should record single latency",
          "status": "passed",
          "title": "should record single latency",
          "duration": 0.7219740000000456,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordDecisionLatency"],
          "fullName": "MetricsCollector recordDecisionLatency should record multiple latencies",
          "status": "passed",
          "title": "should record multiple latencies",
          "duration": 0.6180120000000215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordDecisionLatency"],
          "fullName": "MetricsCollector recordDecisionLatency should maintain window size",
          "status": "passed",
          "title": "should maintain window size",
          "duration": 1.1760289999999713,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordError"],
          "fullName": "MetricsCollector recordError should record errors",
          "status": "passed",
          "title": "should record errors",
          "duration": 0.6315220000000181,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordSuccess"],
          "fullName": "MetricsCollector recordSuccess should record successes",
          "status": "passed",
          "title": "should record successes",
          "duration": 3.4215319999999565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordDegradation"],
          "fullName": "MetricsCollector recordDegradation should record degradation as success but track separately",
          "status": "passed",
          "title": "should record degradation as success but track separately",
          "duration": 1.27981299999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordTimeout"],
          "fullName": "MetricsCollector recordTimeout should record timeout as error",
          "status": "passed",
          "title": "should record timeout as error",
          "duration": 1.2939039999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordCircuitState"],
          "fullName": "MetricsCollector recordCircuitState should record circuit breaker state",
          "status": "passed",
          "title": "should record circuit breaker state",
          "duration": 2.386392999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "recordRewardResult"],
          "fullName": "MetricsCollector recordRewardResult should record reward processing results",
          "status": "passed",
          "title": "should record reward processing results",
          "duration": 1.1747350000000552,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "collectMetrics"],
          "fullName": "MetricsCollector collectMetrics should return empty array when no data",
          "status": "passed",
          "title": "should return empty array when no data",
          "duration": 6.158247000000074,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "collectMetrics"],
          "fullName": "MetricsCollector collectMetrics should return latency metrics",
          "status": "passed",
          "title": "should return latency metrics",
          "duration": 0.8780950000000303,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "collectMetrics"],
          "fullName": "MetricsCollector collectMetrics should include timestamp",
          "status": "passed",
          "title": "should include timestamp",
          "duration": 0.8203019999999697,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "getHealthStatus"],
          "fullName": "MetricsCollector getHealthStatus should return healthy status when all metrics are good",
          "status": "passed",
          "title": "should return healthy status when all metrics are good",
          "duration": 0.9971050000000332,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "getHealthStatus"],
          "fullName": "MetricsCollector getHealthStatus should return degraded status when metrics are borderline",
          "status": "passed",
          "title": "should return degraded status when metrics are borderline",
          "duration": 0.5482200000000148,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "getHealthStatus"],
          "fullName": "MetricsCollector getHealthStatus should return unhealthy status when metrics are bad",
          "status": "passed",
          "title": "should return unhealthy status when metrics are bad",
          "duration": 0.35516199999995024,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "getHealthStatus"],
          "fullName": "MetricsCollector getHealthStatus should include component health",
          "status": "passed",
          "title": "should include component health",
          "duration": 0.6249049999998988,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "getHealthStatus"],
          "fullName": "MetricsCollector getHealthStatus should include SLO status",
          "status": "passed",
          "title": "should include SLO status",
          "duration": 0.5052990000000364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "getHealthStatus"],
          "fullName": "MetricsCollector getHealthStatus should include check timestamp",
          "status": "passed",
          "title": "should include check timestamp",
          "duration": 0.4742109999999684,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "decision component health"],
          "fullName": "MetricsCollector decision component health should be healthy with good latency",
          "status": "passed",
          "title": "should be healthy with good latency",
          "duration": 0.39779199999998127,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "decision component health"],
          "fullName": "MetricsCollector decision component health should be degraded with elevated latency",
          "status": "passed",
          "title": "should be degraded with elevated latency",
          "duration": 0.5213919999999916,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "decision component health"],
          "fullName": "MetricsCollector decision component health should be unhealthy with high latency",
          "status": "passed",
          "title": "should be unhealthy with high latency",
          "duration": 13.863624000000073,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "decision component health"],
          "fullName": "MetricsCollector decision component health should be unhealthy with high error rate",
          "status": "passed",
          "title": "should be unhealthy with high error rate",
          "duration": 5.6828160000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "circuit component health"],
          "fullName": "MetricsCollector circuit component health should be healthy with low open rate",
          "status": "passed",
          "title": "should be healthy with low open rate",
          "duration": 0.5827960000000303,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "circuit component health"],
          "fullName": "MetricsCollector circuit component health should be degraded with moderate open rate",
          "status": "passed",
          "title": "should be degraded with moderate open rate",
          "duration": 0.39676700000006804,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "circuit component health"],
          "fullName": "MetricsCollector circuit component health should be unhealthy with high open rate",
          "status": "passed",
          "title": "should be unhealthy with high open rate",
          "duration": 0.4421859999999924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "reward component health"],
          "fullName": "MetricsCollector reward component health should be healthy with low failure rate",
          "status": "passed",
          "title": "should be healthy with low failure rate",
          "duration": 0.41711899999995694,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "reward component health"],
          "fullName": "MetricsCollector reward component health should be degraded with moderate failure rate",
          "status": "passed",
          "title": "should be degraded with moderate failure rate",
          "duration": 0.3937389999999823,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "reward component health"],
          "fullName": "MetricsCollector reward component health should be unhealthy with high failure rate",
          "status": "passed",
          "title": "should be unhealthy with high failure rate",
          "duration": 0.6962169999999333,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "reset"],
          "fullName": "MetricsCollector reset should reset all counters",
          "status": "passed",
          "title": "should reset all counters",
          "duration": 3.8323860000000423,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "statistics calculation"],
          "fullName": "MetricsCollector statistics calculation should calculate P50 correctly",
          "status": "passed",
          "title": "should calculate P50 correctly",
          "duration": 0.8293909999999869,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "statistics calculation"],
          "fullName": "MetricsCollector statistics calculation should calculate P95 correctly",
          "status": "passed",
          "title": "should calculate P95 correctly",
          "duration": 0.6013819999999441,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MetricsCollector", "statistics calculation"],
          "fullName": "MetricsCollector statistics calculation should calculate P99 correctly",
          "status": "passed",
          "title": "should calculate P99 correctly",
          "duration": 0.5870579999999563,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createDefaultMetricsCollector"],
          "fullName": "createDefaultMetricsCollector should create MetricsCollector instance",
          "status": "passed",
          "title": "should create MetricsCollector instance",
          "duration": 0.19911000000001877,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910384,
      "endTime": 1765615910452.1992,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/monitoring/metrics-collector.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MonitoringService", "initialization"],
          "fullName": "MonitoringService initialization should initialize with default config",
          "status": "passed",
          "title": "should initialize with default config",
          "duration": 10.769742000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "initialization"],
          "fullName": "MonitoringService initialization should accept custom config",
          "status": "passed",
          "title": "should accept custom config",
          "duration": 1.0438959999999042,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "initialization"],
          "fullName": "MonitoringService initialization should accept disabled config",
          "status": "passed",
          "title": "should accept disabled config",
          "duration": 1.272096999999917,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "start and stop"],
          "fullName": "MonitoringService start and stop should start monitoring",
          "status": "passed",
          "title": "should start monitoring",
          "duration": 1.3323570000000018,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "start and stop"],
          "fullName": "MonitoringService start and stop should stop monitoring",
          "status": "passed",
          "title": "should stop monitoring",
          "duration": 3.8942890000000716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "start and stop"],
          "fullName": "MonitoringService start and stop should be idempotent when starting multiple times",
          "status": "passed",
          "title": "should be idempotent when starting multiple times",
          "duration": 1.007378000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "start and stop"],
          "fullName": "MonitoringService start and stop should be idempotent when stopping without start",
          "status": "passed",
          "title": "should be idempotent when stopping without start",
          "duration": 1.2935260000000426,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordDecisionLatency"],
          "fullName": "MonitoringService recordDecisionLatency should record latency through to collector",
          "status": "passed",
          "title": "should record latency through to collector",
          "duration": 0.8764200000000528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordError"],
          "fullName": "MonitoringService recordError should record error through to collector",
          "status": "passed",
          "title": "should record error through to collector",
          "duration": 0.6905380000000605,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordSuccess"],
          "fullName": "MonitoringService recordSuccess should record success through to collector",
          "status": "passed",
          "title": "should record success through to collector",
          "duration": 0.40573699999993096,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordDegradation"],
          "fullName": "MonitoringService recordDegradation should record degradation through to collector",
          "status": "passed",
          "title": "should record degradation through to collector",
          "duration": 0.41657900000006975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordTimeout"],
          "fullName": "MonitoringService recordTimeout should record timeout through to collector",
          "status": "passed",
          "title": "should record timeout through to collector",
          "duration": 0.2676639999999679,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordCircuitState"],
          "fullName": "MonitoringService recordCircuitState should record circuit state through to collector",
          "status": "passed",
          "title": "should record circuit state through to collector",
          "duration": 2.040899999999965,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "recordRewardResult"],
          "fullName": "MonitoringService recordRewardResult should record reward result through to collector",
          "status": "passed",
          "title": "should record reward result through to collector",
          "duration": 1.7269039999999904,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getHealthStatus"],
          "fullName": "MonitoringService getHealthStatus should return health status",
          "status": "passed",
          "title": "should return health status",
          "duration": 1.8667649999999867,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getHealthStatus"],
          "fullName": "MonitoringService getHealthStatus should return healthy status with good metrics",
          "status": "passed",
          "title": "should return healthy status with good metrics",
          "duration": 0.7814409999999725,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getHealthStatus"],
          "fullName": "MonitoringService getHealthStatus should return unhealthy status with bad metrics",
          "status": "passed",
          "title": "should return unhealthy status with bad metrics",
          "duration": 0.5901190000000724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getActiveAlerts"],
          "fullName": "MonitoringService getActiveAlerts should return empty array initially",
          "status": "passed",
          "title": "should return empty array initially",
          "duration": 1.2307270000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getAlertHistory"],
          "fullName": "MonitoringService getAlertHistory should return alert history",
          "status": "passed",
          "title": "should return alert history",
          "duration": 0.8432780000000548,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getAlertHistory"],
          "fullName": "MonitoringService getAlertHistory should respect limit parameter",
          "status": "passed",
          "title": "should respect limit parameter",
          "duration": 0.5314190000000281,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "resolveAlert"],
          "fullName": "MonitoringService resolveAlert should return false for unknown alert",
          "status": "passed",
          "title": "should return false for unknown alert",
          "duration": 0.6679400000000442,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getStats"],
          "fullName": "MonitoringService getStats should return monitoring stats",
          "status": "passed",
          "title": "should return monitoring stats",
          "duration": 0.5833650000000716,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getStats"],
          "fullName": "MonitoringService getStats should reflect running state",
          "status": "passed",
          "title": "should reflect running state",
          "duration": 0.6909289999999828,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getStats"],
          "fullName": "MonitoringService getStats should count active alerts",
          "status": "passed",
          "title": "should count active alerts",
          "duration": 4.862496000000078,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "getStats"],
          "fullName": "MonitoringService getStats should include health in stats",
          "status": "passed",
          "title": "should include health in stats",
          "duration": 1.1356559999999263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "alert evaluation cycle"],
          "fullName": "MonitoringService alert evaluation cycle should evaluate alerts periodically when started",
          "status": "passed",
          "title": "should evaluate alerts periodically when started",
          "duration": 1.2568099999999731,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "integration scenarios"],
          "fullName": "MonitoringService integration scenarios should handle full monitoring cycle",
          "status": "passed",
          "title": "should handle full monitoring cycle",
          "duration": 0.7063299999999799,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "integration scenarios"],
          "fullName": "MonitoringService integration scenarios should handle degraded state",
          "status": "passed",
          "title": "should handle degraded state",
          "duration": 1.6933290000000625,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MonitoringService", "integration scenarios"],
          "fullName": "MonitoringService integration scenarios should recover from degraded state",
          "status": "passed",
          "title": "should recover from degraded state",
          "duration": 0.6905339999999569,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["global monitoring service"],
          "fullName": "global monitoring service should export global service instance",
          "status": "passed",
          "title": "should export global service instance",
          "duration": 0.4247420000000375,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["global monitoring service"],
          "fullName": "global monitoring service should start global monitoring",
          "status": "passed",
          "title": "should start global monitoring",
          "duration": 0.26081199999998717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["global monitoring service"],
          "fullName": "global monitoring service should stop global monitoring",
          "status": "passed",
          "title": "should stop global monitoring",
          "duration": 0.19875300000001062,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910441,
      "endTime": 1765615910489.2607,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/monitoring/monitoring-service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["FeatureBuilder", "initialization"],
          "fullName": "FeatureBuilder initialization should initialize with default config",
          "status": "passed",
          "title": "should initialize with default config",
          "duration": 4.667886999999951,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "initialization"],
          "fullName": "FeatureBuilder initialization should accept custom config",
          "status": "passed",
          "title": "should accept custom config",
          "duration": 0.8794129999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "initialization"],
          "fullName": "FeatureBuilder initialization should accept custom window size",
          "status": "passed",
          "title": "should accept custom window size",
          "duration": 0.4010479999999461,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "initialization"],
          "fullName": "FeatureBuilder initialization should start with empty user windows",
          "status": "passed",
          "title": "should start with empty user windows",
          "duration": 0.5827249999999822,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "getFeatureLabels"],
          "fullName": "FeatureBuilder getFeatureLabels should return correct feature labels",
          "status": "passed",
          "title": "should return correct feature labels",
          "duration": 0.9889000000000578,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "getFeatureLabels"],
          "fullName": "FeatureBuilder getFeatureLabels should return 10 labels matching feature dimension",
          "status": "passed",
          "title": "should return 10 labels matching feature dimension",
          "duration": 0.32747699999993074,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp response time to max value",
          "status": "passed",
          "title": "should clamp response time to max value",
          "duration": 0.3868649999999434,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp response time minimum to 1",
          "status": "passed",
          "title": "should clamp response time minimum to 1",
          "duration": 0.2902200000000903,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp dwell time to max value",
          "status": "passed",
          "title": "should clamp dwell time to max value",
          "duration": 0.6992559999999912,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp dwell time minimum to 0",
          "status": "passed",
          "title": "should clamp dwell time minimum to 0",
          "duration": 0.3053219999999328,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp pause count to max value",
          "status": "passed",
          "title": "should clamp pause count to max value",
          "duration": 0.17575799999997344,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp switch count to max value",
          "status": "passed",
          "title": "should clamp switch count to max value",
          "duration": 0.28883700000005774,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should clamp focus loss duration to max value",
          "status": "passed",
          "title": "should clamp focus loss duration to max value",
          "duration": 0.1350079999999707,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should ensure interaction density is non-negative",
          "status": "passed",
          "title": "should ensure interaction density is non-negative",
          "duration": 0.11000300000000607,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should ensure retry count is non-negative",
          "status": "passed",
          "title": "should ensure retry count is non-negative",
          "duration": 8.331808999999907,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "sanitize"],
          "fullName": "FeatureBuilder sanitize should preserve valid values",
          "status": "passed",
          "title": "should preserve valid values",
          "duration": 1.3465660000000526,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect NaN response time as anomalous",
          "status": "passed",
          "title": "should detect NaN response time as anomalous",
          "duration": 0.42442300000004707,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect Infinity response time as anomalous",
          "status": "passed",
          "title": "should detect Infinity response time as anomalous",
          "duration": 0.2325190000000248,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect zero response time as anomalous",
          "status": "passed",
          "title": "should detect zero response time as anomalous",
          "duration": 0.18199000000004162,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect negative response time as anomalous",
          "status": "passed",
          "title": "should detect negative response time as anomalous",
          "duration": 0.13271999999994932,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect NaN dwell time as anomalous",
          "status": "passed",
          "title": "should detect NaN dwell time as anomalous",
          "duration": 0.12031200000001263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect negative dwell time as anomalous",
          "status": "passed",
          "title": "should detect negative dwell time as anomalous",
          "duration": 0.10582499999998163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect NaN timestamp as anomalous",
          "status": "passed",
          "title": "should detect NaN timestamp as anomalous",
          "duration": 0.10069300000009207,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect extreme response time as anomalous",
          "status": "passed",
          "title": "should detect extreme response time as anomalous",
          "duration": 0.10266699999999673,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect extreme focus loss as anomalous",
          "status": "passed",
          "title": "should detect extreme focus loss as anomalous",
          "duration": 0.18829200000004676,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect extreme pause count as anomalous",
          "status": "passed",
          "title": "should detect extreme pause count as anomalous",
          "duration": 0.2947990000000118,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should detect extreme switch count as anomalous",
          "status": "passed",
          "title": "should detect extreme switch count as anomalous",
          "duration": 0.4517959999999448,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should accept valid event",
          "status": "passed",
          "title": "should accept valid event",
          "duration": 0.243204999999989,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "isAnomalous"],
          "fullName": "FeatureBuilder isAnomalous should accept event at boundary values",
          "status": "passed",
          "title": "should accept event at boundary values",
          "duration": 0.2424190000000408,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should build feature vector with correct dimension",
          "status": "passed",
          "title": "should build feature vector with correct dimension",
          "duration": 4.607759999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should return Float32Array values",
          "status": "passed",
          "title": "should return Float32Array values",
          "duration": 0.5157709999999724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should include correct timestamp",
          "status": "passed",
          "title": "should include correct timestamp",
          "duration": 0.3615989999999556,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should include correct labels",
          "status": "passed",
          "title": "should include correct labels",
          "duration": 0.6301280000000133,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should set correctness to 1 for correct answer",
          "status": "passed",
          "title": "should set correctness to 1 for correct answer",
          "duration": 0.9268509999999424,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should set correctness to -1 for incorrect answer",
          "status": "passed",
          "title": "should set correctness to -1 for incorrect answer",
          "duration": 0.38562000000001717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should normalize retry count to [0,1] range",
          "status": "passed",
          "title": "should normalize retry count to [0,1] range",
          "duration": 0.35297300000001997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should compute z-score for response time",
          "status": "passed",
          "title": "should compute z-score for response time",
          "duration": 0.36686299999996663,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should update window CV after multiple events",
          "status": "passed",
          "title": "should update window CV after multiple events",
          "duration": 0.6511639999999943,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should maintain separate windows for different users",
          "status": "passed",
          "title": "should maintain separate windows for different users",
          "duration": 1.2323270000000548,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildFeatureVector"],
          "fullName": "FeatureBuilder buildFeatureVector should create user window on first access",
          "status": "passed",
          "title": "should create user window on first access",
          "duration": 0.7318609999999808,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildAttentionFeatures"],
          "fullName": "FeatureBuilder buildAttentionFeatures should return Float32Array with 8 elements",
          "status": "passed",
          "title": "should return Float32Array with 8 elements",
          "duration": 0.9088540000000194,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildAttentionFeatures"],
          "fullName": "FeatureBuilder buildAttentionFeatures should use current window CV without updating",
          "status": "passed",
          "title": "should use current window CV without updating",
          "duration": 0.3264440000000377,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "buildAttentionFeatures"],
          "fullName": "FeatureBuilder buildAttentionFeatures should return zero CV for new user",
          "status": "passed",
          "title": "should return zero CV for new user",
          "duration": 0.2748790000000554,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "window management"],
          "fullName": "FeatureBuilder window management should reset windows for specific user",
          "status": "passed",
          "title": "should reset windows for specific user",
          "duration": 0.29408599999999296,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "window management"],
          "fullName": "FeatureBuilder window management should reset all windows",
          "status": "passed",
          "title": "should reset all windows",
          "duration": 0.2493650000000116,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "window management"],
          "fullName": "FeatureBuilder window management should maintain window size limit",
          "status": "passed",
          "title": "should maintain window size limit",
          "duration": 0.3384959999999637,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "memory cleanup"],
          "fullName": "FeatureBuilder memory cleanup should stop cleanup timer",
          "status": "passed",
          "title": "should stop cleanup timer",
          "duration": 0.12852599999996528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureBuilder", "memory cleanup"],
          "fullName": "FeatureBuilder memory cleanup should track user window count",
          "status": "passed",
          "title": "should track user window count",
          "duration": 0.2507659999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "initialization"],
          "fullName": "WindowStatistics initialization should initialize with default max size of 10",
          "status": "passed",
          "title": "should initialize with default max size of 10",
          "duration": 0.26443699999992987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "initialization"],
          "fullName": "WindowStatistics initialization should accept custom max size",
          "status": "passed",
          "title": "should accept custom max size",
          "duration": 0.17485199999998713,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "push"],
          "fullName": "WindowStatistics push should add values to window",
          "status": "passed",
          "title": "should add values to window",
          "duration": 0.26875299999994695,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "push"],
          "fullName": "WindowStatistics push should maintain max size limit",
          "status": "passed",
          "title": "should maintain max size limit",
          "duration": 0.2128850000000284,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "push"],
          "fullName": "WindowStatistics push should remove oldest value when full",
          "status": "passed",
          "title": "should remove oldest value when full",
          "duration": 0.25557000000003427,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "mean"],
          "fullName": "WindowStatistics mean should return 0 for empty window",
          "status": "passed",
          "title": "should return 0 for empty window",
          "duration": 0.19234399999993457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "mean"],
          "fullName": "WindowStatistics mean should calculate correct mean for single value",
          "status": "passed",
          "title": "should calculate correct mean for single value",
          "duration": 0.2161279999999124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "mean"],
          "fullName": "WindowStatistics mean should calculate correct mean for multiple values",
          "status": "passed",
          "title": "should calculate correct mean for multiple values",
          "duration": 0.16583000000002812,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "mean"],
          "fullName": "WindowStatistics mean should handle negative values",
          "status": "passed",
          "title": "should handle negative values",
          "duration": 0.1621939999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "mean"],
          "fullName": "WindowStatistics mean should handle floating point values",
          "status": "passed",
          "title": "should handle floating point values",
          "duration": 0.30823399999997037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "std"],
          "fullName": "WindowStatistics std should return 0 for empty window",
          "status": "passed",
          "title": "should return 0 for empty window",
          "duration": 0.22852899999998044,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "std"],
          "fullName": "WindowStatistics std should return 0 for single value",
          "status": "passed",
          "title": "should return 0 for single value",
          "duration": 0.15012699999999768,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "std"],
          "fullName": "WindowStatistics std should return 0 for identical values",
          "status": "passed",
          "title": "should return 0 for identical values",
          "duration": 0.17458699999997407,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "std"],
          "fullName": "WindowStatistics std should calculate correct std for known values",
          "status": "passed",
          "title": "should calculate correct std for known values",
          "duration": 0.22451300000000174,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "cv"],
          "fullName": "WindowStatistics cv should return 0 for empty window",
          "status": "passed",
          "title": "should return 0 for empty window",
          "duration": 0.2014809999999443,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "cv"],
          "fullName": "WindowStatistics cv should return 0 for single value",
          "status": "passed",
          "title": "should return 0 for single value",
          "duration": 0.15092999999990298,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "cv"],
          "fullName": "WindowStatistics cv should return 0 when mean is near zero",
          "status": "passed",
          "title": "should return 0 when mean is near zero",
          "duration": 0.14566200000001572,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "cv"],
          "fullName": "WindowStatistics cv should calculate correct CV",
          "status": "passed",
          "title": "should calculate correct CV",
          "duration": 0.6296820000000025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "cv"],
          "fullName": "WindowStatistics cv should handle negative mean values",
          "status": "passed",
          "title": "should handle negative mean values",
          "duration": 6.612829000000033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "size and clear"],
          "fullName": "WindowStatistics size and clear should return correct size",
          "status": "passed",
          "title": "should return correct size",
          "duration": 0.36446300000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "size and clear"],
          "fullName": "WindowStatistics size and clear should clear all values",
          "status": "passed",
          "title": "should clear all values",
          "duration": 0.276662999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "lastK"],
          "fullName": "WindowStatistics lastK should return empty array for empty window",
          "status": "passed",
          "title": "should return empty array for empty window",
          "duration": 0.22502099999996972,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "lastK"],
          "fullName": "WindowStatistics lastK should return all values if k > size",
          "status": "passed",
          "title": "should return all values if k > size",
          "duration": 0.2136239999999816,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "lastK"],
          "fullName": "WindowStatistics lastK should return last k values",
          "status": "passed",
          "title": "should return last k values",
          "duration": 0.24642599999992854,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WindowStatistics", "lastK"],
          "fullName": "WindowStatistics lastK should return single last value",
          "status": "passed",
          "title": "should return single last value",
          "duration": 0.2118920000000344,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "initialization"],
          "fullName": "EnhancedFeatureBuilder initialization should initialize correctly",
          "status": "passed",
          "title": "should initialize correctly",
          "duration": 0.5078560000000607,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "initialization"],
          "fullName": "EnhancedFeatureBuilder initialization should accept custom config and window size",
          "status": "passed",
          "title": "should accept custom config and window size",
          "duration": 0.35110900000006495,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "initialization"],
          "fullName": "EnhancedFeatureBuilder initialization should start with empty enhanced user windows",
          "status": "passed",
          "title": "should start with empty enhanced user windows",
          "duration": 0.15758600000003753,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should build feature vector with correct dimension",
          "status": "passed",
          "title": "should build feature vector with correct dimension",
          "duration": 0.32887800000003153,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should return Float32Array values",
          "status": "passed",
          "title": "should return Float32Array values",
          "duration": 0.17472399999996924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should include correct timestamp",
          "status": "passed",
          "title": "should include correct timestamp",
          "duration": 0.19152199999996355,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should include correct labels",
          "status": "passed",
          "title": "should include correct labels",
          "duration": 0.17099499999994805,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should set correctness to 1 for correct answer",
          "status": "passed",
          "title": "should set correctness to 1 for correct answer",
          "duration": 0.14620899999999892,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should set correctness to -1 for incorrect answer",
          "status": "passed",
          "title": "should set correctness to -1 for incorrect answer",
          "duration": 0.27273600000000897,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should create user window on first access",
          "status": "passed",
          "title": "should create user window on first access",
          "duration": 0.16289600000004612,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should maintain separate windows for different users",
          "status": "passed",
          "title": "should maintain separate windows for different users",
          "duration": 0.13708900000005997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "buildEnhancedFeatureVector"],
          "fullName": "EnhancedFeatureBuilder buildEnhancedFeatureVector should calculate drift based on baseline",
          "status": "passed",
          "title": "should calculate drift based on baseline",
          "duration": 0.2960170000000062,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "setBaselineRT"],
          "fullName": "EnhancedFeatureBuilder setBaselineRT should set default baseline",
          "status": "passed",
          "title": "should set default baseline",
          "duration": 0.6074380000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "setBaselineRT"],
          "fullName": "EnhancedFeatureBuilder setBaselineRT should set baseline for specific user",
          "status": "passed",
          "title": "should set baseline for specific user",
          "duration": 0.6233039999999619,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "setBaselineRT"],
          "fullName": "EnhancedFeatureBuilder setBaselineRT should update baseline for all existing users",
          "status": "passed",
          "title": "should update baseline for all existing users",
          "duration": 1.0061379999999644,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "reset"],
          "fullName": "EnhancedFeatureBuilder reset should reset specific user windows",
          "status": "passed",
          "title": "should reset specific user windows",
          "duration": 0.4088179999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "reset"],
          "fullName": "EnhancedFeatureBuilder reset should reset all user windows",
          "status": "passed",
          "title": "should reset all user windows",
          "duration": 0.36088900000004287,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "reset"],
          "fullName": "EnhancedFeatureBuilder reset should handle reset for non-existent user",
          "status": "passed",
          "title": "should handle reset for non-existent user",
          "duration": 0.18083000000001448,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["EnhancedFeatureBuilder", "timer management"],
          "fullName": "EnhancedFeatureBuilder timer management should stop cleanup timers",
          "status": "passed",
          "title": "should stop cleanup timers",
          "duration": 0.19697499999995216,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "initialization"],
          "fullName": "FeatureCacheManager initialization should initialize with empty cache",
          "status": "passed",
          "title": "should initialize with empty cache",
          "duration": 0.4767990000000282,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cache operations"],
          "fullName": "FeatureCacheManager cache operations should store and retrieve static features",
          "status": "passed",
          "title": "should store and retrieve static features",
          "duration": 1.0433460000000423,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cache operations"],
          "fullName": "FeatureCacheManager cache operations should return null for non-existent user",
          "status": "passed",
          "title": "should return null for non-existent user",
          "duration": 0.3620409999999765,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cache operations"],
          "fullName": "FeatureCacheManager cache operations should create copy of features on storage",
          "status": "passed",
          "title": "should create copy of features on storage",
          "duration": 0.2723519999999553,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cache operations"],
          "fullName": "FeatureCacheManager cache operations should track cache hits",
          "status": "passed",
          "title": "should track cache hits",
          "duration": 0.26399499999990894,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cache operations"],
          "fullName": "FeatureCacheManager cache operations should track cache misses",
          "status": "passed",
          "title": "should track cache misses",
          "duration": 0.1970169999999598,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cognitive profile validation"],
          "fullName": "FeatureCacheManager cognitive profile validation should validate cognitive profile match",
          "status": "passed",
          "title": "should validate cognitive profile match",
          "duration": 0.2699360000000297,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cognitive profile validation"],
          "fullName": "FeatureCacheManager cognitive profile validation should invalidate on cognitive profile change",
          "status": "passed",
          "title": "should invalidate on cognitive profile change",
          "duration": 0.3125240000000531,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "cognitive profile validation"],
          "fullName": "FeatureCacheManager cognitive profile validation should handle undefined cognitive profile",
          "status": "passed",
          "title": "should handle undefined cognitive profile",
          "duration": 0.24080700000001798,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "invalidation"],
          "fullName": "FeatureCacheManager invalidation should invalidate specific user cache",
          "status": "passed",
          "title": "should invalidate specific user cache",
          "duration": 0.28540700000007746,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "invalidation"],
          "fullName": "FeatureCacheManager invalidation should track invalidations",
          "status": "passed",
          "title": "should track invalidations",
          "duration": 0.2845399999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "invalidation"],
          "fullName": "FeatureCacheManager invalidation should not increment invalidations for non-existent user",
          "status": "passed",
          "title": "should not increment invalidations for non-existent user",
          "duration": 0.23300799999992705,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "clear"],
          "fullName": "FeatureCacheManager clear should clear all cached data",
          "status": "passed",
          "title": "should clear all cached data",
          "duration": 0.32124900000007983,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "clear"],
          "fullName": "FeatureCacheManager clear should reset stats on clear",
          "status": "passed",
          "title": "should reset stats on clear",
          "duration": 4.52213299999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "getStats"],
          "fullName": "FeatureCacheManager getStats should calculate hit rate correctly",
          "status": "passed",
          "title": "should calculate hit rate correctly",
          "duration": 0.25018099999999777,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "getStats"],
          "fullName": "FeatureCacheManager getStats should return 0 hit rate when no requests",
          "status": "passed",
          "title": "should return 0 hit rate when no requests",
          "duration": 0.12403599999993276,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "getStats"],
          "fullName": "FeatureCacheManager getStats should track cache size",
          "status": "passed",
          "title": "should track cache size",
          "duration": 0.17034400000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "resetStats"],
          "fullName": "FeatureCacheManager resetStats should reset statistics without clearing cache",
          "status": "passed",
          "title": "should reset statistics without clearing cache",
          "duration": 0.21876099999997223,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "TTL expiration"],
          "fullName": "FeatureCacheManager TTL expiration should expire cache entries after TTL",
          "status": "passed",
          "title": "should expire cache entries after TTL",
          "duration": 0.23337500000002365,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FeatureCacheManager", "timer management"],
          "fullName": "FeatureCacheManager timer management should stop cleanup timer",
          "status": "passed",
          "title": "should stop cleanup timer",
          "duration": 0.15829299999995783,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615910244,
      "endTime": 1765615910315.1582,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/perception/feature-builder.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "initialization"],
          "fullName": "ImmediateRewardEvaluator initialization 应该成功创建实例",
          "status": "passed",
          "title": "应该成功创建实例",
          "duration": 2.1791149999999675,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "initialization"],
          "fullName": "ImmediateRewardEvaluator initialization 应该有默认的奖励配置文件",
          "status": "passed",
          "title": "应该有默认的奖励配置文件",
          "duration": 1.707132999999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "computeImmediate - basic reward"],
          "fullName": "ImmediateRewardEvaluator computeImmediate - basic reward 回答正确时应该返回正奖励",
          "status": "passed",
          "title": "回答正确时应该返回正奖励",
          "duration": 0.8353950000000054,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "computeImmediate - basic reward"],
          "fullName": "ImmediateRewardEvaluator computeImmediate - basic reward 回答错误时应该返回负奖励",
          "status": "passed",
          "title": "回答错误时应该返回负奖励",
          "duration": 0.728634999999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "computeImmediate - basic reward"],
          "fullName": "ImmediateRewardEvaluator computeImmediate - basic reward 奖励值应该被限制在 [-1, 1] 范围内",
          "status": "passed",
          "title": "奖励值应该被限制在 [-1, 1] 范围内",
          "duration": 0.5680050000000278,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "speed bonus calculation"],
          "fullName": "ImmediateRewardEvaluator speed bonus calculation 非常快的反应时间应该给予最高速度奖励 (+0.3)",
          "status": "failed",
          "title": "非常快的反应时间应该给予最高速度奖励 (+0.3)",
          "duration": 12.901926000000003,
          "failureMessages": [
            "AssertionError: expected 1 to be greater than 1\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/rewards/immediate-reward.test.ts:149:28\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "speed bonus calculation"],
          "fullName": "ImmediateRewardEvaluator speed bonus calculation 快速反应应该给予较高速度奖励 (0.2-0.3)",
          "status": "passed",
          "title": "快速反应应该给予较高速度奖励 (0.2-0.3)",
          "duration": 0.4639280000000099,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "speed bonus calculation"],
          "fullName": "ImmediateRewardEvaluator speed bonus calculation 正常速度应该给予少量或无速度奖励",
          "status": "passed",
          "title": "正常速度应该给予少量或无速度奖励",
          "duration": 0.28828599999997095,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "speed bonus calculation"],
          "fullName": "ImmediateRewardEvaluator speed bonus calculation 慢速反应应该给予负速度奖励",
          "status": "passed",
          "title": "慢速反应应该给予负速度奖励",
          "duration": 0.4141480000000115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "speed bonus calculation"],
          "fullName": "ImmediateRewardEvaluator speed bonus calculation 非常慢的反应应该给予最大负速度奖励 (-0.3)",
          "status": "passed",
          "title": "非常慢的反应应该给予最大负速度奖励 (-0.3)",
          "duration": 0.32603299999999535,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "speed bonus calculation"],
          "fullName": "ImmediateRewardEvaluator speed bonus calculation 没有平均反应时间时应该使用默认基线3秒",
          "status": "passed",
          "title": "没有平均反应时间时应该使用默认基线3秒",
          "duration": 0.2684279999999717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "difficulty bonus calculation"],
          "fullName": "ImmediateRewardEvaluator difficulty bonus calculation 难度匹配用户能力时应该给予最高难度奖励",
          "status": "passed",
          "title": "难度匹配用户能力时应该给予最高难度奖励",
          "duration": 0.23496399999999085,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "difficulty bonus calculation"],
          "fullName": "ImmediateRewardEvaluator difficulty bonus calculation 难度略低于能力时应该给予少量奖励",
          "status": "passed",
          "title": "难度略低于能力时应该给予少量奖励",
          "duration": 0.24608200000000124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "difficulty bonus calculation"],
          "fullName": "ImmediateRewardEvaluator difficulty bonus calculation 难度远低于能力时应该给予负奖励（无聊）",
          "status": "passed",
          "title": "难度远低于能力时应该给予负奖励（无聊）",
          "duration": 0.17129899999997633,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "difficulty bonus calculation"],
          "fullName": "ImmediateRewardEvaluator difficulty bonus calculation 难度远高于能力时应该给予负奖励（挫败）",
          "status": "passed",
          "title": "难度远高于能力时应该给予负奖励（挫败）",
          "duration": 0.15516500000001088,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "difficulty bonus calculation"],
          "fullName": "ImmediateRewardEvaluator difficulty bonus calculation 没有提供难度时应该使用默认值0.5",
          "status": "passed",
          "title": "没有提供难度时应该使用默认值0.5",
          "duration": 0.1671180000000163,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "forgetting curve adjustment"],
          "fullName": "ImmediateRewardEvaluator forgetting curve adjustment 半衰期短且答对时应该给予较高奖励",
          "status": "passed",
          "title": "半衰期短且答对时应该给予较高奖励",
          "duration": 0.21897599999999784,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "forgetting curve adjustment"],
          "fullName": "ImmediateRewardEvaluator forgetting curve adjustment 半衰期长且答对时应该给予较低奖励",
          "status": "passed",
          "title": "半衰期长且答对时应该给予较低奖励",
          "duration": 0.3258299999999963,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "forgetting curve adjustment"],
          "fullName": "ImmediateRewardEvaluator forgetting curve adjustment 半衰期短且答错时应该给予轻微惩罚",
          "status": "passed",
          "title": "半衰期短且答错时应该给予轻微惩罚",
          "duration": 0.20915999999999713,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "forgetting curve adjustment"],
          "fullName": "ImmediateRewardEvaluator forgetting curve adjustment 半衰期长且答错时应该给予较重惩罚",
          "status": "passed",
          "title": "半衰期长且答错时应该给予较重惩罚",
          "duration": 0.19111399999997047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "forgetting curve adjustment"],
          "fullName": "ImmediateRewardEvaluator forgetting curve adjustment 没有半衰期信息时应该使用默认值1.0",
          "status": "passed",
          "title": "没有半衰期信息时应该使用默认值1.0",
          "duration": 0.14144899999996596,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "encouragement text generation"],
          "fullName": "ImmediateRewardEvaluator encouragement text generation 高奖励值应该生成积极的鼓励文案",
          "status": "passed",
          "title": "高奖励值应该生成积极的鼓励文案",
          "duration": 0.23427600000002258,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "encouragement text generation"],
          "fullName": "ImmediateRewardEvaluator encouragement text generation 中等奖励值应该生成鼓励性文案",
          "status": "passed",
          "title": "中等奖励值应该生成鼓励性文案",
          "duration": 0.20463100000000622,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "encouragement text generation"],
          "fullName": "ImmediateRewardEvaluator encouragement text generation 负奖励值应该生成安慰性文案",
          "status": "passed",
          "title": "负奖励值应该生成安慰性文案",
          "duration": 0.16003700000004528,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "encouragement text generation"],
          "fullName": "ImmediateRewardEvaluator encouragement text generation 连续答错后答对应该生成特殊鼓励文案",
          "status": "passed",
          "title": "连续答错后答对应该生成特殊鼓励文案",
          "duration": 0.2638539999999807,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "explanation text generation"],
          "fullName": "ImmediateRewardEvaluator explanation text generation 应该生成包含正确性的解释",
          "status": "passed",
          "title": "应该生成包含正确性的解释",
          "duration": 0.30240100000003167,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "explanation text generation"],
          "fullName": "ImmediateRewardEvaluator explanation text generation 应该在反应快时包含速度反馈",
          "status": "passed",
          "title": "应该在反应快时包含速度反馈",
          "duration": 0.17168899999995801,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "explanation text generation"],
          "fullName": "ImmediateRewardEvaluator explanation text generation 应该在难度匹配时包含难度反馈",
          "status": "passed",
          "title": "应该在难度匹配时包含难度反馈",
          "duration": 0.16641899999996213,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "explanation text generation"],
          "fullName": "ImmediateRewardEvaluator explanation text generation 应该生成完整的解释文本",
          "status": "passed",
          "title": "应该生成完整的解释文本",
          "duration": 0.2674199999999587,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ImmediateRewardEvaluator",
            "computeImmediateLegacy - backward compatibility"
          ],
          "fullName": "ImmediateRewardEvaluator computeImmediateLegacy - backward compatibility 旧版方法应该返回完整的 ImmediateReward 结构",
          "status": "passed",
          "title": "旧版方法应该返回完整的 ImmediateReward 结构",
          "duration": 0.7095160000000078,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "ImmediateRewardEvaluator",
            "computeImmediateLegacy - backward compatibility"
          ],
          "fullName": "ImmediateRewardEvaluator computeImmediateLegacy - backward compatibility 新旧方法应该产生一致的奖励值",
          "status": "passed",
          "title": "新旧方法应该产生一致的奖励值",
          "duration": 0.21556400000002895,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "edge cases"],
          "fullName": "ImmediateRewardEvaluator edge cases 应该处理极端快速反应（< 100ms）",
          "status": "passed",
          "title": "应该处理极端快速反应（< 100ms）",
          "duration": 0.44369999999997844,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "edge cases"],
          "fullName": "ImmediateRewardEvaluator edge cases 应该处理极端慢速反应（> 60秒）",
          "status": "passed",
          "title": "应该处理极端慢速反应（> 60秒）",
          "duration": 0.3371500000000083,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "edge cases"],
          "fullName": "ImmediateRewardEvaluator edge cases 应该处理极端半衰期值",
          "status": "passed",
          "title": "应该处理极端半衰期值",
          "duration": 0.3743729999999914,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "edge cases"],
          "fullName": "ImmediateRewardEvaluator edge cases 应该处理所有状态字段为极端值的情况",
          "status": "passed",
          "title": "应该处理所有状态字段为极端值的情况",
          "duration": 0.43790500000000065,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "edge cases"],
          "fullName": "ImmediateRewardEvaluator edge cases 应该处理缺少所有可选字段的情况",
          "status": "passed",
          "title": "应该处理缺少所有可选字段的情况",
          "duration": 0.6063369999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "reward breakdown"],
          "fullName": "ImmediateRewardEvaluator reward breakdown 应该返回详细的奖励分解",
          "status": "passed",
          "title": "应该返回详细的奖励分解",
          "duration": 0.29575899999997546,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "reward breakdown"],
          "fullName": "ImmediateRewardEvaluator reward breakdown 分解各项之和应该合理地接近总奖励值",
          "status": "passed",
          "title": "分解各项之和应该合理地接近总奖励值",
          "duration": 0.1953940000000216,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "performance"],
          "fullName": "ImmediateRewardEvaluator performance 应该能快速计算大量奖励（< 1ms per call）",
          "status": "passed",
          "title": "应该能快速计算大量奖励（< 1ms per call）",
          "duration": 6.453740000000039,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "reward profile configuration"],
          "fullName": "ImmediateRewardEvaluator reward profile configuration 应该能设置不同的奖励配置文件",
          "status": "passed",
          "title": "应该能设置不同的奖励配置文件",
          "duration": 2.004447999999968,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ImmediateRewardEvaluator", "reward profile configuration"],
          "fullName": "ImmediateRewardEvaluator reward profile configuration 设置配置文件后计算应该正常工作",
          "status": "passed",
          "title": "设置配置文件后计算应该正常工作",
          "duration": 0.5282349999999951,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615901687,
      "endTime": 1765615901725.5283,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/rewards/immediate-reward.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should return cached state when cache hit",
          "status": "passed",
          "title": "should return cached state when cache hit",
          "duration": 7.5436240000000225,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should fetch from database when cache miss",
          "status": "passed",
          "title": "should fetch from database when cache miss",
          "duration": 2.8927669999999353,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should not cache null state from database",
          "status": "passed",
          "title": "should not cache null state from database",
          "duration": 0.32897800000000643,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should fallback to database when cache operation fails",
          "status": "passed",
          "title": "should fallback to database when cache operation fails",
          "duration": 0.8450899999999137,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should bypass cache when cache is disabled",
          "status": "passed",
          "title": "should bypass cache when cache is disabled",
          "duration": 0.5026099999998905,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should handle versioned cache data correctly",
          "status": "passed",
          "title": "should handle versioned cache data correctly",
          "duration": 0.3681889999999157,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "loadState"],
          "fullName": "CachedStateRepository loadState should return null when versioned data has no data field",
          "status": "failed",
          "title": "should return null when versioned data has no data field",
          "duration": 5.033486999999923,
          "failureMessages": [
            "AssertionError: expected \"vi.fn()\" to be called at least once\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1400:10)\n    at Proxy.<anonymous> (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///home/liji/danci/danci/packages/backend/node_modules/chai/index.js:1700:25)\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/repositories/cached-repository.test.ts:178:41\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "saveState"],
          "fullName": "CachedStateRepository saveState should delete cache then save to database",
          "status": "passed",
          "title": "should delete cache then save to database",
          "duration": 1.098577999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "saveState"],
          "fullName": "CachedStateRepository saveState should continue database save even if cache delete fails",
          "status": "passed",
          "title": "should continue database save even if cache delete fails",
          "duration": 1.6177030000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "saveState"],
          "fullName": "CachedStateRepository saveState should not delete cache when cache is disabled",
          "status": "passed",
          "title": "should not delete cache when cache is disabled",
          "duration": 0.4481739999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "saveState"],
          "fullName": "CachedStateRepository saveState should propagate database save errors",
          "status": "passed",
          "title": "should propagate database save errors",
          "duration": 1.9535170000000335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "invalidateCache"],
          "fullName": "CachedStateRepository invalidateCache should delete user state from cache",
          "status": "passed",
          "title": "should delete user state from cache",
          "duration": 0.4802429999999731,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedStateRepository", "invalidateCache"],
          "fullName": "CachedStateRepository invalidateCache should handle cache delete failure gracefully",
          "status": "passed",
          "title": "should handle cache delete failure gracefully",
          "duration": 0.5468580000000429,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should return cached model when cache hit",
          "status": "passed",
          "title": "should return cached model when cache hit",
          "duration": 1.3017710000000307,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should fetch from database when cache miss",
          "status": "passed",
          "title": "should fetch from database when cache miss",
          "duration": 0.6409929999999804,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should not cache null model from database",
          "status": "passed",
          "title": "should not cache null model from database",
          "duration": 0.2674260000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should fallback to database when cache operation fails",
          "status": "passed",
          "title": "should fallback to database when cache operation fails",
          "duration": 0.35348799999997027,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should bypass cache when cache is disabled",
          "status": "passed",
          "title": "should bypass cache when cache is disabled",
          "duration": 0.2655699999999115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should deserialize model correctly with L matrix",
          "status": "passed",
          "title": "should deserialize model correctly with L matrix",
          "duration": 0.6479570000000194,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should compute Cholesky decomposition when L is missing",
          "status": "passed",
          "title": "should compute Cholesky decomposition when L is missing",
          "duration": 0.6845180000000255,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "loadModel"],
          "fullName": "CachedModelRepository loadModel should handle missing optional fields with defaults",
          "status": "passed",
          "title": "should handle missing optional fields with defaults",
          "duration": 0.382492999999954,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "saveModel"],
          "fullName": "CachedModelRepository saveModel should delete cache then save to database",
          "status": "passed",
          "title": "should delete cache then save to database",
          "duration": 0.6125119999999242,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "saveModel"],
          "fullName": "CachedModelRepository saveModel should continue database save even if cache delete fails",
          "status": "passed",
          "title": "should continue database save even if cache delete fails",
          "duration": 0.39106699999990724,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "saveModel"],
          "fullName": "CachedModelRepository saveModel should not delete cache when cache is disabled",
          "status": "passed",
          "title": "should not delete cache when cache is disabled",
          "duration": 0.46871599999997215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "saveModel"],
          "fullName": "CachedModelRepository saveModel should propagate database save errors",
          "status": "passed",
          "title": "should propagate database save errors",
          "duration": 0.4304469999999583,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "invalidateCache"],
          "fullName": "CachedModelRepository invalidateCache should delete user model from cache",
          "status": "passed",
          "title": "should delete user model from cache",
          "duration": 0.3342000000000098,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "invalidateCache"],
          "fullName": "CachedModelRepository invalidateCache should handle cache delete failure gracefully",
          "status": "passed",
          "title": "should handle cache delete failure gracefully",
          "duration": 0.21600200000000314,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "serialization/deserialization"],
          "fullName": "CachedModelRepository serialization/deserialization should correctly serialize Float32Array to number[]",
          "status": "passed",
          "title": "should correctly serialize Float32Array to number[]",
          "duration": 0.25640599999996994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["CachedModelRepository", "serialization/deserialization"],
          "fullName": "CachedModelRepository serialization/deserialization should handle L matrix with wrong length by recomputing",
          "status": "failed",
          "title": "should handle L matrix with wrong length by recomputing",
          "duration": 1.7893400000000383,
          "failureMessages": [
            "AssertionError: expected null not to be null\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/repositories/cached-repository.test.ts:485:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["Cache Integration Scenarios", "cache consistency"],
          "fullName": "Cache Integration Scenarios cache consistency should handle concurrent read operations",
          "status": "passed",
          "title": "should handle concurrent read operations",
          "duration": 3.1494920000000093,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Cache Integration Scenarios", "cache consistency"],
          "fullName": "Cache Integration Scenarios cache consistency should handle write-then-read pattern",
          "status": "passed",
          "title": "should handle write-then-read pattern",
          "duration": 0.46384599999998954,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Cache Integration Scenarios", "degradation scenarios"],
          "fullName": "Cache Integration Scenarios degradation scenarios should handle complete Redis failure gracefully",
          "status": "passed",
          "title": "should handle complete Redis failure gracefully",
          "duration": 0.6280380000000605,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Cache Integration Scenarios", "degradation scenarios"],
          "fullName": "Cache Integration Scenarios degradation scenarios should handle partial cache data",
          "status": "failed",
          "title": "should handle partial cache data",
          "duration": 0.772668000000067,
          "failureMessages": [
            "AssertionError: expected null not to be null\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/repositories/cached-repository.test.ts:577:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        }
      ],
      "startTime": 1765615900985,
      "endTime": 1765615901023.7727,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/repositories/cached-repository.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should return null when user state not found",
          "status": "passed",
          "title": "should return null when user state not found",
          "duration": 10.604026999999974,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should load and parse user state correctly",
          "status": "passed",
          "title": "should load and parse user state correctly",
          "duration": 2.011700000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should convert BigInt timestamp to number",
          "status": "passed",
          "title": "should convert BigInt timestamp to number",
          "duration": 0.5634860000000117,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should parse cognitive profile with defaults for invalid data",
          "status": "passed",
          "title": "should parse cognitive profile with defaults for invalid data",
          "duration": 0.7403830000000653,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should parse habit profile when present",
          "status": "passed",
          "title": "should parse habit profile when present",
          "duration": 1.8422600000000102,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should parse trend state when present",
          "status": "passed",
          "title": "should parse trend state when present",
          "duration": 0.3416459999999688,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should handle invalid trend state",
          "status": "passed",
          "title": "should handle invalid trend state",
          "duration": 0.5044729999999618,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should parse cold start state when present",
          "status": "passed",
          "title": "should parse cold start state when present",
          "duration": 0.2430460000000494,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "loadState"],
          "fullName": "DatabaseStateRepository loadState should throw error on database failure",
          "status": "passed",
          "title": "should throw error on database failure",
          "duration": 5.746755000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should upsert user state correctly",
          "status": "passed",
          "title": "should upsert user state correctly",
          "duration": 3.0616529999999784,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should sanitize state values before saving",
          "status": "passed",
          "title": "should sanitize state values before saving",
          "duration": 0.7678660000000264,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should convert timestamp to BigInt",
          "status": "passed",
          "title": "should convert timestamp to BigInt",
          "duration": 0.4815360000000055,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should save habit profile when present",
          "status": "passed",
          "title": "should save habit profile when present",
          "duration": 0.7731209999999464,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should save cold start state when present",
          "status": "passed",
          "title": "should save cold start state when present",
          "duration": 0.47063199999990957,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should throw error on database failure",
          "status": "passed",
          "title": "should throw error on database failure",
          "duration": 0.48548600000003717,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseStateRepository", "saveState"],
          "fullName": "DatabaseStateRepository saveState should handle state with undefined optional fields",
          "status": "passed",
          "title": "should handle state with undefined optional fields",
          "duration": 0.35371599999996306,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should return null when model not found",
          "status": "passed",
          "title": "should return null when model not found",
          "duration": 0.7256270000000313,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should load and deserialize model correctly",
          "status": "passed",
          "title": "should load and deserialize model correctly",
          "duration": 1.5762979999999516,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should return null for invalid model data format",
          "status": "passed",
          "title": "should return null for invalid model data format",
          "duration": 0.5024899999999661,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should fallback to initial state when A matrix length mismatch",
          "status": "passed",
          "title": "should fallback to initial state when A matrix length mismatch",
          "duration": 0.27357199999994464,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should fallback to initial state when b vector length mismatch",
          "status": "passed",
          "title": "should fallback to initial state when b vector length mismatch",
          "duration": 0.2234369999999899,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should recompute Cholesky when L is missing",
          "status": "passed",
          "title": "should recompute Cholesky when L is missing",
          "duration": 0.6386589999999615,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should return null when L has wrong length (validation fails)",
          "status": "passed",
          "title": "should return null when L has wrong length (validation fails)",
          "duration": 0.2527620000000752,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should sanitize NaN values in A matrix",
          "status": "passed",
          "title": "should sanitize NaN values in A matrix",
          "duration": 0.3919030000000703,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should use default values for missing optional fields",
          "status": "passed",
          "title": "should use default values for missing optional fields",
          "duration": 0.31622200000003886,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "loadModel"],
          "fullName": "DatabaseModelRepository loadModel should throw error on database failure",
          "status": "passed",
          "title": "should throw error on database failure",
          "duration": 0.3867559999999912,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "saveModel"],
          "fullName": "DatabaseModelRepository saveModel should upsert model correctly",
          "status": "passed",
          "title": "should upsert model correctly",
          "duration": 1.0256789999999683,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "saveModel"],
          "fullName": "DatabaseModelRepository saveModel should serialize Float32Array to number[]",
          "status": "passed",
          "title": "should serialize Float32Array to number[]",
          "duration": 0.4407129999999597,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "saveModel"],
          "fullName": "DatabaseModelRepository saveModel should sanitize NaN values before saving",
          "status": "passed",
          "title": "should sanitize NaN values before saving",
          "duration": 0.3556630000000496,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "saveModel"],
          "fullName": "DatabaseModelRepository saveModel should handle model without L matrix",
          "status": "passed",
          "title": "should handle model without L matrix",
          "duration": 0.26736700000003566,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "saveModel"],
          "fullName": "DatabaseModelRepository saveModel should throw error on database failure",
          "status": "passed",
          "title": "should throw error on database failure",
          "duration": 0.5661450000000059,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DatabaseModelRepository", "saveModel"],
          "fullName": "DatabaseModelRepository saveModel should preserve model precision during serialization",
          "status": "passed",
          "title": "should preserve model precision during serialization",
          "duration": 0.47825399999999263,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Repository Integration Scenarios", "state lifecycle"],
          "fullName": "Repository Integration Scenarios state lifecycle should handle new user creation flow",
          "status": "passed",
          "title": "should handle new user creation flow",
          "duration": 0.440605000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Repository Integration Scenarios", "state lifecycle"],
          "fullName": "Repository Integration Scenarios state lifecycle should handle state update flow",
          "status": "passed",
          "title": "should handle state update flow",
          "duration": 0.43369699999993827,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Repository Integration Scenarios", "model lifecycle"],
          "fullName": "Repository Integration Scenarios model lifecycle should handle new model creation flow",
          "status": "passed",
          "title": "should handle new model creation flow",
          "duration": 0.3100239999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Repository Integration Scenarios", "model lifecycle"],
          "fullName": "Repository Integration Scenarios model lifecycle should handle model update with increasing updateCount",
          "status": "passed",
          "title": "should handle model update with increasing updateCount",
          "duration": 1.6093010000000731,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Repository Integration Scenarios", "error recovery"],
          "fullName": "Repository Integration Scenarios error recovery should handle transient database errors",
          "status": "passed",
          "title": "should handle transient database errors",
          "duration": 0.4033120000000281,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "cognitive profile validation"],
          "fullName": "Data Validation Edge Cases cognitive profile validation should clamp out-of-range cognitive values",
          "status": "failed",
          "title": "should clamp out-of-range cognitive values",
          "duration": 10.129098999999997,
          "failureMessages": [
            "AssertionError: expected 1 to be 0.5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/repositories/database-repository.test.ts:876:29\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:20"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "model dimension validation"],
          "fullName": "Data Validation Edge Cases model dimension validation should validate model data has correct array lengths",
          "status": "passed",
          "title": "should validate model data has correct array lengths",
          "duration": 0.6518419999999878,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "model dimension validation"],
          "fullName": "Data Validation Edge Cases model dimension validation should handle zero dimension model",
          "status": "passed",
          "title": "should handle zero dimension model",
          "duration": 0.31632299999989755,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "model dimension validation"],
          "fullName": "Data Validation Edge Cases model dimension validation should handle negative dimension model",
          "status": "passed",
          "title": "should handle negative dimension model",
          "duration": 0.26429399999994985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "timestamp handling"],
          "fullName": "Data Validation Edge Cases timestamp handling should handle very old timestamps",
          "status": "passed",
          "title": "should handle very old timestamps",
          "duration": 0.3044350000000122,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "timestamp handling"],
          "fullName": "Data Validation Edge Cases timestamp handling should handle future timestamps",
          "status": "passed",
          "title": "should handle future timestamps",
          "duration": 0.4169979999999214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Data Validation Edge Cases", "timestamp handling"],
          "fullName": "Data Validation Edge Cases timestamp handling should handle invalid timestamp when saving",
          "status": "passed",
          "title": "should handle invalid timestamp when saving",
          "duration": 0.38394799999991847,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615900983,
      "endTime": 1765615901038.417,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/repositories/database-repository.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["FatigueBasedPolicy", "initialization"],
          "fullName": "FatigueBasedPolicy initialization 应该成功创建实例",
          "status": "passed",
          "title": "应该成功创建实例",
          "duration": 2.1326010000000224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "initialization"],
          "fullName": "FatigueBasedPolicy initialization 应该有正确的策略名称",
          "status": "passed",
          "title": "应该有正确的策略名称",
          "duration": 1.7819610000000239,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "initialization"],
          "fullName": "FatigueBasedPolicy initialization 应该有版本信息",
          "status": "passed",
          "title": "应该有版本信息",
          "duration": 0.7122279999999819,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "initialization"],
          "fullName": "FatigueBasedPolicy initialization 应该有策略描述",
          "status": "passed",
          "title": "应该有策略描述",
          "duration": 0.6914389999999457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "high stress state (stress index > 0.7)"],
          "fullName": "FatigueBasedPolicy high stress state (stress index > 0.7) 高疲劳度应该触发轻松模式",
          "status": "passed",
          "title": "高疲劳度应该触发轻松模式",
          "duration": 0.5243140000000039,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "high stress state (stress index > 0.7)"],
          "fullName": "FatigueBasedPolicy high stress state (stress index > 0.7) 低注意力高疲劳应该触发轻松模式",
          "status": "failed",
          "title": "低注意力高疲劳应该触发轻松模式",
          "duration": 9.516314999999963,
          "failureMessages": [
            "AssertionError: expected 8 to be 5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:91:33\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "high stress state (stress index > 0.7)"],
          "fullName": "FatigueBasedPolicy high stress state (stress index > 0.7) 极低动机应该触发轻松模式",
          "status": "failed",
          "title": "极低动机应该触发轻松模式",
          "duration": 1.0574040000000196,
          "failureMessages": [
            "AssertionError: expected 8 to be 5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:108:33\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "high stress state (stress index > 0.7)"],
          "fullName": "FatigueBasedPolicy high stress state (stress index > 0.7) 轻松模式应该增加复习频率",
          "status": "passed",
          "title": "轻松模式应该增加复习频率",
          "duration": 0.2770949999999175,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "high stress state (stress index > 0.7)"],
          "fullName": "FatigueBasedPolicy high stress state (stress index > 0.7) 轻松模式应该减少新词比例",
          "status": "passed",
          "title": "轻松模式应该减少新词比例",
          "duration": 0.4115070000000287,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "FatigueBasedPolicy",
            "medium stress state (0.4 < stress index <= 0.7)"
          ],
          "fullName": "FatigueBasedPolicy medium stress state (0.4 < stress index <= 0.7) 中等疲劳度应该触发平衡模式",
          "status": "passed",
          "title": "中等疲劳度应该触发平衡模式",
          "duration": 0.21387900000001991,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "FatigueBasedPolicy",
            "medium stress state (0.4 < stress index <= 0.7)"
          ],
          "fullName": "FatigueBasedPolicy medium stress state (0.4 < stress index <= 0.7) 平衡模式应该使用标准间隔",
          "status": "failed",
          "title": "平衡模式应该使用标准间隔",
          "duration": 0.7605310000000145,
          "failureMessages": [
            "AssertionError: expected 1.2 to be 1 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:180:37\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "FatigueBasedPolicy",
            "medium stress state (0.4 < stress index <= 0.7)"
          ],
          "fullName": "FatigueBasedPolicy medium stress state (0.4 < stress index <= 0.7) 平衡模式应该使用中等批量",
          "status": "passed",
          "title": "平衡模式应该使用中等批量",
          "duration": 0.21105399999999008,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 低疲劳度应该触发挑战模式",
          "status": "passed",
          "title": "低疲劳度应该触发挑战模式",
          "duration": 0.25401799999997365,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 高记忆力应该提高难度",
          "status": "passed",
          "title": "高记忆力应该提高难度",
          "duration": 0.09450300000003153,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 中等记忆力应该保持中等难度",
          "status": "passed",
          "title": "中等记忆力应该保持中等难度",
          "duration": 0.07928300000003219,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 高速度应该增加新词比例",
          "status": "passed",
          "title": "高速度应该增加新词比例",
          "duration": 0.07184499999993932,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 低速度应该使用标准新词比例",
          "status": "passed",
          "title": "低速度应该使用标准新词比例",
          "duration": 0.08287600000005568,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 挑战模式应该延长复习间隔",
          "status": "passed",
          "title": "挑战模式应该延长复习间隔",
          "duration": 0.1173350000000255,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "low stress state (stress index <= 0.4)"],
          "fullName": "FatigueBasedPolicy low stress state (stress index <= 0.4) 挑战模式应该取消提示",
          "status": "passed",
          "title": "挑战模式应该取消提示",
          "duration": 0.11843599999997423,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress index calculation"],
          "fullName": "FatigueBasedPolicy stress index calculation 应该综合考虑疲劳度、注意力和动机",
          "status": "passed",
          "title": "应该综合考虑疲劳度、注意力和动机",
          "duration": 0.20761900000002242,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress index calculation"],
          "fullName": "FatigueBasedPolicy stress index calculation 疲劳度权重应该最高（0.5）",
          "status": "failed",
          "title": "疲劳度权重应该最高（0.5）",
          "duration": 1.0462660000000596,
          "failureMessages": [
            "AssertionError: expected 8 to be 5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:361:33\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress index calculation"],
          "fullName": "FatigueBasedPolicy stress index calculation 注意力权重应该为0.3",
          "status": "failed",
          "title": "注意力权重应该为0.3",
          "duration": 0.5529050000000097,
          "failureMessages": [
            "AssertionError: expected 12 to be less than or equal to 8\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:379:33\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress index calculation"],
          "fullName": "FatigueBasedPolicy stress index calculation 动机权重应该为0.2",
          "status": "passed",
          "title": "动机权重应该为0.2",
          "duration": 0.12863100000004124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "parameter range validation"],
          "fullName": "FatigueBasedPolicy parameter range validation 所有参数应该在有效范围内",
          "status": "passed",
          "title": "所有参数应该在有效范围内",
          "duration": 1.2254460000000336,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "parameter range validation"],
          "fullName": "FatigueBasedPolicy parameter range validation 应该返回所有必需的参数",
          "status": "passed",
          "title": "应该返回所有必需的参数",
          "duration": 0.5684760000000324,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "edge cases"],
          "fullName": "FatigueBasedPolicy edge cases 应该处理所有状态为0的情况",
          "status": "passed",
          "title": "应该处理所有状态为0的情况",
          "duration": 8.821280999999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "edge cases"],
          "fullName": "FatigueBasedPolicy edge cases 应该处理所有状态为最大值的情况",
          "status": "passed",
          "title": "应该处理所有状态为最大值的情况",
          "duration": 0.20908200000008037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "edge cases"],
          "fullName": "FatigueBasedPolicy edge cases 应该处理动机为负值的情况",
          "status": "passed",
          "title": "应该处理动机为负值的情况",
          "duration": 0.18995299999994586,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "edge cases"],
          "fullName": "FatigueBasedPolicy edge cases 应该处理认知能力不平衡的情况",
          "status": "passed",
          "title": "应该处理认知能力不平衡的情况",
          "duration": 0.17891799999995328,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "context parameters"],
          "fullName": "FatigueBasedPolicy context parameters 应该接受可选的上下文参数",
          "status": "passed",
          "title": "应该接受可选的上下文参数",
          "duration": 0.25216899999998077,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "context parameters"],
          "fullName": "FatigueBasedPolicy context parameters 没有上下文参数也应该正常工作",
          "status": "passed",
          "title": "没有上下文参数也应该正常工作",
          "duration": 0.24834200000009332,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "policy consistency"],
          "fullName": "FatigueBasedPolicy policy consistency 相同状态应该产生相同的策略参数",
          "status": "passed",
          "title": "相同状态应该产生相同的策略参数",
          "duration": 0.3431830000000673,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "policy consistency"],
          "fullName": "FatigueBasedPolicy policy consistency 状态微小变化应该产生稳定的策略",
          "status": "failed",
          "title": "状态微小变化应该产生稳定的策略",
          "duration": 1.9706079999999702,
          "failureMessages": [
            "AssertionError: expected 'mid' to be 'hard' // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:629:34\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "factory function"],
          "fullName": "FatigueBasedPolicy factory function 工厂函数应该创建新实例",
          "status": "passed",
          "title": "工厂函数应该创建新实例",
          "duration": 0.4334720000000516,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "factory function"],
          "fullName": "FatigueBasedPolicy factory function 工厂函数创建的实例应该正常工作",
          "status": "passed",
          "title": "工厂函数创建的实例应该正常工作",
          "duration": 0.3276930000000675,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress level transitions"],
          "fullName": "FatigueBasedPolicy stress level transitions 从轻松模式过渡到平衡模式",
          "status": "passed",
          "title": "从轻松模式过渡到平衡模式",
          "duration": 0.339717999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress level transitions"],
          "fullName": "FatigueBasedPolicy stress level transitions 从平衡模式过渡到挑战模式",
          "status": "passed",
          "title": "从平衡模式过渡到挑战模式",
          "duration": 0.25520000000005894,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "stress level transitions"],
          "fullName": "FatigueBasedPolicy stress level transitions 从挑战模式回退到平衡模式",
          "status": "passed",
          "title": "从挑战模式回退到平衡模式",
          "duration": 0.24822900000003756,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "difficulty adjustment"],
          "fullName": "FatigueBasedPolicy difficulty adjustment 低压力 + 高记忆力 = 困难模式",
          "status": "passed",
          "title": "低压力 + 高记忆力 = 困难模式",
          "duration": 0.1751769999999624,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "difficulty adjustment"],
          "fullName": "FatigueBasedPolicy difficulty adjustment 低压力 + 中等记忆力 = 中等难度",
          "status": "passed",
          "title": "低压力 + 中等记忆力 = 中等难度",
          "duration": 0.15694299999995565,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "difficulty adjustment"],
          "fullName": "FatigueBasedPolicy difficulty adjustment 低压力 + 低记忆力 = 中等难度",
          "status": "passed",
          "title": "低压力 + 低记忆力 = 中等难度",
          "duration": 0.1934599999999591,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "difficulty adjustment"],
          "fullName": "FatigueBasedPolicy difficulty adjustment 中等压力 = 始终中等难度",
          "status": "passed",
          "title": "中等压力 = 始终中等难度",
          "duration": 0.2594940000000179,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "difficulty adjustment"],
          "fullName": "FatigueBasedPolicy difficulty adjustment 高压力 = 始终简单难度",
          "status": "passed",
          "title": "高压力 = 始终简单难度",
          "duration": 0.19309499999997115,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "real-world scenarios"],
          "fullName": "FatigueBasedPolicy real-world scenarios 早晨刚开始学习（精力充沛）",
          "status": "passed",
          "title": "早晨刚开始学习（精力充沛）",
          "duration": 1.3112540000000763,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "real-world scenarios"],
          "fullName": "FatigueBasedPolicy real-world scenarios 长时间学习后（疲劳状态）",
          "status": "failed",
          "title": "长时间学习后（疲劳状态）",
          "duration": 1.7212690000000066,
          "failureMessages": [
            "AssertionError: expected 8 to be 5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:889:33\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "real-world scenarios"],
          "fullName": "FatigueBasedPolicy real-world scenarios 学习进展顺利（建立信心）",
          "status": "passed",
          "title": "学习进展顺利（建立信心）",
          "duration": 0.35667799999998806,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["FatigueBasedPolicy", "real-world scenarios"],
          "fullName": "FatigueBasedPolicy real-world scenarios 遇到挫折（需要鼓励）",
          "status": "failed",
          "title": "遇到挫折（需要鼓励）",
          "duration": 1.3206689999999526,
          "failureMessages": [
            "AssertionError: expected 8 to be 5 // Object.is equality\n    at /home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts:924:33\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1240:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1206:10)\n    at file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:37\n    at Traces.$ (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///home/liji/danci/danci/packages/backend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)\n    at runTest (file:///home/liji/danci/danci/packages/backend/node_modules/@vitest/runner/dist/index.js:1650:12)"
          ],
          "meta": {}
        }
      ],
      "startTime": 1765615901603,
      "endTime": 1765615901647.3206,
      "status": "failed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/policies/fatigue-based.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MicroSessionPolicy", "initialization"],
          "fullName": "MicroSessionPolicy initialization 应该使用默认最大单词数量5初始化",
          "status": "passed",
          "title": "应该使用默认最大单词数量5初始化",
          "duration": 6.697427999999945,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "initialization"],
          "fullName": "MicroSessionPolicy initialization 应该接受自定义最大单词数量",
          "status": "passed",
          "title": "应该接受自定义最大单词数量",
          "duration": 0.6391229999999268,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "initialization"],
          "fullName": "MicroSessionPolicy initialization 应该限制最大单词数量在1-10之间",
          "status": "passed",
          "title": "应该限制最大单词数量在1-10之间",
          "duration": 0.4684700000000248,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "initialization"],
          "fullName": "MicroSessionPolicy initialization 应该正确设置策略名称",
          "status": "passed",
          "title": "应该正确设置策略名称",
          "duration": 0.4194509999999809,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "initialization"],
          "fullName": "MicroSessionPolicy initialization 应该正确返回配置信息",
          "status": "passed",
          "title": "应该正确返回配置信息",
          "duration": 0.6325570000000198,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该在无候选词时返回空结果",
          "status": "passed",
          "title": "应该在无候选词时返回空结果",
          "duration": 1.4103160000000798,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该在候选词数量不超过目标数量时返回全部",
          "status": "passed",
          "title": "应该在候选词数量不超过目标数量时返回全部",
          "duration": 1.6099479999999176,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该选择优先级最高的N个单词",
          "status": "passed",
          "title": "应该选择优先级最高的N个单词",
          "duration": 2.9114629999999124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该优先选择短词",
          "status": "passed",
          "title": "应该优先选择短词",
          "duration": 0.5958820000000742,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该优先选择高遗忘风险的单词",
          "status": "passed",
          "title": "应该优先选择高遗忘风险的单词",
          "duration": 0.8375740000000178,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该尊重上下文中的targetCount",
          "status": "passed",
          "title": "应该尊重上下文中的targetCount",
          "duration": 0.453345000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "selectWords"],
          "fullName": "MicroSessionPolicy selectWords 应该不超过策略配置的maxWords",
          "status": "passed",
          "title": "应该不超过策略配置的maxWords",
          "duration": 0.514677000000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 应该为短词给予更高分数",
          "status": "passed",
          "title": "应该为短词给予更高分数",
          "duration": 0.4440299999999979,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 应该为高遗忘风险单词给予更高分数",
          "status": "passed",
          "title": "应该为高遗忘风险单词给予更高分数",
          "duration": 0.27384399999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 应该为记忆薄弱单词给予更高分数",
          "status": "passed",
          "title": "应该为记忆薄弱单词给予更高分数",
          "duration": 0.4480700000000297,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 应该正确计算综合评分",
          "status": "passed",
          "title": "应该正确计算综合评分",
          "duration": 2.2916930000000093,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 应该处理缺少可选字段的候选词",
          "status": "passed",
          "title": "应该处理缺少可选字段的候选词",
          "duration": 0.4183689999999842,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 短词奖励应该在length<=8时给满分",
          "status": "passed",
          "title": "短词奖励应该在length<=8时给满分",
          "duration": 10.152387999999974,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoring algorithm"],
          "fullName": "MicroSessionPolicy scoring algorithm 短词奖励应该在length>8时线性递减",
          "status": "passed",
          "title": "短词奖励应该在length>8时线性递减",
          "duration": 0.497667999999976,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "quantity limits"],
          "fullName": "MicroSessionPolicy quantity limits 应该允许设置最大单词数量",
          "status": "passed",
          "title": "应该允许设置最大单词数量",
          "duration": 0.1933720000000676,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "quantity limits"],
          "fullName": "MicroSessionPolicy quantity limits 应该限制设置的最大单词数量在1-10之间",
          "status": "passed",
          "title": "应该限制设置的最大单词数量在1-10之间",
          "duration": 0.18628000000001066,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "quantity limits"],
          "fullName": "MicroSessionPolicy quantity limits 应该在多次调用setMaxWords后保持正确值",
          "status": "passed",
          "title": "应该在多次调用setMaxWords后保持正确值",
          "duration": 0.17173000000002503,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "edge cases"],
          "fullName": "MicroSessionPolicy edge cases 应该处理所有候选词分数相同的情况",
          "status": "passed",
          "title": "应该处理所有候选词分数相同的情况",
          "duration": 0.526204000000007,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "edge cases"],
          "fullName": "MicroSessionPolicy edge cases 应该处理未复习过的单词",
          "status": "passed",
          "title": "应该处理未复习过的单词",
          "duration": 6.581618000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "edge cases"],
          "fullName": "MicroSessionPolicy edge cases 应该处理没有lastReviewTime的单词",
          "status": "passed",
          "title": "应该处理没有lastReviewTime的单词",
          "duration": 0.7306879999999865,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "edge cases"],
          "fullName": "MicroSessionPolicy edge cases 应该处理没有timestamp的context",
          "status": "passed",
          "title": "应该处理没有timestamp的context",
          "duration": 0.7356770000000097,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "factory and defaults"],
          "fullName": "MicroSessionPolicy factory and defaults 工厂函数应该创建新实例",
          "status": "passed",
          "title": "工厂函数应该创建新实例",
          "duration": 1.0405289999999923,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "factory and defaults"],
          "fullName": "MicroSessionPolicy factory and defaults 工厂函数应该接受自定义maxWords",
          "status": "passed",
          "title": "工厂函数应该接受自定义maxWords",
          "duration": 0.22002899999995407,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "factory and defaults"],
          "fullName": "MicroSessionPolicy factory and defaults 默认实例应该可用",
          "status": "passed",
          "title": "默认实例应该可用",
          "duration": 0.238770000000045,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoreAll"],
          "fullName": "MicroSessionPolicy scoreAll 应该返回所有候选词的详细评分",
          "status": "passed",
          "title": "应该返回所有候选词的详细评分",
          "duration": 1.1698340000000371,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "scoreAll"],
          "fullName": "MicroSessionPolicy scoreAll 应该为空数组返回空结果",
          "status": "passed",
          "title": "应该为空数组返回空结果",
          "duration": 0.9746939999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "forgetting risk calculation"],
          "fullName": "MicroSessionPolicy forgetting risk calculation 应该使用提供的forgettingRisk值",
          "status": "passed",
          "title": "应该使用提供的forgettingRisk值",
          "duration": 0.7387850000000071,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "forgetting risk calculation"],
          "fullName": "MicroSessionPolicy forgetting risk calculation 对于没有复习过的单词应该返回最高风险",
          "status": "passed",
          "title": "对于没有复习过的单词应该返回最高风险",
          "duration": 1.4215300000000752,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "forgetting risk calculation"],
          "fullName": "MicroSessionPolicy forgetting risk calculation 应该基于时间和复习次数计算遗忘风险",
          "status": "passed",
          "title": "应该基于时间和复习次数计算遗忘风险",
          "duration": 0.4990770000000566,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "forgetting risk calculation"],
          "fullName": "MicroSessionPolicy forgetting risk calculation 复习次数越多，遗忘风险应该越低",
          "status": "passed",
          "title": "复习次数越多，遗忘风险应该越低",
          "duration": 0.3536510000000135,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "memory weakness calculation"],
          "fullName": "MicroSessionPolicy memory weakness calculation 应该直接使用提供的memoryStrength",
          "status": "passed",
          "title": "应该直接使用提供的memoryStrength",
          "duration": 0.33795100000008915,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "memory weakness calculation"],
          "fullName": "MicroSessionPolicy memory weakness calculation 对于没有reviewCount的单词应该返回最高薄弱度",
          "status": "passed",
          "title": "对于没有reviewCount的单词应该返回最高薄弱度",
          "duration": 0.1862140000000636,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "memory weakness calculation"],
          "fullName": "MicroSessionPolicy memory weakness calculation 复习次数越多，记忆薄弱度应该越低",
          "status": "passed",
          "title": "复习次数越多，记忆薄弱度应该越低",
          "duration": 0.2588630000000194,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "memory weakness calculation"],
          "fullName": "MicroSessionPolicy memory weakness calculation 记忆薄弱度应该有最小值0.2",
          "status": "passed",
          "title": "记忆薄弱度应该有最小值0.2",
          "duration": 0.23821899999995821,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "short word bonus detailed"],
          "fullName": "MicroSessionPolicy short word bonus detailed 应该为没有length信息的单词返回中等分数",
          "status": "passed",
          "title": "应该为没有length信息的单词返回中等分数",
          "duration": 0.3234270000000379,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "short word bonus detailed"],
          "fullName": "MicroSessionPolicy short word bonus detailed 长度为8的单词应该得满分",
          "status": "passed",
          "title": "长度为8的单词应该得满分",
          "duration": 0.1746140000000196,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "short word bonus detailed"],
          "fullName": "MicroSessionPolicy short word bonus detailed 长度为9-12的单词应该线性递减",
          "status": "passed",
          "title": "长度为9-12的单词应该线性递减",
          "duration": 0.2060189999999693,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "short word bonus detailed"],
          "fullName": "MicroSessionPolicy short word bonus detailed 长度大于12的单词应该得低分",
          "status": "passed",
          "title": "长度大于12的单词应该得低分",
          "duration": 0.2693500000000313,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "short word bonus detailed"],
          "fullName": "MicroSessionPolicy short word bonus detailed 极长单词的奖励应该不低于0",
          "status": "passed",
          "title": "极长单词的奖励应该不低于0",
          "duration": 0.16167200000006687,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "comprehensive scenarios"],
          "fullName": "MicroSessionPolicy comprehensive scenarios 应该正确处理混合场景：新词、复习词、高风险词",
          "status": "passed",
          "title": "应该正确处理混合场景：新词、复习词、高风险词",
          "duration": 0.4872160000001031,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "comprehensive scenarios"],
          "fullName": "MicroSessionPolicy comprehensive scenarios 应该在碎片时间场景下选择最合适的单词",
          "status": "passed",
          "title": "应该在碎片时间场景下选择最合适的单词",
          "duration": 0.4014630000000352,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "comprehensive scenarios"],
          "fullName": "MicroSessionPolicy comprehensive scenarios 应该正确计算权重组合",
          "status": "passed",
          "title": "应该正确计算权重组合",
          "duration": 0.21514799999999923,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "performance and stability"],
          "fullName": "MicroSessionPolicy performance and stability 应该能处理大量候选词",
          "status": "passed",
          "title": "应该能处理大量候选词",
          "duration": 0.48799399999995785,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "performance and stability"],
          "fullName": "MicroSessionPolicy performance and stability 应该能稳定排序相同分数的单词",
          "status": "passed",
          "title": "应该能稳定排序相同分数的单词",
          "duration": 0.33201499999995576,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MicroSessionPolicy", "performance and stability"],
          "fullName": "MicroSessionPolicy performance and stability 应该处理极端的timestamp值",
          "status": "passed",
          "title": "应该处理极端的timestamp值",
          "duration": 8.496492999999987,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911790,
      "endTime": 1765615911852.4966,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/policies/micro-session-policy.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["DecisionRecorderService", "initialization"],
          "fullName": "DecisionRecorderService initialization should create service instance",
          "status": "passed",
          "title": "should create service instance",
          "duration": 6.557610999999952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "initialization"],
          "fullName": "DecisionRecorderService initialization should start with empty queue",
          "status": "passed",
          "title": "should start with empty queue",
          "duration": 1.415077999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "initialization"],
          "fullName": "DecisionRecorderService initialization should setup periodic flush timer",
          "status": "passed",
          "title": "should setup periodic flush timer",
          "duration": 2.9717449999999417,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "record"],
          "fullName": "DecisionRecorderService record should add trace to queue",
          "status": "passed",
          "title": "should add trace to queue",
          "duration": 1.8939759999999524,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "record"],
          "fullName": "DecisionRecorderService record should trigger flush when not already flushing",
          "status": "passed",
          "title": "should trigger flush when not already flushing",
          "duration": 1.9387449999999262,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "record"],
          "fullName": "DecisionRecorderService record should update queue size metrics",
          "status": "passed",
          "title": "should update queue size metrics",
          "duration": 11.111626000000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "record"],
          "fullName": "DecisionRecorderService record should handle trace without optional fields",
          "status": "passed",
          "title": "should handle trace without optional fields",
          "duration": 2.2448419999999487,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "record"],
          "fullName": "DecisionRecorderService record should record multiple traces",
          "status": "passed",
          "title": "should record multiple traces",
          "duration": 1.061125000000061,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "flush"],
          "fullName": "DecisionRecorderService flush should do nothing when queue is empty",
          "status": "passed",
          "title": "should do nothing when queue is empty",
          "duration": 1.4832230000000663,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "flush"],
          "fullName": "DecisionRecorderService flush should do nothing when already flushing",
          "status": "passed",
          "title": "should do nothing when already flushing",
          "duration": 1.218654000000015,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "flush"],
          "fullName": "DecisionRecorderService flush should process batch and persist traces",
          "status": "passed",
          "title": "should process batch and persist traces",
          "duration": 2.0786520000000337,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "flush"],
          "fullName": "DecisionRecorderService flush should emit decision event after successful persist",
          "status": "passed",
          "title": "should emit decision event after successful persist",
          "duration": 4.485650000000078,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "flush"],
          "fullName": "DecisionRecorderService flush should update queue size after flush",
          "status": "passed",
          "title": "should update queue size after flush",
          "duration": 1.5678080000000136,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "retry mechanism"],
          "fullName": "DecisionRecorderService retry mechanism should retry on failure",
          "status": "passed",
          "title": "should retry on failure",
          "duration": 2.099014000000011,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "retry mechanism"],
          "fullName": "DecisionRecorderService retry mechanism should use exponential backoff",
          "status": "passed",
          "title": "should use exponential backoff",
          "duration": 4.364780999999994,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "retry mechanism"],
          "fullName": "DecisionRecorderService retry mechanism should record failure after all retries exhausted",
          "status": "passed",
          "title": "should record failure after all retries exhausted",
          "duration": 3.8934189999999944,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "retry mechanism"],
          "fullName": "DecisionRecorderService retry mechanism should mark decision as failed when all retries fail",
          "status": "passed",
          "title": "should mark decision as failed when all retries fail",
          "duration": 1.6521320000000514,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "idempotency"],
          "fullName": "DecisionRecorderService idempotency should update existing record instead of creating duplicate",
          "status": "passed",
          "title": "should update existing record instead of creating duplicate",
          "duration": 1.3286550000000261,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "idempotency"],
          "fullName": "DecisionRecorderService idempotency should create new record when not existing",
          "status": "passed",
          "title": "should create new record when not existing",
          "duration": 1.4898050000000467,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "idempotency"],
          "fullName": "DecisionRecorderService idempotency should delete existing pipeline stages before creating new ones",
          "status": "passed",
          "title": "should delete existing pipeline stages before creating new ones",
          "duration": 1.8986790000000155,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "backpressure"],
          "fullName": "DecisionRecorderService backpressure should apply backpressure when queue is full",
          "status": "passed",
          "title": "should apply backpressure when queue is full",
          "duration": 156.63099499999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "backpressure"],
          "fullName": "DecisionRecorderService backpressure should record backpressure metrics when queue is full",
          "status": "passed",
          "title": "should record backpressure metrics when queue is full",
          "duration": 127.69162700000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "backpressure"],
          "fullName": "DecisionRecorderService backpressure should release backpressure after batch processing",
          "status": "passed",
          "title": "should release backpressure after batch processing",
          "duration": 1.0908100000000331,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "decision insight"],
          "fullName": "DecisionRecorderService decision insight should write decision insight when userId and stateSnapshot exist",
          "status": "passed",
          "title": "should write decision insight when userId and stateSnapshot exist",
          "duration": 1.1026109999999107,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "decision insight"],
          "fullName": "DecisionRecorderService decision insight should skip decision insight when userId is missing",
          "status": "passed",
          "title": "should skip decision insight when userId is missing",
          "duration": 1.4393989999999803,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "decision insight"],
          "fullName": "DecisionRecorderService decision insight should skip decision insight when stateSnapshot is missing",
          "status": "passed",
          "title": "should skip decision insight when stateSnapshot is missing",
          "duration": 1.2826499999999896,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "decision insight"],
          "fullName": "DecisionRecorderService decision insight should not block main flow when insight write fails",
          "status": "passed",
          "title": "should not block main flow when insight write fails",
          "duration": 2.0290789999999106,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "pipeline stages"],
          "fullName": "DecisionRecorderService pipeline stages should create pipeline stages when present",
          "status": "passed",
          "title": "should create pipeline stages when present",
          "duration": 2.3749050000000125,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "pipeline stages"],
          "fullName": "DecisionRecorderService pipeline stages should skip pipeline stage creation when stages array is empty",
          "status": "passed",
          "title": "should skip pipeline stage creation when stages array is empty",
          "duration": 1.412649999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "pipeline stages"],
          "fullName": "DecisionRecorderService pipeline stages should handle stages with error messages",
          "status": "passed",
          "title": "should handle stages with error messages",
          "duration": 1.6744119999999612,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "cleanup"],
          "fullName": "DecisionRecorderService cleanup should clear flush timer on cleanup",
          "status": "passed",
          "title": "should clear flush timer on cleanup",
          "duration": 1.2065069999999878,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "cleanup"],
          "fullName": "DecisionRecorderService cleanup should flush remaining traces on cleanup",
          "status": "passed",
          "title": "should flush remaining traces on cleanup",
          "duration": 1.3556889999998702,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "cleanup"],
          "fullName": "DecisionRecorderService cleanup should handle cleanup when already cleaned",
          "status": "passed",
          "title": "should handle cleanup when already cleaned",
          "duration": 1.2737620000000334,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "getQueueStats"],
          "fullName": "DecisionRecorderService getQueueStats should return correct queue statistics",
          "status": "passed",
          "title": "should return correct queue statistics",
          "duration": 2.1300360000000182,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "getQueueStats"],
          "fullName": "DecisionRecorderService getQueueStats should update queue length after adding traces",
          "status": "passed",
          "title": "should update queue length after adding traces",
          "duration": 5.075137999999924,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "periodic flush"],
          "fullName": "DecisionRecorderService periodic flush should trigger flush periodically when queue has items",
          "status": "passed",
          "title": "should trigger flush periodically when queue has items",
          "duration": 1.5045990000000984,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "periodic flush"],
          "fullName": "DecisionRecorderService periodic flush should not flush when queue is empty",
          "status": "passed",
          "title": "should not flush when queue is empty",
          "duration": 1.2932749999999942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "concurrent processing"],
          "fullName": "DecisionRecorderService concurrent processing should handle concurrent record calls",
          "status": "passed",
          "title": "should handle concurrent record calls",
          "duration": 3.029940000000124,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "concurrent processing"],
          "fullName": "DecisionRecorderService concurrent processing should maintain queue integrity under concurrent load",
          "status": "passed",
          "title": "should maintain queue integrity under concurrent load",
          "duration": 1.617238000000043,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "edge cases"],
          "fullName": "DecisionRecorderService edge cases should handle trace with null optional fields",
          "status": "passed",
          "title": "should handle trace with null optional fields",
          "duration": 1.4753760000000966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "edge cases"],
          "fullName": "DecisionRecorderService edge cases should handle trace with large stateSnapshot",
          "status": "passed",
          "title": "should handle trace with large stateSnapshot",
          "duration": 1.5357750000000578,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "edge cases"],
          "fullName": "DecisionRecorderService edge cases should handle trace with many stages",
          "status": "passed",
          "title": "should handle trace with many stages",
          "duration": 1.769804000000022,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "edge cases"],
          "fullName": "DecisionRecorderService edge cases should handle empty selectedAction",
          "status": "passed",
          "title": "should handle empty selectedAction",
          "duration": 1.8288450000000012,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "edge cases"],
          "fullName": "DecisionRecorderService edge cases should handle confidence at boundaries",
          "status": "passed",
          "title": "should handle confidence at boundaries",
          "duration": 2.56890199999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "error handling"],
          "fullName": "DecisionRecorderService error handling should log error when persist fails",
          "status": "passed",
          "title": "should log error when persist fails",
          "duration": 5.267094000000043,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "error handling"],
          "fullName": "DecisionRecorderService error handling should handle transaction error gracefully",
          "status": "passed",
          "title": "should handle transaction error gracefully",
          "duration": 1.8080019999999877,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "error handling"],
          "fullName": "DecisionRecorderService error handling should handle markAsFailed error",
          "status": "passed",
          "title": "should handle markAsFailed error",
          "duration": 1.0287779999998747,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "simulation traces"],
          "fullName": "DecisionRecorderService simulation traces should handle simulation traces correctly",
          "status": "passed",
          "title": "should handle simulation traces correctly",
          "duration": 0.9240819999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["DecisionRecorderService", "simulation traces"],
          "fullName": "DecisionRecorderService simulation traces should emit decision event for simulation",
          "status": "passed",
          "title": "should emit decision event for simulation",
          "duration": 1.8940299999999297,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Factory Functions", "createDecisionRecorder"],
          "fullName": "Factory Functions createDecisionRecorder should create new instance",
          "status": "passed",
          "title": "should create new instance",
          "duration": 0.6482670000000326,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Factory Functions", "createDecisionRecorder"],
          "fullName": "Factory Functions createDecisionRecorder should create independent instances",
          "status": "passed",
          "title": "should create independent instances",
          "duration": 1.194435999999996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Factory Functions", "generateDecisionId"],
          "fullName": "Factory Functions generateDecisionId should generate unique IDs",
          "status": "passed",
          "title": "should generate unique IDs",
          "duration": 3.7347429999999804,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["Factory Functions", "generateDecisionId"],
          "fullName": "Factory Functions generateDecisionId should generate string IDs",
          "status": "passed",
          "title": "should generate string IDs",
          "duration": 2.8690529999998944,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["markAsFailed branches"],
          "fullName": "markAsFailed branches should update existing record when marking as failed",
          "status": "passed",
          "title": "should update existing record when marking as failed",
          "duration": 9.167833999999857,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["markAsFailed branches"],
          "fullName": "markAsFailed branches should create new failed record when no existing record",
          "status": "passed",
          "title": "should create new failed record when no existing record",
          "duration": 2.282809000000043,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["feature vector hashing"],
          "fullName": "feature vector hashing should generate consistent hash for same state",
          "status": "passed",
          "title": "should generate consistent hash for same state",
          "duration": 2.580349999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["feature vector hashing"],
          "fullName": "feature vector hashing should generate different hash for different state",
          "status": "passed",
          "title": "should generate different hash for different state",
          "duration": 3.579821000000038,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615903820,
      "endTime": 1765615904241.5798,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/services/decision-recorder.service.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle parameter space with very small range",
          "status": "passed",
          "title": "should handle parameter space with very small range",
          "duration": 2.2234569999999394,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle parameter space with very large range",
          "status": "passed",
          "title": "should handle parameter space with very large range",
          "duration": 0.6479100000000244,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle negative parameter bounds",
          "status": "passed",
          "title": "should handle negative parameter bounds",
          "duration": 0.3870440000000599,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle single point parameter space (min === max)",
          "status": "passed",
          "title": "should handle single point parameter space (min === max)",
          "duration": 0.47252500000001874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle extremely small step size",
          "status": "passed",
          "title": "should handle extremely small step size",
          "duration": 0.5173549999999523,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle very large step size",
          "status": "passed",
          "title": "should handle very large step size",
          "duration": 6.358590000000049,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle extreme evaluation values",
          "status": "passed",
          "title": "should handle extreme evaluation values",
          "duration": 0.710350999999946,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "extreme parameter values"],
          "fullName": "BayesianOptimizer - Boundary Conditions extreme parameter values should handle very small evaluation values",
          "status": "passed",
          "title": "should handle very small evaluation values",
          "duration": 0.23311200000000554,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should return null for getBest when no evaluations",
          "status": "passed",
          "title": "should return null for getBest when no evaluations",
          "duration": 0.36600700000008146,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should return empty array for getObservations when no evaluations",
          "status": "passed",
          "title": "should return empty array for getObservations when no evaluations",
          "duration": 0.934385999999904,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should return 0 for getEvaluationCount when no evaluations",
          "status": "passed",
          "title": "should return 0 for getEvaluationCount when no evaluations",
          "duration": 0.22697099999993497,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should throw error for dimension mismatch in recordEvaluation",
          "status": "passed",
          "title": "should throw error for dimension mismatch in recordEvaluation",
          "duration": 0.9558509999999387,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should handle null state restoration gracefully",
          "status": "passed",
          "title": "should handle null state restoration gracefully",
          "duration": 1.084161999999992,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should handle empty state restoration",
          "status": "passed",
          "title": "should handle empty state restoration",
          "duration": 0.2342869999999948,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should handle state with missing best",
          "status": "passed",
          "title": "should handle state with missing best",
          "duration": 0.2787660000000187,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "BayesianOptimizer - Boundary Conditions",
            "empty and missing data handling"
          ],
          "fullName": "BayesianOptimizer - Boundary Conditions empty and missing data handling should handle objectToParams with missing values",
          "status": "passed",
          "title": "should handle objectToParams with missing values",
          "duration": 0.21230000000002747,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "algorithm convergence"],
          "fullName": "BayesianOptimizer - Boundary Conditions algorithm convergence should converge on simple quadratic function",
          "status": "passed",
          "title": "should converge on simple quadratic function",
          "duration": 52.37561800000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "algorithm convergence"],
          "fullName": "BayesianOptimizer - Boundary Conditions algorithm convergence should improve best value over iterations",
          "status": "passed",
          "title": "should improve best value over iterations",
          "duration": 48.966274,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "algorithm convergence"],
          "fullName": "BayesianOptimizer - Boundary Conditions algorithm convergence should handle flat objective function",
          "status": "passed",
          "title": "should handle flat objective function",
          "duration": 27.267002000000048,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "algorithm convergence"],
          "fullName": "BayesianOptimizer - Boundary Conditions algorithm convergence should handle noisy objective function",
          "status": "passed",
          "title": "should handle noisy objective function",
          "duration": 32.89714300000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "numerical stability"],
          "fullName": "BayesianOptimizer - Boundary Conditions numerical stability should handle many observations without NaN in posterior",
          "status": "passed",
          "title": "should handle many observations without NaN in posterior",
          "duration": 817.2583950000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "numerical stability"],
          "fullName": "BayesianOptimizer - Boundary Conditions numerical stability should handle nearly identical observations",
          "status": "passed",
          "title": "should handle nearly identical observations",
          "duration": 0.8965610000000197,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "numerical stability"],
          "fullName": "BayesianOptimizer - Boundary Conditions numerical stability should produce finite acquisition values for all parameter combinations",
          "status": "passed",
          "title": "should produce finite acquisition values for all parameter combinations",
          "duration": 5.508912000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "numerical stability"],
          "fullName": "BayesianOptimizer - Boundary Conditions numerical stability should handle computation with extreme beta values",
          "status": "passed",
          "title": "should handle computation with extreme beta values",
          "duration": 0.41609999999991487,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "numerical stability"],
          "fullName": "BayesianOptimizer - Boundary Conditions numerical stability should handle zero variance in EI computation",
          "status": "passed",
          "title": "should handle zero variance in EI computation",
          "duration": 0.3553469999999379,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "batch suggestions"],
          "fullName": "BayesianOptimizer - Boundary Conditions batch suggestions should return correct number of suggestions in batch",
          "status": "passed",
          "title": "should return correct number of suggestions in batch",
          "duration": 1.3213450000000648,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "batch suggestions"],
          "fullName": "BayesianOptimizer - Boundary Conditions batch suggestions should return diverse suggestions in batch",
          "status": "passed",
          "title": "should return diverse suggestions in batch",
          "duration": 1.0523520000001554,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "batch suggestions"],
          "fullName": "BayesianOptimizer - Boundary Conditions batch suggestions should handle batch size of 1",
          "status": "passed",
          "title": "should handle batch size of 1",
          "duration": 0.23961899999994785,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "batch suggestions"],
          "fullName": "BayesianOptimizer - Boundary Conditions batch suggestions should handle large batch size",
          "status": "passed",
          "title": "should handle large batch size",
          "duration": 222.6211740000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "batch suggestions"],
          "fullName": "BayesianOptimizer - Boundary Conditions batch suggestions should not permanently modify observations after batch",
          "status": "passed",
          "title": "should not permanently modify observations after batch",
          "duration": 13.13765699999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "error recovery"],
          "fullName": "BayesianOptimizer - Boundary Conditions error recovery should recover from Cholesky decomposition issues",
          "status": "passed",
          "title": "should recover from Cholesky decomposition issues",
          "duration": 191.550481,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "error recovery"],
          "fullName": "BayesianOptimizer - Boundary Conditions error recovery should handle state restoration with invalid observations",
          "status": "passed",
          "title": "should handle state restoration with invalid observations",
          "duration": 1.3484390000000985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "error recovery"],
          "fullName": "BayesianOptimizer - Boundary Conditions error recovery should reset cleanly",
          "status": "passed",
          "title": "should reset cleanly",
          "duration": 15.040038999999979,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "error recovery"],
          "fullName": "BayesianOptimizer - Boundary Conditions error recovery should handle version mismatch in state restoration",
          "status": "passed",
          "title": "should handle version mismatch in state restoration",
          "duration": 0.30880600000000413,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "stopping criteria"],
          "fullName": "BayesianOptimizer - Boundary Conditions stopping criteria should not stop initially",
          "status": "passed",
          "title": "should not stop initially",
          "duration": 0.17607799999996132,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "stopping criteria"],
          "fullName": "BayesianOptimizer - Boundary Conditions stopping criteria should stop after max evaluations",
          "status": "passed",
          "title": "should stop after max evaluations",
          "duration": 0.40982800000006137,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "stopping criteria"],
          "fullName": "BayesianOptimizer - Boundary Conditions stopping criteria should respect custom max evaluations",
          "status": "passed",
          "title": "should respect custom max evaluations",
          "duration": 0.21146599999997306,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "configuration handling"],
          "fullName": "BayesianOptimizer - Boundary Conditions configuration handling should use default config when none provided",
          "status": "passed",
          "title": "should use default config when none provided",
          "duration": 0.19071699999994962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "configuration handling"],
          "fullName": "BayesianOptimizer - Boundary Conditions configuration handling should accept custom noise variance",
          "status": "passed",
          "title": "should accept custom noise variance",
          "duration": 0.20352300000013201,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "configuration handling"],
          "fullName": "BayesianOptimizer - Boundary Conditions configuration handling should accept custom length scales",
          "status": "passed",
          "title": "should accept custom length scales",
          "duration": 0.19814399999995658,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "configuration handling"],
          "fullName": "BayesianOptimizer - Boundary Conditions configuration handling should accept custom output variance",
          "status": "passed",
          "title": "should accept custom output variance",
          "duration": 0.397275000000036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "configuration handling"],
          "fullName": "BayesianOptimizer - Boundary Conditions configuration handling should accept custom initial samples",
          "status": "passed",
          "title": "should accept custom initial samples",
          "duration": 0.5797669999999471,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "prior distribution"],
          "fullName": "BayesianOptimizer - Boundary Conditions prior distribution should return correct prior when no observations",
          "status": "passed",
          "title": "should return correct prior when no observations",
          "duration": 0.7185179999999036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "prior distribution"],
          "fullName": "BayesianOptimizer - Boundary Conditions prior distribution should have UCB equal to 1.0 for no observations",
          "status": "passed",
          "title": "should have UCB equal to 1.0 for no observations",
          "duration": 0.17694000000005872,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer - Boundary Conditions", "prior distribution"],
          "fullName": "BayesianOptimizer - Boundary Conditions prior distribution should have EI equal to 1.0 for no observations",
          "status": "passed",
          "title": "should have EI equal to 1.0 for no observations",
          "duration": 0.19527199999993172,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902189,
      "endTime": 1765615903643.1953,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/optimization/bayesian-optimizer-boundary.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["BayesianOptimizer", "initialization"],
          "fullName": "BayesianOptimizer initialization should initialize with default config",
          "status": "passed",
          "title": "should initialize with default config",
          "duration": 2.334113000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "initialization"],
          "fullName": "BayesianOptimizer initialization should accept custom param space",
          "status": "passed",
          "title": "should accept custom param space",
          "duration": 0.629004000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "initialization"],
          "fullName": "BayesianOptimizer initialization should accept UCB acquisition type",
          "status": "passed",
          "title": "should accept UCB acquisition type",
          "duration": 0.4274599999999964,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "initialization"],
          "fullName": "BayesianOptimizer initialization should accept EI acquisition type",
          "status": "passed",
          "title": "should accept EI acquisition type",
          "duration": 0.3582010000000082,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "initialization"],
          "fullName": "BayesianOptimizer initialization should accept custom beta parameter",
          "status": "passed",
          "title": "should accept custom beta parameter",
          "duration": 0.23913000000004558,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "suggestNext"],
          "fullName": "BayesianOptimizer suggestNext should return random sample during initial phase",
          "status": "passed",
          "title": "should return random sample during initial phase",
          "duration": 0.48652800000002117,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "suggestNext"],
          "fullName": "BayesianOptimizer suggestNext should return samples within bounds",
          "status": "passed",
          "title": "should return samples within bounds",
          "duration": 2.9258630000000494,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "suggestNext"],
          "fullName": "BayesianOptimizer suggestNext should use GP after initial samples",
          "status": "passed",
          "title": "should use GP after initial samples",
          "duration": 14.76956400000006,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "suggestNext"],
          "fullName": "BayesianOptimizer suggestNext should discretize values when step is specified",
          "status": "passed",
          "title": "should discretize values when step is specified",
          "duration": 1.0805110000000013,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "recordEvaluation"],
          "fullName": "BayesianOptimizer recordEvaluation should record evaluation",
          "status": "passed",
          "title": "should record evaluation",
          "duration": 0.40061100000002625,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "recordEvaluation"],
          "fullName": "BayesianOptimizer recordEvaluation should throw error for dimension mismatch",
          "status": "passed",
          "title": "should throw error for dimension mismatch",
          "duration": 1.4182350000000952,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "recordEvaluation"],
          "fullName": "BayesianOptimizer recordEvaluation should update best when better value found",
          "status": "passed",
          "title": "should update best when better value found",
          "duration": 0.25517100000001847,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "recordEvaluation"],
          "fullName": "BayesianOptimizer recordEvaluation should not update best when worse value found",
          "status": "passed",
          "title": "should not update best when worse value found",
          "duration": 0.13490899999999328,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getBest"],
          "fullName": "BayesianOptimizer getBest should return null when no evaluations",
          "status": "passed",
          "title": "should return null when no evaluations",
          "duration": 0.1334510000000364,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getBest"],
          "fullName": "BayesianOptimizer getBest should return best params and value",
          "status": "passed",
          "title": "should return best params and value",
          "duration": 0.6990479999999479,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getBest"],
          "fullName": "BayesianOptimizer getBest should return copy of params",
          "status": "passed",
          "title": "should return copy of params",
          "duration": 0.8357840000001033,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getPosterior"],
          "fullName": "BayesianOptimizer getPosterior should return prior when no observations",
          "status": "passed",
          "title": "should return prior when no observations",
          "duration": 0.29948300000000927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getPosterior"],
          "fullName": "BayesianOptimizer getPosterior should return posterior after observations",
          "status": "passed",
          "title": "should return posterior after observations",
          "duration": 0.6861209999999573,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "computeAcquisition"],
          "fullName": "BayesianOptimizer computeAcquisition should compute UCB by default",
          "status": "passed",
          "title": "should compute UCB by default",
          "duration": 0.23510499999997592,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "computeAcquisition"],
          "fullName": "BayesianOptimizer computeAcquisition should compute EI when configured",
          "status": "passed",
          "title": "should compute EI when configured",
          "duration": 0.34361699999999473,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "computeAcquisition"],
          "fullName": "BayesianOptimizer computeAcquisition should return meaningful UCB after observations",
          "status": "passed",
          "title": "should return meaningful UCB after observations",
          "duration": 0.31823500000007243,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "computeAcquisition"],
          "fullName": "BayesianOptimizer computeAcquisition should return meaningful EI after observations",
          "status": "passed",
          "title": "should return meaningful EI after observations",
          "duration": 0.3880290000000741,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "suggestBatch"],
          "fullName": "BayesianOptimizer suggestBatch should return requested number of suggestions",
          "status": "passed",
          "title": "should return requested number of suggestions",
          "duration": 0.5859849999999369,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "suggestBatch"],
          "fullName": "BayesianOptimizer suggestBatch should return diverse suggestions",
          "status": "passed",
          "title": "should return diverse suggestions",
          "duration": 0.37768500000004224,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "shouldStop"],
          "fullName": "BayesianOptimizer shouldStop should not stop initially",
          "status": "passed",
          "title": "should not stop initially",
          "duration": 0.4877039999998942,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "shouldStop"],
          "fullName": "BayesianOptimizer shouldStop should stop after max evaluations",
          "status": "passed",
          "title": "should stop after max evaluations",
          "duration": 1.6789380000000165,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getObservations"],
          "fullName": "BayesianOptimizer getObservations should return empty array initially",
          "status": "passed",
          "title": "should return empty array initially",
          "duration": 1.2447760000000017,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getObservations"],
          "fullName": "BayesianOptimizer getObservations should return all observations",
          "status": "passed",
          "title": "should return all observations",
          "duration": 1.0683179999999766,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "getObservations"],
          "fullName": "BayesianOptimizer getObservations should return copies of observations",
          "status": "passed",
          "title": "should return copies of observations",
          "duration": 0.9017290000000457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "paramsToObject"],
          "fullName": "BayesianOptimizer paramsToObject should convert params array to named object",
          "status": "passed",
          "title": "should convert params array to named object",
          "duration": 0.38915799999995215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "objectToParams"],
          "fullName": "BayesianOptimizer objectToParams should convert named object to params array",
          "status": "passed",
          "title": "should convert named object to params array",
          "duration": 0.29897699999992255,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "objectToParams"],
          "fullName": "BayesianOptimizer objectToParams should use midpoint for missing values",
          "status": "passed",
          "title": "should use midpoint for missing values",
          "duration": 0.2890229999999292,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "state persistence"],
          "fullName": "BayesianOptimizer state persistence should export state",
          "status": "passed",
          "title": "should export state",
          "duration": 0.38192400000002635,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "state persistence"],
          "fullName": "BayesianOptimizer state persistence should import state",
          "status": "passed",
          "title": "should import state",
          "duration": 0.6970649999999523,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "state persistence"],
          "fullName": "BayesianOptimizer state persistence should handle invalid state gracefully",
          "status": "passed",
          "title": "should handle invalid state gracefully",
          "duration": 1.0373439999999619,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "state persistence"],
          "fullName": "BayesianOptimizer state persistence should rebuild best from observations if missing",
          "status": "passed",
          "title": "should rebuild best from observations if missing",
          "duration": 0.4888670000000275,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "reset"],
          "fullName": "BayesianOptimizer reset should clear all data",
          "status": "passed",
          "title": "should clear all data",
          "duration": 0.5991189999999733,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "optimization quality"],
          "fullName": "BayesianOptimizer optimization quality should find good solution for simple function",
          "status": "passed",
          "title": "should find good solution for simple function",
          "duration": 17.050572999999986,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "numerical stability"],
          "fullName": "BayesianOptimizer numerical stability should handle many observations without NaN",
          "status": "passed",
          "title": "should handle many observations without NaN",
          "duration": 194.38354600000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["BayesianOptimizer", "numerical stability"],
          "fullName": "BayesianOptimizer numerical stability should handle nearly identical observations",
          "status": "passed",
          "title": "should handle nearly identical observations",
          "duration": 0.623519999999985,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getDefaultParamSpace"],
          "fullName": "getDefaultParamSpace should return default AMAS param space",
          "status": "passed",
          "title": "should return default AMAS param space",
          "duration": 1.1678289999999834,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["getDefaultParamSpace"],
          "fullName": "getDefaultParamSpace should return copy of space",
          "status": "passed",
          "title": "should return copy of space",
          "duration": 0.44339400000001206,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createAMASOptimizer"],
          "fullName": "createAMASOptimizer should create optimizer with AMAS defaults",
          "status": "passed",
          "title": "should create optimizer with AMAS defaults",
          "duration": 0.22694400000000314,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["createAMASOptimizer"],
          "fullName": "createAMASOptimizer should accept custom max evaluations",
          "status": "passed",
          "title": "should accept custom max evaluations",
          "duration": 800.2299260000001,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615902187,
      "endTime": 1765615903245.23,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/optimization/bayesian-optimizer.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle zero accuracy",
          "status": "passed",
          "title": "should handle zero accuracy",
          "duration": 7.89555299999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle perfect accuracy (1.0)",
          "status": "passed",
          "title": "should handle perfect accuracy (1.0)",
          "duration": 0.7314139999999725,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle accuracy > 1.0",
          "status": "passed",
          "title": "should handle accuracy > 1.0",
          "duration": 0.4161060000000134,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle negative accuracy",
          "status": "passed",
          "title": "should handle negative accuracy",
          "duration": 0.4700360000000501,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle zero response time",
          "status": "passed",
          "title": "should handle zero response time",
          "duration": 0.3145279999999957,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle very large response time",
          "status": "passed",
          "title": "should handle very large response time",
          "duration": 0.2634800000000723,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle negative response time",
          "status": "passed",
          "title": "should handle negative response time",
          "duration": 0.2661910000000489,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateShortTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateShortTermScore should handle extreme attention values",
          "status": "passed",
          "title": "should handle extreme attention values",
          "duration": 0.22284700000000157,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateLongTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateLongTermScore should handle all zero inputs",
          "status": "passed",
          "title": "should handle all zero inputs",
          "duration": 0.4933849999999893,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateLongTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateLongTermScore should handle all maximum inputs",
          "status": "passed",
          "title": "should handle all maximum inputs",
          "duration": 0.2200790000000552,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateLongTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateLongTermScore should handle values > 1",
          "status": "passed",
          "title": "should handle values > 1",
          "duration": 0.2331850000000486,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateLongTermScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateLongTermScore should handle negative values",
          "status": "passed",
          "title": "should handle negative values",
          "duration": 0.13418899999999212,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateEfficiencyScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateEfficiencyScore should handle zero WPM",
          "status": "passed",
          "title": "should handle zero WPM",
          "duration": 0.20705500000008215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateEfficiencyScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateEfficiencyScore should handle very high WPM",
          "status": "passed",
          "title": "should handle very high WPM",
          "duration": 0.15915399999994406,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateEfficiencyScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateEfficiencyScore should handle zero cognitive load",
          "status": "passed",
          "title": "should handle zero cognitive load",
          "duration": 0.15775800000005802,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateEfficiencyScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateEfficiencyScore should handle cognitive load = 1",
          "status": "passed",
          "title": "should handle cognitive load = 1",
          "duration": 0.14460400000007212,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateEfficiencyScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateEfficiencyScore should handle cognitive load > 1",
          "status": "passed",
          "title": "should handle cognitive load > 1",
          "duration": 0.12000000000000455,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "extreme input values",
            "calculateEfficiencyScore"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions extreme input values calculateEfficiencyScore should handle negative WPM",
          "status": "passed",
          "title": "should handle negative WPM",
          "duration": 0.15437600000007023,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "aggregation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions aggregation edge cases should handle all scores at 0",
          "status": "passed",
          "title": "should handle all scores at 0",
          "duration": 0.3137260000000879,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "aggregation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions aggregation edge cases should handle one score at 0 and others at 1",
          "status": "passed",
          "title": "should handle one score at 0 and others at 1",
          "duration": 0.19319899999993595,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "aggregation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions aggregation edge cases should handle very small weights",
          "status": "passed",
          "title": "should handle very small weights",
          "duration": 0.6229260000000068,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "aggregation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions aggregation edge cases should handle one weight being 1 and others 0",
          "status": "passed",
          "title": "should handle one weight being 1 and others 0",
          "duration": 0.2831579999999576,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "aggregation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions aggregation edge cases should handle negative scores",
          "status": "passed",
          "title": "should handle negative scores",
          "duration": 0.2023060000000214,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "constraint checking edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions constraint checking edge cases should handle exactly at constraint boundary",
          "status": "passed",
          "title": "should handle exactly at constraint boundary",
          "duration": 0.332004999999981,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "constraint checking edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions constraint checking edge cases should handle zero session time",
          "status": "passed",
          "title": "should handle zero session time",
          "duration": 0.16853100000002996,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "constraint checking edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions constraint checking edge cases should handle negative session time",
          "status": "passed",
          "title": "should handle negative session time",
          "duration": 0.13778200000001561,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "constraint checking edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions constraint checking edge cases should handle undefined constraints",
          "status": "passed",
          "title": "should handle undefined constraints",
          "duration": 0.1789529999999786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "constraint checking edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions constraint checking edge cases should report all violations when multiple constraints fail",
          "status": "passed",
          "title": "should report all violations when multiple constraints fail",
          "duration": 0.22877500000004147,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight validation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight validation edge cases should handle weights summing to exactly 1",
          "status": "passed",
          "title": "should handle weights summing to exactly 1",
          "duration": 0.1758670000000393,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight validation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight validation edge cases should handle weights summing to 0",
          "status": "passed",
          "title": "should handle weights summing to 0",
          "duration": 0.11950400000000627,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight validation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight validation edge cases should handle negative weights",
          "status": "passed",
          "title": "should handle negative weights",
          "duration": 0.1175109999999222,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight validation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight validation edge cases should handle very small weights that sum close to 1",
          "status": "passed",
          "title": "should handle very small weights that sum close to 1",
          "duration": 0.11510599999996884,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight normalization edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight normalization edge cases should handle all zero weights by returning equal distribution",
          "status": "passed",
          "title": "should handle all zero weights by returning equal distribution",
          "duration": 0.2851590000000215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight normalization edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight normalization edge cases should handle negative weights in normalization",
          "status": "passed",
          "title": "should handle negative weights in normalization",
          "duration": 0.16297700000006898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight normalization edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight normalization edge cases should handle very large weights",
          "status": "passed",
          "title": "should handle very large weights",
          "duration": 0.13768199999992703,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "weight normalization edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions weight normalization edge cases should preserve relative proportions after normalization",
          "status": "passed",
          "title": "should preserve relative proportions after normalization",
          "duration": 0.12836600000002818,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "strategy evaluation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions strategy evaluation edge cases should handle all metrics at 0",
          "status": "passed",
          "title": "should handle all metrics at 0",
          "duration": 0.39511899999990874,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "strategy evaluation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions strategy evaluation edge cases should handle all metrics at 1",
          "status": "passed",
          "title": "should handle all metrics at 1",
          "duration": 0.24582199999997556,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "strategy evaluation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions strategy evaluation edge cases should suggest adjustments for borderline poor performance",
          "status": "passed",
          "title": "should suggest adjustments for borderline poor performance",
          "duration": 0.16200399999991077,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "strategy evaluation edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions strategy evaluation edge cases should include timestamp in metrics",
          "status": "passed",
          "title": "should include timestamp in metrics",
          "duration": 0.26099600000009104,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "preset mode edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions preset mode edge cases should return valid config for all preset modes",
          "status": "passed",
          "title": "should return valid config for all preset modes",
          "duration": 0.7614520000000766,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": [
            "MultiObjectiveOptimizer - Boundary Conditions",
            "preset mode edge cases"
          ],
          "fullName": "MultiObjectiveOptimizer - Boundary Conditions preset mode edge cases should have different primary objectives for different modes",
          "status": "passed",
          "title": "should have different primary objectives for different modes",
          "duration": 0.19767500000000382,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615909635,
      "endTime": 1765615909655.1978,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/optimization/multi-objective-optimizer-boundary.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should return exam mode configuration",
          "status": "passed",
          "title": "should return exam mode configuration",
          "duration": 1.598261999999977,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should return daily mode configuration",
          "status": "passed",
          "title": "should return daily mode configuration",
          "duration": 0.51246900000001,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should return travel mode configuration",
          "status": "passed",
          "title": "should return travel mode configuration",
          "duration": 0.3675910000000613,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should return custom mode configuration",
          "status": "passed",
          "title": "should return custom mode configuration",
          "duration": 0.41037199999993845,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should have valid weights for exam mode",
          "status": "passed",
          "title": "should have valid weights for exam mode",
          "duration": 0.18007799999998042,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should have valid weights for daily mode",
          "status": "passed",
          "title": "should have valid weights for daily mode",
          "duration": 0.26121100000000297,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should have valid weights for travel mode",
          "status": "passed",
          "title": "should have valid weights for travel mode",
          "duration": 0.13239900000007765,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "getPresetMode"],
          "fullName": "MultiObjectiveOptimizer getPresetMode should have valid weights for custom mode",
          "status": "passed",
          "title": "should have valid weights for custom mode",
          "duration": 0.12262700000007953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateShortTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateShortTermScore should return score based on accuracy and response time",
          "status": "passed",
          "title": "should return score based on accuracy and response time",
          "duration": 0.5131789999999228,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateShortTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateShortTermScore should give higher score for faster response",
          "status": "passed",
          "title": "should give higher score for faster response",
          "duration": 4.9013689999999315,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateShortTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateShortTermScore should give higher score for higher accuracy",
          "status": "passed",
          "title": "should give higher score for higher accuracy",
          "duration": 1.3483170000000655,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateShortTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateShortTermScore should include attention bonus",
          "status": "passed",
          "title": "should include attention bonus",
          "duration": 0.3176260000000184,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateShortTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateShortTermScore should cap score at 1.0",
          "status": "passed",
          "title": "should cap score at 1.0",
          "duration": 0.17955499999993663,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateLongTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateLongTermScore should calculate score based on retention, review success, and stability",
          "status": "passed",
          "title": "should calculate score based on retention, review success, and stability",
          "duration": 0.21403600000007827,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateLongTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateLongTermScore should weight retention most heavily",
          "status": "passed",
          "title": "should weight retention most heavily",
          "duration": 0.16238399999997455,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateLongTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateLongTermScore should cap score at 1.0",
          "status": "passed",
          "title": "should cap score at 1.0",
          "duration": 0.2504260000000613,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateLongTermScore"],
          "fullName": "MultiObjectiveOptimizer calculateLongTermScore should handle zero values",
          "status": "passed",
          "title": "should handle zero values",
          "duration": 0.18225500000005468,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateEfficiencyScore"],
          "fullName": "MultiObjectiveOptimizer calculateEfficiencyScore should calculate score based on WPM, time utilization, and cognitive load",
          "status": "passed",
          "title": "should calculate score based on WPM, time utilization, and cognitive load",
          "duration": 0.23507599999993545,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateEfficiencyScore"],
          "fullName": "MultiObjectiveOptimizer calculateEfficiencyScore should give higher score for higher WPM",
          "status": "passed",
          "title": "should give higher score for higher WPM",
          "duration": 0.13913300000001527,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateEfficiencyScore"],
          "fullName": "MultiObjectiveOptimizer calculateEfficiencyScore should prefer optimal cognitive load around 0.7",
          "status": "passed",
          "title": "should prefer optimal cognitive load around 0.7",
          "duration": 0.17075000000011187,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "calculateEfficiencyScore"],
          "fullName": "MultiObjectiveOptimizer calculateEfficiencyScore should cap score at 1.0",
          "status": "passed",
          "title": "should cap score at 1.0",
          "duration": 0.12495100000001003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "aggregateObjectives"],
          "fullName": "MultiObjectiveOptimizer aggregateObjectives should aggregate using Tchebycheff method",
          "status": "passed",
          "title": "should aggregate using Tchebycheff method",
          "duration": 0.23666300000002138,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "aggregateObjectives"],
          "fullName": "MultiObjectiveOptimizer aggregateObjectives should return 1.0 for perfect scores",
          "status": "passed",
          "title": "should return 1.0 for perfect scores",
          "duration": 0.1023569999999836,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "aggregateObjectives"],
          "fullName": "MultiObjectiveOptimizer aggregateObjectives should return lower score when one objective is poor",
          "status": "passed",
          "title": "should return lower score when one objective is poor",
          "duration": 0.17797299999995175,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "aggregateObjectives"],
          "fullName": "MultiObjectiveOptimizer aggregateObjectives should respect weight priorities",
          "status": "passed",
          "title": "should respect weight priorities",
          "duration": 0.1512680000000728,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "checkConstraints"],
          "fullName": "MultiObjectiveOptimizer checkConstraints should return satisfied when all constraints met",
          "status": "passed",
          "title": "should return satisfied when all constraints met",
          "duration": 0.44655599999998685,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "checkConstraints"],
          "fullName": "MultiObjectiveOptimizer checkConstraints should detect minAccuracy violation",
          "status": "passed",
          "title": "should detect minAccuracy violation",
          "duration": 0.31721300000003794,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "checkConstraints"],
          "fullName": "MultiObjectiveOptimizer checkConstraints should detect maxDailyTime violation",
          "status": "passed",
          "title": "should detect maxDailyTime violation",
          "duration": 0.20475099999998747,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "checkConstraints"],
          "fullName": "MultiObjectiveOptimizer checkConstraints should detect targetRetention violation",
          "status": "passed",
          "title": "should detect targetRetention violation",
          "duration": 0.18945799999994506,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "checkConstraints"],
          "fullName": "MultiObjectiveOptimizer checkConstraints should report multiple violations",
          "status": "passed",
          "title": "should report multiple violations",
          "duration": 0.16190499999993335,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "evaluateStrategy"],
          "fullName": "MultiObjectiveOptimizer evaluateStrategy should return complete evaluation",
          "status": "passed",
          "title": "should return complete evaluation",
          "duration": 0.620001000000002,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "evaluateStrategy"],
          "fullName": "MultiObjectiveOptimizer evaluateStrategy should include aggregated score in metrics",
          "status": "passed",
          "title": "should include aggregated score in metrics",
          "duration": 0.6658140000000685,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "evaluateStrategy"],
          "fullName": "MultiObjectiveOptimizer evaluateStrategy should suggest no adjustments for good performance",
          "status": "passed",
          "title": "should suggest no adjustments for good performance",
          "duration": 0.3998860000000377,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "evaluateStrategy"],
          "fullName": "MultiObjectiveOptimizer evaluateStrategy should suggest adjustments for poor performance",
          "status": "passed",
          "title": "should suggest adjustments for poor performance",
          "duration": 0.837605999999937,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "evaluateStrategy"],
          "fullName": "MultiObjectiveOptimizer evaluateStrategy should suggest easier difficulty for low short-term score",
          "status": "passed",
          "title": "should suggest easier difficulty for low short-term score",
          "duration": 0.38484200000004876,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "evaluateStrategy"],
          "fullName": "MultiObjectiveOptimizer evaluateStrategy should suggest interval adjustment for low long-term score",
          "status": "passed",
          "title": "should suggest interval adjustment for low long-term score",
          "duration": 0.3257449999999835,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "validateWeights"],
          "fullName": "MultiObjectiveOptimizer validateWeights should return true for valid weights summing to 1",
          "status": "passed",
          "title": "should return true for valid weights summing to 1",
          "duration": 0.2760530000000472,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "validateWeights"],
          "fullName": "MultiObjectiveOptimizer validateWeights should return false for weights not summing to 1",
          "status": "passed",
          "title": "should return false for weights not summing to 1",
          "duration": 0.12875899999994544,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "validateWeights"],
          "fullName": "MultiObjectiveOptimizer validateWeights should allow small tolerance",
          "status": "passed",
          "title": "should allow small tolerance",
          "duration": 0.12022600000000239,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "normalizeWeights"],
          "fullName": "MultiObjectiveOptimizer normalizeWeights should return same weights if already normalized",
          "status": "passed",
          "title": "should return same weights if already normalized",
          "duration": 0.27088400000002366,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "normalizeWeights"],
          "fullName": "MultiObjectiveOptimizer normalizeWeights should normalize weights that sum to more than 1",
          "status": "passed",
          "title": "should normalize weights that sum to more than 1",
          "duration": 0.14513299999998708,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "normalizeWeights"],
          "fullName": "MultiObjectiveOptimizer normalizeWeights should normalize weights that sum to less than 1",
          "status": "passed",
          "title": "should normalize weights that sum to less than 1",
          "duration": 0.1320299999999861,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "normalizeWeights"],
          "fullName": "MultiObjectiveOptimizer normalizeWeights should handle zero weights by using equal distribution",
          "status": "passed",
          "title": "should handle zero weights by using equal distribution",
          "duration": 0.24959999999998672,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["MultiObjectiveOptimizer", "normalizeWeights"],
          "fullName": "MultiObjectiveOptimizer normalizeWeights should preserve relative weight proportions",
          "status": "passed",
          "title": "should preserve relative weight proportions",
          "duration": 0.15561499999989792,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615914232,
      "endTime": 1765615914253.2495,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/optimization/multi-objective-optimizer.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should route linucb_select task correctly",
          "status": "passed",
          "title": "should route linucb_select task correctly",
          "duration": 3.8727190000000746,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should route linucb_update task correctly",
          "status": "passed",
          "title": "should route linucb_update task correctly",
          "duration": 2.049562000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should route bayesian_suggest task correctly",
          "status": "passed",
          "title": "should route bayesian_suggest task correctly",
          "duration": 3.0133200000000215,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should route bayesian_optimize task correctly",
          "status": "passed",
          "title": "should route bayesian_optimize task correctly",
          "duration": 2.5783519999999953,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should route cholesky_decompose task correctly",
          "status": "passed",
          "title": "should route cholesky_decompose task correctly",
          "duration": 0.6363659999999527,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should route cholesky_rank1_update task correctly",
          "status": "passed",
          "title": "should route cholesky_rank1_update task correctly",
          "duration": 1.850323000000003,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Worker Entry Function Routing"],
          "fullName": "ComputeWorker Worker Entry Function Routing should throw error for unknown task type",
          "status": "passed",
          "title": "should throw error for unknown task type",
          "duration": 4.107424000000037,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Selection"],
          "fullName": "ComputeWorker LinUCB Selection should select action with highest UCB score",
          "status": "passed",
          "title": "should select action with highest UCB score",
          "duration": 0.5936519999999064,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Selection"],
          "fullName": "ComputeWorker LinUCB Selection should compute valid confidence values",
          "status": "passed",
          "title": "should compute valid confidence values",
          "duration": 0.8520570000000589,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Selection"],
          "fullName": "ComputeWorker LinUCB Selection should handle single feature vector",
          "status": "passed",
          "title": "should handle single feature vector",
          "duration": 0.5048899999999321,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Selection"],
          "fullName": "ComputeWorker LinUCB Selection should handle high-dimensional feature space",
          "status": "passed",
          "title": "should handle high-dimensional feature space",
          "duration": 0.49989400000004025,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Selection"],
          "fullName": "ComputeWorker LinUCB Selection should use alpha to balance exploration and exploitation",
          "status": "passed",
          "title": "should use alpha to balance exploration and exploitation",
          "duration": 0.29452500000002146,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should update A matrix with outer product",
          "status": "passed",
          "title": "should update A matrix with outer product",
          "duration": 0.861411999999973,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should update b vector with reward",
          "status": "passed",
          "title": "should update b vector with reward",
          "duration": 0.3012820000000147,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should update Cholesky factor L",
          "status": "passed",
          "title": "should update Cholesky factor L",
          "duration": 0.4436800000000858,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should handle negative reward",
          "status": "passed",
          "title": "should handle negative reward",
          "duration": 0.33576800000003004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should handle zero feature vector gracefully",
          "status": "passed",
          "title": "should handle zero feature vector gracefully",
          "duration": 0.695660000000089,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should return failure for invalid feature vector",
          "status": "passed",
          "title": "should return failure for invalid feature vector",
          "duration": 1.614404000000036,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "LinUCB Update"],
          "fullName": "ComputeWorker LinUCB Update should maintain numerical stability with small lambda",
          "status": "passed",
          "title": "should maintain numerical stability with small lambda",
          "duration": 0.7572250000000622,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Bayesian Optimization Suggest"],
          "fullName": "ComputeWorker Bayesian Optimization Suggest should return random sample when observations < 2",
          "status": "passed",
          "title": "should return random sample when observations < 2",
          "duration": 0.7306449999999813,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Bayesian Optimization Suggest"],
          "fullName": "ComputeWorker Bayesian Optimization Suggest should respect parameter bounds",
          "status": "passed",
          "title": "should respect parameter bounds",
          "duration": 0.9799500000000307,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Bayesian Optimization Suggest"],
          "fullName": "ComputeWorker Bayesian Optimization Suggest should apply step discretization",
          "status": "passed",
          "title": "should apply step discretization",
          "duration": 1.797772000000009,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Bayesian Optimization Suggest"],
          "fullName": "ComputeWorker Bayesian Optimization Suggest should handle multi-dimensional parameter space",
          "status": "passed",
          "title": "should handle multi-dimensional parameter space",
          "duration": 3.6609730000000127,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Bayesian Optimization Suggest"],
          "fullName": "ComputeWorker Bayesian Optimization Suggest should compute positive acquisition value",
          "status": "passed",
          "title": "should compute positive acquisition value",
          "duration": 0.8743500000000495,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Bayesian Optimization Suggest"],
          "fullName": "ComputeWorker Bayesian Optimization Suggest should explore regions with high uncertainty",
          "status": "passed",
          "title": "should explore regions with high uncertainty",
          "duration": 1.8576839999999493,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Decomposition"],
          "fullName": "ComputeWorker Cholesky Decomposition should decompose identity matrix",
          "status": "passed",
          "title": "should decompose identity matrix",
          "duration": 1.0794540000000552,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Decomposition"],
          "fullName": "ComputeWorker Cholesky Decomposition should decompose positive definite matrix",
          "status": "passed",
          "title": "should decompose positive definite matrix",
          "duration": 2.255745999999931,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Decomposition"],
          "fullName": "ComputeWorker Cholesky Decomposition should handle regularization for near-singular matrix",
          "status": "passed",
          "title": "should handle regularization for near-singular matrix",
          "duration": 0.6147410000000946,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Decomposition"],
          "fullName": "ComputeWorker Cholesky Decomposition should produce lower triangular matrix",
          "status": "passed",
          "title": "should produce lower triangular matrix",
          "duration": 0.6428359999999884,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Decomposition"],
          "fullName": "ComputeWorker Cholesky Decomposition should handle high-dimensional matrix",
          "status": "passed",
          "title": "should handle high-dimensional matrix",
          "duration": 0.6535069999999905,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Rank-1 Update"],
          "fullName": "ComputeWorker Cholesky Rank-1 Update should successfully update valid Cholesky factor",
          "status": "passed",
          "title": "should successfully update valid Cholesky factor",
          "duration": 0.4490089999999327,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Rank-1 Update"],
          "fullName": "ComputeWorker Cholesky Rank-1 Update should maintain positive diagonal elements",
          "status": "passed",
          "title": "should maintain positive diagonal elements",
          "duration": 0.4421060000000807,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Rank-1 Update"],
          "fullName": "ComputeWorker Cholesky Rank-1 Update should handle zero update vector",
          "status": "passed",
          "title": "should handle zero update vector",
          "duration": 0.3240010000000666,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Rank-1 Update"],
          "fullName": "ComputeWorker Cholesky Rank-1 Update should fail for numerically unstable update",
          "status": "passed",
          "title": "should fail for numerically unstable update",
          "duration": 0.20513499999992746,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Rank-1 Update"],
          "fullName": "ComputeWorker Cholesky Rank-1 Update should use default minDiag when not provided",
          "status": "passed",
          "title": "should use default minDiag when not provided",
          "duration": 0.20856099999991784,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Cholesky Rank-1 Update"],
          "fullName": "ComputeWorker Cholesky Rank-1 Update should produce finite results",
          "status": "passed",
          "title": "should produce finite results",
          "duration": 0.23812599999996564,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Numerical Stability"],
          "fullName": "ComputeWorker Numerical Stability should handle very small values",
          "status": "passed",
          "title": "should handle very small values",
          "duration": 4.7907370000000356,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Numerical Stability"],
          "fullName": "ComputeWorker Numerical Stability should handle very large values without overflow",
          "status": "passed",
          "title": "should handle very large values without overflow",
          "duration": 0.41561300000000756,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Numerical Stability"],
          "fullName": "ComputeWorker Numerical Stability should handle asymmetric matrix by symmetrization",
          "status": "passed",
          "title": "should handle asymmetric matrix by symmetrization",
          "duration": 0.34121300000003885,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Numerical Stability"],
          "fullName": "ComputeWorker Numerical Stability should clamp values to prevent numerical issues",
          "status": "passed",
          "title": "should clamp values to prevent numerical issues",
          "duration": 0.677045000000021,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Edge Cases"],
          "fullName": "ComputeWorker Edge Cases should handle dimension 1",
          "status": "passed",
          "title": "should handle dimension 1",
          "duration": 2.5198970000000145,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Edge Cases"],
          "fullName": "ComputeWorker Edge Cases should handle many feature vectors",
          "status": "passed",
          "title": "should handle many feature vectors",
          "duration": 0.9097459999999273,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Edge Cases"],
          "fullName": "ComputeWorker Edge Cases should handle empty observations gracefully",
          "status": "passed",
          "title": "should handle empty observations gracefully",
          "duration": 0.43198800000004667,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputeWorker", "Edge Cases"],
          "fullName": "ComputeWorker Edge Cases should handle single observation",
          "status": "passed",
          "title": "should handle single observation",
          "duration": 0.5383269999999811,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615908908,
      "endTime": 1765615908964.5383,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/workers/compute.worker.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["ComputePool", "Singleton Pattern"],
          "fullName": "ComputePool Singleton Pattern should return same instance on multiple calls",
          "status": "passed",
          "title": "should return same instance on multiple calls",
          "duration": 18.06260199999997,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Singleton Pattern"],
          "fullName": "ComputePool Singleton Pattern should initialize pool lazily",
          "status": "passed",
          "title": "should initialize pool lazily",
          "duration": 4.917904000000021,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Singleton Pattern"],
          "fullName": "ComputePool Singleton Pattern should only apply config on first initialization",
          "status": "passed",
          "title": "should only apply config on first initialization",
          "duration": 5.402533000000005,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Initialization"],
          "fullName": "ComputePool Pool Initialization should initialize with valid configuration",
          "status": "passed",
          "title": "should initialize with valid configuration",
          "duration": 3.6760229999999865,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Initialization"],
          "fullName": "ComputePool Pool Initialization should apply custom config",
          "status": "passed",
          "title": "should apply custom config",
          "duration": 4.159468000000004,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Initialization"],
          "fullName": "ComputePool Pool Initialization should log initialization",
          "status": "passed",
          "title": "should log initialization",
          "duration": 14.821745999999962,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Destruction"],
          "fullName": "ComputePool Pool Destruction should destroy pool and reset state",
          "status": "passed",
          "title": "should destroy pool and reset state",
          "duration": 3.540273999999954,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Destruction"],
          "fullName": "ComputePool Pool Destruction should log destruction",
          "status": "passed",
          "title": "should log destruction",
          "duration": 3.3866129999999544,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Destruction"],
          "fullName": "ComputePool Pool Destruction should handle destroy when pool not initialized",
          "status": "passed",
          "title": "should handle destroy when pool not initialized",
          "duration": 4.556954000000019,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Destruction"],
          "fullName": "ComputePool Pool Destruction should allow re-initialization after destruction",
          "status": "passed",
          "title": "should allow re-initialization after destruction",
          "duration": 4.03222599999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Status Check"],
          "fullName": "ComputePool Pool Status Check should return false when not initialized",
          "status": "passed",
          "title": "should return false when not initialized",
          "duration": 1.6998250000000326,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Status Check"],
          "fullName": "ComputePool Pool Status Check should return true after initialization",
          "status": "passed",
          "title": "should return true after initialization",
          "duration": 2.1025790000001052,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Status Check"],
          "fullName": "ComputePool Pool Status Check should return false after destruction",
          "status": "passed",
          "title": "should return false after destruction",
          "duration": 2.267229999999927,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Statistics"],
          "fullName": "ComputePool Pool Statistics should return empty stats when pool not initialized",
          "status": "passed",
          "title": "should return empty stats when pool not initialized",
          "duration": 5.704821000000038,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Statistics"],
          "fullName": "ComputePool Pool Statistics should return pool stats when initialized",
          "status": "passed",
          "title": "should return pool stats when initialized",
          "duration": 2.425163999999995,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Pool Statistics"],
          "fullName": "ComputePool Pool Statistics should calculate running tasks from utilization",
          "status": "passed",
          "title": "should calculate running tasks from utilization",
          "duration": 2.298811999999998,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Task Execution"],
          "fullName": "ComputePool Task Execution should execute task through pool",
          "status": "passed",
          "title": "should execute task through pool",
          "duration": 3.6167619999999943,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Task Execution"],
          "fullName": "ComputePool Task Execution should log and rethrow error on task failure",
          "status": "passed",
          "title": "should log and rethrow error on task failure",
          "duration": 8.476733000000081,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Task Execution"],
          "fullName": "ComputePool Task Execution should handle timeout",
          "status": "passed",
          "title": "should handle timeout",
          "duration": 2.874409999999898,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Convenience Methods", "runLinUCBSelect"],
          "fullName": "ComputePool Convenience Methods runLinUCBSelect should run linucb_select task",
          "status": "passed",
          "title": "should run linucb_select task",
          "duration": 3.4750099999999975,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Convenience Methods", "runLinUCBUpdate"],
          "fullName": "ComputePool Convenience Methods runLinUCBUpdate should run linucb_update task",
          "status": "passed",
          "title": "should run linucb_update task",
          "duration": 2.383126000000061,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Convenience Methods", "runBayesianSuggest"],
          "fullName": "ComputePool Convenience Methods runBayesianSuggest should run bayesian_suggest task",
          "status": "passed",
          "title": "should run bayesian_suggest task",
          "duration": 4.0425370000000385,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Convenience Methods", "runCholeskyDecompose"],
          "fullName": "ComputePool Convenience Methods runCholeskyDecompose should run cholesky_decompose task",
          "status": "passed",
          "title": "should run cholesky_decompose task",
          "duration": 3.354927000000089,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Convenience Methods", "runCholeskyRank1Update"],
          "fullName": "ComputePool Convenience Methods runCholeskyRank1Update should run cholesky_rank1_update task",
          "status": "passed",
          "title": "should run cholesky_rank1_update task",
          "duration": 3.0024989999999434,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Concurrency"],
          "fullName": "ComputePool Concurrency should handle multiple concurrent tasks",
          "status": "passed",
          "title": "should handle multiple concurrent tasks",
          "duration": 2.9700990000000047,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Concurrency"],
          "fullName": "ComputePool Concurrency should handle mixed task types concurrently",
          "status": "passed",
          "title": "should handle mixed task types concurrently",
          "duration": 3.473167999999987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Error Handling"],
          "fullName": "ComputePool Error Handling should propagate task execution errors",
          "status": "passed",
          "title": "should propagate task execution errors",
          "duration": 3.2655150000000503,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Error Handling"],
          "fullName": "ComputePool Error Handling should log task type on error",
          "status": "passed",
          "title": "should log task type on error",
          "duration": 2.7949720000000298,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Error Handling"],
          "fullName": "ComputePool Error Handling should handle abort signal timeout",
          "status": "passed",
          "title": "should handle abort signal timeout",
          "duration": 2.8764019999999846,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Type Safety"],
          "fullName": "ComputePool Type Safety should return correctly typed LinUCBSelectResult",
          "status": "passed",
          "title": "should return correctly typed LinUCBSelectResult",
          "duration": 2.1927179999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Type Safety"],
          "fullName": "ComputePool Type Safety should return correctly typed LinUCBUpdateResult",
          "status": "passed",
          "title": "should return correctly typed LinUCBUpdateResult",
          "duration": 2.019792000000052,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Type Safety"],
          "fullName": "ComputePool Type Safety should return correctly typed BayesianSuggestResult",
          "status": "passed",
          "title": "should return correctly typed BayesianSuggestResult",
          "duration": 2.140186999999969,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Type Safety"],
          "fullName": "ComputePool Type Safety should return correctly typed CholeskyDecomposeResult",
          "status": "passed",
          "title": "should return correctly typed CholeskyDecomposeResult",
          "duration": 5.674576999999999,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["ComputePool", "Type Safety"],
          "fullName": "ComputePool Type Safety should return correctly typed CholeskyRank1UpdateResult",
          "status": "passed",
          "title": "should return correctly typed CholeskyRank1UpdateResult",
          "duration": 3.6179750000000013,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615904216,
      "endTime": 1765615904363.618,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/workers/pool.test.ts"
    },
    {
      "assertionResults": [
        {
          "ancestorTitles": ["WordMemoryTracker", "recordReview"],
          "fullName": "WordMemoryTracker recordReview should record a review event to database",
          "status": "passed",
          "title": "should record a review event to database",
          "duration": 10.706508999999983,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "recordReview"],
          "fullName": "WordMemoryTracker recordReview should record incorrect review event",
          "status": "passed",
          "title": "should record incorrect review event",
          "duration": 6.5101190000000315,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "recordReview"],
          "fullName": "WordMemoryTracker recordReview should convert timestamp to Date object",
          "status": "passed",
          "title": "should convert timestamp to Date object",
          "duration": 2.765299999999911,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchRecordReview"],
          "fullName": "WordMemoryTracker batchRecordReview should batch record multiple review events",
          "status": "passed",
          "title": "should batch record multiple review events",
          "duration": 4.577372999999966,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchRecordReview"],
          "fullName": "WordMemoryTracker batchRecordReview should handle empty events array",
          "status": "passed",
          "title": "should handle empty events array",
          "duration": 1.9012630000000854,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getReviewTrace"],
          "fullName": "WordMemoryTracker getReviewTrace should retrieve review trace for a word",
          "status": "passed",
          "title": "should retrieve review trace for a word",
          "duration": 2.3562799999999697,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getReviewTrace"],
          "fullName": "WordMemoryTracker getReviewTrace should respect custom limit parameter",
          "status": "passed",
          "title": "should respect custom limit parameter",
          "duration": 0.5073669999999311,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getReviewTrace"],
          "fullName": "WordMemoryTracker getReviewTrace should cap limit at MAX_TRACE_LIMIT (100)",
          "status": "passed",
          "title": "should cap limit at MAX_TRACE_LIMIT (100)",
          "duration": 0.33173600000009174,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getReviewTrace"],
          "fullName": "WordMemoryTracker getReviewTrace should enforce minimum limit of 1",
          "status": "passed",
          "title": "should enforce minimum limit of 1",
          "duration": 0.7522899999999026,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getReviewTrace"],
          "fullName": "WordMemoryTracker getReviewTrace should calculate secondsAgo correctly",
          "status": "passed",
          "title": "should calculate secondsAgo correctly",
          "duration": 0.5555689999999913,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getReviewTrace"],
          "fullName": "WordMemoryTracker getReviewTrace should return empty array when no records exist",
          "status": "passed",
          "title": "should return empty array when no records exist",
          "duration": 0.26975000000004457,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchGetMemoryState"],
          "fullName": "WordMemoryTracker batchGetMemoryState should return empty map for empty wordIds",
          "status": "passed",
          "title": "should return empty map for empty wordIds",
          "duration": 0.5284450000000334,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchGetMemoryState"],
          "fullName": "WordMemoryTracker batchGetMemoryState should batch fetch memory states for multiple words",
          "status": "passed",
          "title": "should batch fetch memory states for multiple words",
          "duration": 2.384979000000044,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchGetMemoryState"],
          "fullName": "WordMemoryTracker batchGetMemoryState should include words with no records in result",
          "status": "passed",
          "title": "should include words with no records in result",
          "duration": 3.6632789999999886,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchGetMemoryState"],
          "fullName": "WordMemoryTracker batchGetMemoryState should limit trace to MAX_TRACE_LIMIT per word",
          "status": "passed",
          "title": "should limit trace to MAX_TRACE_LIMIT per word",
          "duration": 1.009751999999935,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchGetMemoryState"],
          "fullName": "WordMemoryTracker batchGetMemoryState should calculate lastReviewTs correctly",
          "status": "passed",
          "title": "should calculate lastReviewTs correctly",
          "duration": 0.44616500000006454,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "batchGetMemoryState"],
          "fullName": "WordMemoryTracker batchGetMemoryState should convert timestamps to ReviewTrace format",
          "status": "passed",
          "title": "should convert timestamps to ReviewTrace format",
          "duration": 0.49035300000002735,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getUserReviewStats"],
          "fullName": "WordMemoryTracker getUserReviewStats should return user review statistics",
          "status": "passed",
          "title": "should return user review statistics",
          "duration": 0.33905000000004293,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getUserReviewStats"],
          "fullName": "WordMemoryTracker getUserReviewStats should handle user with no reviews",
          "status": "passed",
          "title": "should handle user with no reviews",
          "duration": 0.25003800000001775,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "getUserReviewStats"],
          "fullName": "WordMemoryTracker getUserReviewStats should call prisma with correct userId filter",
          "status": "passed",
          "title": "should call prisma with correct userId filter",
          "duration": 0.6039799999999786,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "cleanupOldRecords"],
          "fullName": "WordMemoryTracker cleanupOldRecords should delete records older than specified time",
          "status": "passed",
          "title": "should delete records older than specified time",
          "duration": 0.6899019999999609,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "cleanupOldRecords"],
          "fullName": "WordMemoryTracker cleanupOldRecords should return 0 when no records to delete",
          "status": "passed",
          "title": "should return 0 when no records to delete",
          "duration": 0.20460499999990134,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "cleanupOldRecords"],
          "fullName": "WordMemoryTracker cleanupOldRecords should calculate cutoff date correctly",
          "status": "passed",
          "title": "should calculate cutoff date correctly",
          "duration": 0.18408799999997427,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "trimWordRecords"],
          "fullName": "WordMemoryTracker trimWordRecords should keep most recent records and delete older ones",
          "status": "passed",
          "title": "should keep most recent records and delete older ones",
          "duration": 0.5416259999999511,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "trimWordRecords"],
          "fullName": "WordMemoryTracker trimWordRecords should use default MAX_TRACE_LIMIT when maxRecords not specified",
          "status": "passed",
          "title": "should use default MAX_TRACE_LIMIT when maxRecords not specified",
          "duration": 0.3666440000000648,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "trimWordRecords"],
          "fullName": "WordMemoryTracker trimWordRecords should return 0 when no records exist for word",
          "status": "passed",
          "title": "should return 0 when no records exist for word",
          "duration": 0.37249400000007427,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "trimWordRecords"],
          "fullName": "WordMemoryTracker trimWordRecords should return 0 when record count is within limit",
          "status": "passed",
          "title": "should return 0 when record count is within limit",
          "duration": 0.20962999999994736,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "edge cases"],
          "fullName": "WordMemoryTracker edge cases should handle database errors gracefully in recordReview",
          "status": "passed",
          "title": "should handle database errors gracefully in recordReview",
          "duration": 6.673828999999955,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "edge cases"],
          "fullName": "WordMemoryTracker edge cases should handle concurrent batch operations",
          "status": "passed",
          "title": "should handle concurrent batch operations",
          "duration": 0.4860329999999067,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "edge cases"],
          "fullName": "WordMemoryTracker edge cases should handle very large batch in batchGetMemoryState",
          "status": "passed",
          "title": "should handle very large batch in batchGetMemoryState",
          "duration": 10.712639000000081,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "edge cases"],
          "fullName": "WordMemoryTracker edge cases should handle negative limit in getReviewTrace",
          "status": "passed",
          "title": "should handle negative limit in getReviewTrace",
          "duration": 0.4750300000000607,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "workflow integration"],
          "fullName": "WordMemoryTracker workflow integration should support typical review workflow",
          "status": "passed",
          "title": "should support typical review workflow",
          "duration": 0.43110200000000987,
          "failureMessages": [],
          "meta": {}
        },
        {
          "ancestorTitles": ["WordMemoryTracker", "workflow integration"],
          "fullName": "WordMemoryTracker workflow integration should support batch memory state retrieval for scheduling",
          "status": "passed",
          "title": "should support batch memory state retrieval for scheduling",
          "duration": 0.3852519999999231,
          "failureMessages": [],
          "meta": {}
        }
      ],
      "startTime": 1765615911356,
      "endTime": 1765615911420.4312,
      "status": "passed",
      "message": "",
      "name": "/home/liji/danci/danci/packages/backend/tests/unit/amas/tracking/word-memory-tracker.test.ts"
    }
  ]
}
