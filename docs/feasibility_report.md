# G3 动画曲线网页实现可行性报告

## 1. 概述
本报告旨在评估在网页前端（Web）环境中实现“G3 连续性”动画曲线的可行性。G3 连续性（G3 Continuity）通常用于高端工业设计（如汽车曲面），代表曲率变化率（Jerk/加加速度）的平滑连续。在 UI 动画中，它意味着极度平滑、自然、无“机械感”的运动体验，类似于小米 HyperOS/MIUI 所强调的“自然触感”。

## 2. 核心概念解析
*   **G0 (位置连续)**: 曲线首尾相连。
*   **G1 (切线连续)**: 连接处切线方向相同（速度方向无突变）。
*   **G2 (曲率连续)**: 连接处曲率相同（加速度无突变）。
*   **G3 (曲率变化率连续)**: 连接处曲率的变化率相同（加加速度/Jerk 无突变）。

**结论**: 标准的 CSS `cubic-bezier` (三次贝塞尔曲线) 数学上只能保证到 G2 级别的连续性（在端点处通常甚至只有 G1，取决于控制点）。要实现真正的 G3，需要更高阶的数学模型或物理模拟。

## 3. 技术可行性分析

### 3.1 CSS Transition/Animation (Cubic Bezier)
*   **原理**: 使用 `cubic-bezier(x1, y1, x2, y2)` 定义时间-进度曲线。
*   **局限**: 只有两个控制点，无法精确描述复杂的 G3 运动轨迹。虽然可以调整出“视觉上接近”的效果，但数学上达不到 G3 标准。
*   **可行性**: **中**。适合大多数常规场景，通过精细调参（如 HyperOS 的 `DefaultParabolaScrollEasing` 近似参数）可以获得极佳手感，但非严格 G3。

### 3.2 CSS Linear() Easing (现代浏览器)
*   **原理**: `linear(0, 0.25 25%, 1 100%)` 允许通过一系列点模拟任意复杂曲线。
*   **优势**: 可以将高阶 G3 曲线预计算为一系列密集点，通过 `linear()` 近似实现。
*   **局限**: 兼容性要求较高（较新浏览器），且需要预先生成数据点。
*   **可行性**: **高**。这是目前 CSS 原生实现复杂非贝塞尔曲线的最佳方案。

### 3.3 JavaScript 物理引擎 (Spring Physics)
*   **原理**: 使用弹簧物理公式（质量、刚度、阻尼）实时计算位置。
*   **优势**: 物理模拟天然具有连续性，弹簧运动通常是二阶微分方程，能产生极其自然的加减速，视觉体验往往优于预设曲线，且能动态响应用户交互（中断、重定向）。
*   **可行性**: **极高**。这是实现“高端手感”的主流方案（如 React Spring, Framer Motion, Apple 的流体接口）。

### 3.4 WebGL / Canvas / SVG
*   **原理**: 完全自定义绘制和逐帧计算。
*   **优势**: 理论上可以实现任何数学定义的曲线。
*   **局限**: 开发成本高，通常用于特定图形而非通用 UI 布局动画。

## 4. 性能评估
*   **CSS 方案**: 运行在合成线程（Compositor Thread），性能最好，无卡顿。
*   **JS 方案**: 运行在主线程（Main Thread），若计算量大或主线程阻塞可能掉帧。但现代库（如 GSAP, Motion One）已高度优化，且可利用 WAAPI (Web Animations API) 加速。

## 5. 结论与建议
虽然 Web 标准 CSS 贝塞尔曲线无法数学上严格定义 G3 曲线，但**完全可以在视觉和体感上实现 G3 级别的平滑度**。

**推荐方案**:
1.  **静态/预设动画**: 使用 **CSS `linear()` 函数** 配合预计算的 G3 曲线数据点。
2.  **交互/动态动画**: 使用 **JavaScript 弹簧物理 (Spring Physics)**，它能提供比静态曲线更自然的“手感”和连续性。

## 6. 风险提示
*   **兼容性**: `linear()` 需要较新浏览器支持（Chrome 113+, Firefox 112+, Safari 17.2+）。
*   **开发复杂度**: 物理动画调试比贝塞尔曲线直观性差，需要设计工具支持。
